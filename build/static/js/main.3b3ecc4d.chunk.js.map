{"version":3,"sources":["images/roadracerlogo.png","images/mightychickenlogo.png","images/pawsnfind.png","images/auctionbentologo.png","images/skullvalleylogo.png","engine/Input.js","engine/InputManager.js","engine/Scene.js","engine/MathTools.js","engine/Vector3.js","engine/Quaternion.js","engine/Time.js","engine/Physics.js","engine/RigidBody.js","engine/Mesh.js","engine/SkinnedMesh.js","engine/Content.js","engine/GameObject.js","engine/Camera.js","engine/Renderer.js","engine/PostProcessing.js","engine/Vector2.js","engine/Gamepad.js","engine/GamepadManager.js","engine/VehicleManager.js","maingame/Player.js","engine/Audio.js","maingame/Vehicle.js","maingame/InfoStationManager.js","engine/Light.js","engine/Ball.js","maingame/CameraController.js","maingame/MainGame.js","engine/GameEngine.js","components/modal/RoadRacerModal.js","components/modal/MightyChickenModal.js","components/modal/PawsnfindModal.js","components/modal/AuctionBentoModal.js","components/modal/SkullValleyModal.js","components/modal/PortfolioModal.js","stadiumgame/ui/mainmenu.js","stadiumgame/ui/gameui.js","components/MainGameUI/components/GamepadUI.js","components/MainGameUI/MainGameUI.js","components/Game.js","components/Loading.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Input","this","keyDown","Map","keyPressed","key","set","toLowerCase","get","delete","has","clear","SceneManager","scene","THREE","enabledObjects","disabledObjects","screenWidth","screenHeight","aspectRatio","objectLoading","objectLoaded","obj","add","objID","enableObject","enableObjects","update","undefined","ball","cameraController","lateUpdate","render","width","height","color","near","far","fog","density","FOG_TYPE","LINEAR","EXPONENTIAL","Scene","MathTools","v1","v2","Number","EPSILON","value","min","max","minVal","maxVal","from","to","deltaTime","Math","abs","PI","Vector3","x","y","z","sqrt","length","quat","v","d1","Dot","d2","w","vOut","MultiplyScalar","Add","c1","Cross","mag","magnitude","approximate","Ammo","btVector3","scalar","delta","Subtract","dT","change","clampDt","clamp","vec","normalize","cp","angle","atan2","up","Quaternion","euler","scale","Length","rad2Deg","asin","sourcePoint","destPoint","forwardVector","Normalize","dot","forward","Identity","rotAngle","acos","rotAxis","CreateFromAxisAngle","frwd","vector","vector2","vector3","m00","m01","m02","m10","m11","m12","m20","m21","m22","num8","quaternion","num","num7","num4","num6","num3","num5","num2","point","pivot","maxRot","LookRotation","dir","axis","halfAngle","s","sin","q","cos","yaw","deg2Rad","pitch","rollOver2","sinRollOver2","cosRollOver2","pitchOver2","sinPitchOver2","cosPitchOver2","yawOver2","sinYawOver2","cosYawOver2","result","q1","q2","TimeManager","clock","Clock","deltaBuffer","dtBufferIndex","fill","smoothDelta","physicsRate","getDelta","SmoothDelta","GameEngine","frameRate","Infinity","Time","MIN_PHYSICS_RATE","sum","i","PhysicsEngine","collisionConfig","btDefaultCollisionConfiguration","dispatcher","btCollisionDispatcher","broadphase","btDbvtBroadphase","solver","btSequentialImpulseConstraintSolver","world","btDiscreteDynamicsWorld","setGravity","elapsedTime","phsyicsRate","rigidBodies","body","addRigidBody","push","removeRigidBody","radius","shape","btSphereShape","setMargin","boxSize","btBoxShape","normal","btStaticPlaneShape","direction","btCapsuleShape","btCylinderShape","btConeShape","mesh","Promise","resolve","reject","vertsV3","indices","children","forEach","group","hasOwnProperty","index","geometry","array","verts","attributes","position","triMesh","btTriangleMesh","addTriangle","btBvhTriangleMeshShape","stepSimulation","PhysicShapes","SPHERE","BOX","PLANE","CAPSULE","CYLINDER","CONE","Physics","RigidBody","rotation","options","mass","friction","rollingFriction","restitution","isKinematic","active","ragdollActive","btPos","btQuat","btQuaternion","id","uuidv4","cachedbtVec3","transform","btTransform","setIdentity","setOrigin","setRotation","motionState","btDefaultMotionState","localInertia","calculateLocalInertia","ri","btRigidBodyConstructionInfo","btRigidBody","setFriction","setDamping","setCcdMotionThreshold","setCcdSweptSphereRadius","setRestitution","SetKinematic","setMassProps","setCollisionFlags","setActivationState","force","applyCentralForce","to_btVector3","applyCentralImpulse","applyForce","factor","setLinearFactor","linear","angular","setSleepingThresholds","torque","applyTorque","impulse","applyTorqueImpulse","applyImpulse","clearForces","getOrientation","getLinearVelocity","getAngularVelocity","velocity","bodysetLinearVelocity","setAngularVelocity","translate","setValue","getWorldTransform","getMotionState","setWorldTransform","wantsSleeping","state","setMotionState","setAngularFactor","getAngularFactor","isInWorld","constraint","addConstraintRef","constriant","removeConstraintRef","flags","setFlags","getFlags","getLocalInertia","getCollisionShape","collider","setCollisionShape","setRollingFriction","restitiuion","getCollisionFlags","getOrigin","getRotation","Mesh","path","castShadow","receiveShadow","flatShading","culling","mixer","action","meshData","LoadMesh","traverse","child","isMesh","GLTFLoader","load","gltf","material","side","map","anisotropy","doubleSided","error","console","SkinnedMesh","anim","currentAnimation","bones","ragdollActivated","updateScene","loader","timeScale","animation","clip","findByName","stop","clipAction","play","setMass","Content","name","skinnedMesh","recieveShadow","log","model","meshes","then","data","catch","e","sounds","Object","freeze","GameObject","meshPath","zero","LoadModel","a","setPosition","isEnabled","texture","rigidBody","allowUpdate","tag","addGameObject","disableObject","degrees","FromEuler","setQuaternion","btQauternion","rot","newPosition","moveDir","GetPosition","newScale","scaleVector","GetRotation","Euler","Animate","col","Camera","mainCamera","target","controller","fov","aspect","zNear","zFar","pos","translateX","translateY","translateZ","Renderer","renderer","canvas","loopCallback","alpha","antialias","precision","powerPreference","setSize","shadowMap","enabled","type","cullFace","outputEncoding","autoClear","setClearColor","clearAlpha","setAnimationLoop","camera","PostProcessing","composer","EffectComposer","renderPass","RenderPass","getScene","clearColor","addPass","bokeh","bloom","ffxa","fxaa","ShaderPass","FXAAShader","uniforms","BokehPass","focus","aperture","maxblur","UnrealBloomPass","Vector2","subtract","distance","Gamepad","noListener","Buttons","BUTTON_BOTTOM","BUTTON_RIGHT","BUTTON_LEFT","BUTTON_TOP","BUMPER_LEFT","BUMPER_RIGHT","TRIGGER_LEFT","TRIGGER_RIGHT","BUTTON_CONTROL_LEFT","BUTTON_CONTROL_RIGHT","BUTTON_JOYSTICK_LEFT","BUTTON_JOYSTICK_RIGHT","D_PAD_UP","D_PAD_BOTTOM","D_PAD_LEFT","D_PAD_RIGHT","BUTTON_CONTROL_MIDDLE","statusCallback","buttonsDown","buttonsPressed","connected","inputAxisSmoothAmount","leftAxis","rightAxis","rightTriggerValue","leftTriggerValue","gamepad","Gamepads","start","addEventListener","horizontalValue","verticalValue","addButton","removeButton","button","rightTrigger","leftTrigger","VehicleManager","vehicles","distFromVehicle","isReady","ekey","rkey","visible","inRangeVehicle","vehicleInUse","vehicle","player","inUse","vehiclePos","camPos","eKeyPos","lookAt","isUpsideDown","closest","dist","Distance","findInRangeVehicle","updateEKey","updateRKey","Player","btMoveVec3","moveSpeed","playAnimation","ePressed","isKeyPressed","isButtonPressed","useVehicle","leaveVehicle","zMove","xMove","isKeyDown","stick","leftStick","Equals","changeAnimation","Angle","back","movePlayer","moveVec","GetLinearVelocity","setLinearVelocity","Audio","InitAudio","listener","loop","volume","sound","buffer","setBuffer","setLoop","setVolume","setRefDistance","audio","Vehicle","btDownForce","topSpeed","steeringRate","accelRate","breakForce","accelForceFront","accelForceBack","reverse","engineSound","tireSquealSound","enginePitch","centerOfMass","downForce","speed","constantDownforce","downForceVel","LoadSound","bodyModel","parrent","bodyShape","createBoxShape","bodyWidth","bodyHeight","bodyLength","tuning","btVehicleTuning","raycaster","btDefaultVehicleRaycaster","btRaycastVehicle","setCoordinateSystem","addAction","wheelModels","wheelLeftModel","wheelRightModel","wheelInfo","createWheel","frontLeftPos","frontRightPos","backRightPos","backLeftPos","currentAccelFront","currentAccelBack","currentBrakingFront","currentBrakingBack","steeringAngle","addVehicle","front","wheelPos","wheelDir","wheelAxle","wheel","addWheel","suspensionLen","set_m_suspensionStiffness","stiffness","set_m_wheelsDampingRelaxation","damping","set_m_wheelsDampingCompression","compression","frontFriction","backFriction","set_m_frictionSlip","set_m_rollInfluence","roll","isPlaying","isConnected","accel","breaking","moveTowards","panner","setPlaybackRate","setDetune","getNumWheels","updateWheelTransform","tm","getWheelTransformWS","p","vel","getRigidBody","applyEngineForce","setBrake","setSteeringValue","applyDownforce","resetMovementWhenNotInUse","updateInput","updateSound","updateMovement","updateSteering","updateWheels","updateRigidBody","updateSpeed","InfoStationManager","infoStations","activationDistance","stationName","activate","openModal","closestDistance","clearKeys","Light","lightType","LightType","DirectionalLight","intensity","shadowMapWidth","shadowMapHeight","cameraNear","cameraFar","shadowBias","shadowCameraSize","decay","penumbra","light","DIRECTIONAL","createDirectionalLight","POINT","createPointLight","SPOT","createSpotLight","AMBIENT","createAmbientLight","enableShadows","shadow","mapSize","bias","top","bottom","left","right","Ball","createSphereShape","CameraController","offset","fixedCameraMode","locked","followDistance","followHeight","fixedCamera","followCamera","newPos","MoveTowards","SetPosition","rotate","MainGame","Load","createCapsuleShape","ground","createPlaneShape","grass","moundSign","road","createMeshShape","parkinglot","infostation","infostationbase","mightychicken","mightychickensign","addInfoStation","pawsnfind","bentogirl","portfolio","barrier","constructionsign","temple","svlogo","svlogoarrows","templewateredge","templewater","templerock","racetrack","racetrackstart","parkinglotcurb","garage","garagedoor","rrsign","mound","fence","vehicle2","vehicle3","vehicle4","vehicle5","setExpoFog","ambientLight","checkVehicleInRange","InitRenderer","elapsed","isModalOpen","clearButtons","Update","mainGame","fpsTime","fps","document","title","parseFloat","isUsingEffects","Render","Init","requestAnimationFrame","props","isOpen","closeModal","styles","modal","display","flexDirection","image","backgroundImage","roadracerbanner","backgroundPosition","backgroundRepeat","backgroundSize","minWidth","margin","promoText","contentText","linkSection","linkText","closeButton","marginTop","classes","makeStyles","theme","main","backgroundColor","border","boxShadow","shadows","padding","spacing","outline","useStyles","Modal","open","onClose","aria-labelledby","aria-describedby","style","className","href","rel","textDecoration","onClick","mightychickenbanner","pawsnfindBanner","auctionBentoBanner","skullvalleybanner","justifyContent","fontSize","textAlign","buttonGroup","buttons","GamepadUI","setStatus","status","animCount","setState","popup","onAnimationEnd","overflow","zIndex","renderComponent","popin","keyframes","wait","drop","PopUp","styled","span","size","icon","faGamepad","React","Component","MainGameUI","gamepadConnected","currentModal","isLoaded","connectedCallback","window","ScreenResize","setScreenSize","clientWidth","clientHeight","Configure","GetRenderer","Game","clearInput","HandleKeyPress","HandleKeyUp","SetOpenModalCallback","preventDefault","stopPropagation","addKey","removeKey","tabIndex","ref","c","onBlur","RoadRacerModal","MightyChickenModal","PawsnfindModal","AuctionBentoModal","SkullValleyModal","PortfolioModal","openModel","Loading","loading","loaded","clearInterval","loadingInterval","timer","count","loadingCounter","playSound","PlaySoundsMuted","finished","enterClicked","enterWasClicked","fade","background","repeat","fadeOut","Fade","div","Button","renderFade","renderLoading","App","Boolean","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,2C,mBCA3CD,EAAOC,QAAU,IAA0B,+C,mBCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,8C,mBCA3CD,EAAOC,QAAU,IAA0B,6C,8LCEvCC,G,MAAQ,MAEE,OAAVA,IACAA,EAAQ,I,WCJR,aAAe,oBACXC,KAAKC,QAAU,IAAIC,IACnBF,KAAKG,WAAa,IAAID,I,mDAGnBE,GACHJ,KAAKC,QAAQI,IAAID,EAAIE,cAAe,GACW,IAA3CN,KAAKG,WAAWI,IAAIH,EAAIE,gBACxBN,KAAKG,WAAWE,IAAID,EAAIE,cAAe,K,gCAIrCF,GACNJ,KAAKC,QAAQO,OAAOJ,EAAIE,eACxBN,KAAKG,WAAWK,OAAOJ,EAAIE,iB,gCAGrBF,GACN,OAAOJ,KAAKC,QAAQQ,IAAIL,EAAIE,iB,mCAGnBF,GACT,SAAIJ,KAAKG,WAAWM,IAAIL,EAAIE,gBAA6D,IAA3CN,KAAKG,WAAWI,IAAIH,EAAIE,kBAClEN,KAAKG,WAAWE,IAAID,EAAIE,cAAe,IAChC,K,kCAOXN,KAAKC,QAAQS,QACbV,KAAKG,WAAWO,U,6BAIhB,MAAO,CACHT,QAASD,KAAKC,QACdE,WAAYH,KAAKG,gB,ODhCdJ,Q,OELTY,E,WAOF,aAAe,oBACXX,KAAKY,MAAQ,IAAIC,KACjBb,KAAKc,eAAiB,GACtBd,KAAKe,gBAAkB,GACvBf,KAAKgB,YAAc,KACnBhB,KAAKiB,aAAe,IACpBjB,KAAKkB,YAAc,KAAO,IAC1BlB,KAAKmB,cAAgB,EACrBnB,KAAKoB,aAAe,E,gDAGpBC,GACArB,KAAKY,MAAMU,IAAID,K,oCAGLA,GACNA,EAAIE,SAASvB,KAAKe,gBAClBf,KAAKwB,aAAaH,GAEZA,EAAIE,SAASvB,KAAKwB,eACpBxB,KAAKc,eAAeO,EAAIE,OAASF,K,iCAIzC,OAAOrB,KAAKY,Q,mCAGHS,GACLA,EAAIE,SAASvB,KAAKe,kBAClBf,KAAKc,eAAeO,EAAIE,OAASF,SAC1BrB,KAAKe,gBAAgBM,EAAIE,U,oCAI1BF,GACNA,EAAIE,SAASvB,KAAKyB,gBAClBzB,KAAKe,gBAAgBM,EAAIE,OAASF,SAC3BrB,KAAKc,eAAeO,EAAIE,U,mCAI1BF,M,+BAKT,IAAK,IAAIA,KAAOrB,KAAKc,eACjBd,KAAKc,eAAeO,GAAKK,SAM7B,IAAK,IAAIL,UAHSM,IAAd3B,KAAK4B,MAAoC,OAAd5B,KAAK4B,OAChC5B,KAAK6B,iBAAiBD,KAAO5B,KAAK4B,MAEtB5B,KAAKc,eACjBd,KAAKc,eAAeO,GAAKS,aAG7B,IAAK,IAAIT,KAAOrB,KAAKc,eACjBd,KAAKc,eAAeO,GAAKU,W,oCAInBC,EAAOC,GACjBjC,KAAKgB,YAAcgB,EACnBhC,KAAKiB,aAAegB,EAEpBjC,KAAKkB,YAAcc,EAAQC,I,mCAGlBC,EAAOC,EAAMC,GACtBpC,KAAKY,MAAMyB,IAAM,IAAIxB,IAAUqB,EAAOC,EAAMC,K,iCAGrCF,EAAOI,GACdtC,KAAKY,MAAMyB,IAAM,IAAIxB,IAAcqB,EAAOI,K,iCAI1C,OAAOtC,KAAKoB,eAAiBpB,KAAKmB,eAAwC,IAAvBnB,KAAKmB,kB,KArF1DR,EAEK4B,SAAW,CACdC,OAAQ,EACRC,YAAa,GAqFrB,IACeC,EADD,IAAI/B,E,QC3FGgC,E,yGASEC,EAAIC,GACnB,OAAID,EAAKC,EAAKC,OAAOC,SAAWH,EAAKC,EAAKC,OAAOC,U,4BAMxCC,EAAOC,EAAKC,GACrB,IAAIC,EAASF,EACTG,EAASF,EAOb,OALID,EAAMC,IACNC,EAASD,EACTE,EAASH,GAGTD,EAAQG,EACDA,EAEPH,EAAQI,EACDA,EAEJJ,I,kCAGQK,EAAMC,EAAIC,GACzB,OAAIC,KAAKC,IAAIJ,EAAOC,IAAOC,EAAkBD,EAEtCD,GAASC,EAAKD,GAAQE,I,8BAnC7B,OAAO,IAAQC,KAAKE,K,8BAIpB,OAAOF,KAAKE,GAAK,Q,qBCFJC,E,WAEjB,aAAwC,IAA5BC,EAA2B,uDAAvB,EAAKC,EAAkB,uDAAd,EAAKC,EAAS,uDAAL,EAAK,oBACnC9D,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,EACT7D,KAAK8D,EAAIA,E,gDAGTF,EAAGC,EAAGC,GAKN,OAJA9D,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,EACT7D,KAAK8D,EAAIA,EAEF9D,O,+BAIP,OAAOwD,KAAKO,KAAK/D,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,EAAI7D,KAAK8D,EAAI9D,KAAK8D,K,kCAInE,OAAO9D,KAAKgE,W,6BAGTC,GACH,IAAIC,EAAI,IAAIP,EAAQM,EAAKL,EAAGK,EAAKJ,EAAGI,EAAKH,GAEnCK,EAAK,EAAMR,EAAQS,IAAIF,EAAGlE,MAC1BqE,EAAMJ,EAAKK,EAAIL,EAAKK,EAAIX,EAAQS,IAAIF,EAAGA,GAEzCK,EAAO,IAAIZ,EACfY,EAAOZ,EAAQa,eAAeN,EAAGC,GACjCI,EAAOZ,EAAQc,IAAIF,EAAMZ,EAAQa,eAAexE,KAAMqE,IAEtD,IAAIK,EAAKf,EAAQgB,MAAMT,EAAGlE,MAE1B0E,EAAKf,EAAQa,eAAeE,EAAI,EAAMT,EAAKK,GAC3CC,EAAOZ,EAAQc,IAAIF,EAAMG,GAEzB1E,KAAK4D,EAAIW,EAAKX,EACd5D,KAAK6D,EAAIU,EAAKV,EACd7D,KAAK8D,EAAIS,EAAKT,I,kCAId,IAAIc,EAAM5E,KAAK6E,YAEf,OAAIlC,EAAUmC,YAAYF,EAAK,IAC3B5E,KAAK4D,EAAI,EACT5D,KAAK6D,EAAI,OACT7D,KAAK8D,EAAI,KAKb9D,KAAK4D,GAAKgB,EACV5E,KAAK6D,GAAKe,EACV5E,KAAK8D,GAAKc,EAEH5E,Q,+BAIPA,KAAK4D,IAAM,EACX5D,KAAK6D,IAAM,EACX7D,KAAK8D,IAAM,I,gCAIX,OAAO,IAAIjD,KAAcb,KAAK4D,EAAG5D,KAAK6D,EAAG7D,KAAK8D,K,qCAI9C,OAAO,IAAIiB,IAAKC,UAAUhF,KAAK4D,EAAG5D,KAAK6D,EAAG7D,KAAK8D,K,iCAI/C,MAAO,QAAU9D,KAAK4D,EAAI,QAAU5D,KAAK6D,EAAI,QAAU7D,KAAK8D,EAAI,Q,2BAYzDlB,EAAIC,GACX,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAChBK,EAAEJ,EAAIlB,EAAGkB,EAAIjB,EAAGiB,EAETI,I,+BAGKtB,EAAIC,GAChB,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAChBK,EAAEJ,EAAIlB,EAAGkB,EAAIjB,EAAGiB,EAETI,I,+BAGKtB,EAAIC,GAChB,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAChBK,EAAEJ,EAAIlB,EAAGkB,EAAIjB,EAAGiB,EAETI,I,6BAGGtB,EAAIC,GACd,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAChBK,EAAEJ,EAAIlB,EAAGkB,EAAIjB,EAAGiB,EAETI,I,mCAGStB,EAAIqC,GACpB,IAAIf,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIqB,EACbf,EAAEL,EAAIjB,EAAGiB,EAAIoB,EACbf,EAAEJ,EAAIlB,EAAGkB,EAAImB,EAENf,I,gCAGMtB,EAAIqC,GACjB,IAAIf,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIqB,EACbf,EAAEL,EAAIjB,EAAGiB,EAAIoB,EACbf,EAAEJ,EAAIlB,EAAGkB,EAAImB,EAENf,I,qCAGWtB,EAAIqC,GACtB,IAAIf,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIqB,EACbf,EAAEL,EAAIjB,EAAGiB,EAAIoB,EACbf,EAAEJ,EAAIlB,EAAGkB,EAAImB,EAENf,I,qCAGWtB,EAAIqC,GACtB,IAAIf,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIqB,EACbf,EAAEL,EAAIjB,EAAGiB,EAAIoB,EACbf,EAAEJ,EAAIlB,EAAGkB,EAAImB,EAENf,I,4BAGEtB,EAAIC,GACb,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAM9B,OAJAO,EAAEN,EAAIhB,EAAGiB,EAAIhB,EAAGiB,EAAIlB,EAAGkB,EAAIjB,EAAGgB,EAC9BK,EAAEL,EAAIjB,EAAGkB,EAAIjB,EAAGe,EAAIhB,EAAGgB,EAAIf,EAAGiB,EAC9BI,EAAEJ,EAAIlB,EAAGgB,EAAIf,EAAGgB,EAAIjB,EAAGiB,EAAIhB,EAAGe,EAEvBM,I,+BAGKtB,EAAIC,GAChB,IAAIqC,EAAQvB,EAAQwB,SAAStC,EAAID,GAIjC,OAFeY,KAAKO,KAAKmB,EAAMtB,EAAIsB,EAAMtB,EAAIsB,EAAMrB,EAAIqB,EAAMrB,EAAIqB,EAAMpB,EAAIoB,EAAMpB,K,2BAKzET,EAAMC,EAAI8B,GAClB,IAAIC,EAAS1B,EAAQwB,SAAS7B,EAAID,GAC5BiC,EAAU3C,EAAU4C,MAAMH,EAAI,EAAK,GAGzC,OAFAC,EAAS1B,EAAQa,eAAea,EAAQC,GAEjC3B,EAAQc,IAAIpB,EAAMgC,K,oCAGRhC,EAAMC,EAAI8B,GAC3B,IAAIC,EAAS1B,EAAQwB,SAAS7B,EAAID,GAGlC,OAFAgC,EAAS1B,EAAQa,eAAea,EAAQD,GAEjCzB,EAAQc,IAAIpB,EAAMgC,K,kCAGVhC,EAAMC,EAAK8B,GAC1B,IAAII,EAAM7B,EAAQwB,SAAS7B,EAAID,GAE3BwB,EAAYW,EAAIX,YACpB,OAAIA,GAAaO,GAAMzC,EAAUmC,YAAYD,EAAW,GAE7CvB,EAGXkC,EAAM7B,EAAQc,IAAIpB,EAAMM,EAAQa,eAAegB,EAAKJ,M,0BAI7CxC,EAAIC,GACX,OAAOD,EAAGgB,EAAIf,EAAGe,EAAIhB,EAAGiB,EAAIhB,EAAGgB,EAAIjB,EAAGkB,EAAIjB,EAAGiB,I,gCAGhClB,GAEb,OADAA,EAAG6C,YACI7C,I,6BAGGA,EAAIC,GACd,OAAQD,EAAGgB,EAAIf,EAAGe,EAAId,OAAOC,SAAWH,EAAGgB,EAAIf,EAAGe,EAAId,OAAOC,SACxDH,EAAGiB,EAAIhB,EAAGgB,EAAIf,OAAOC,SAAWH,EAAGiB,EAAIhB,EAAGgB,EAAIf,OAAOC,SACrDH,EAAGkB,EAAIjB,EAAGiB,EAAIhB,OAAOC,SAAWH,EAAGkB,EAAIjB,EAAGiB,EAAIhB,OAAOC,U,4BAGjDH,EAAIC,GACb,IAAI6C,EAAK/B,EAAQgB,MAAM/B,EAAIC,GAEvB8C,EAAQnC,KAAKoC,MAAMF,EAAG1B,SAAUL,EAAQS,IAAIxB,EAAIC,IAEpD,OAAOc,EAAQS,IAAIsB,EAAI/B,EAAQkC,IAAM,GAAKF,EAAQA,I,6BAGxC/C,GACV,IAAI4C,EAAM5C,EAKV,OAJA4C,EAAI5B,IAAM,EACV4B,EAAI3B,IAAM,EACV2B,EAAI1B,IAAM,EAEH0B,I,6BAGGtB,GACV,OAAO,IAAIa,IAAKC,UAAUd,EAAEN,EAAGM,EAAEL,EAAGK,EAAEJ,K,6BAG5BI,GACV,OAAO,IAAIrD,KAAcqD,EAAEN,EAAGM,EAAEL,EAAGK,EAAEJ,K,2BApKrB,OAAO,IAAIH,EAAQ,EAAK,EAAK,K,0BAC9B,OAAO,IAAIA,EAAQ,EAAK,EAAK,K,yBAC9B,OAAO,IAAIA,EAAQ,EAAK,EAAK,K,2BAC3B,OAAO,IAAIA,EAAQ,GAAM,EAAK,K,8BAC3B,OAAO,IAAIA,EAAQ,EAAK,GAAM,K,2BACjC,OAAO,IAAIA,EAAQ,EAAK,EAAK,K,2BAC7B,OAAO,IAAIA,GAAS,EAAK,EAAK,K,4BAC7B,OAAO,IAAIA,EAAQ,EAAK,EAAK,O,KCxFhCmC,E,WAElB,aAAiD,IAArClC,EAAoC,uDAAhC,EAAKC,EAA2B,uDAAvB,EAAKC,EAAkB,uDAAd,EAAKQ,EAAS,uDAAL,EAAK,oBAC5CtE,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,EACT7D,KAAK8D,EAAIA,EACT9D,KAAKsE,EAAIA,EAETtE,KAAK+F,MAAQ,IAAIpC,EAAQ,EAAE,EAAE,G,gDAE7BC,EAAGC,EAAGC,EAAGQ,GACTtE,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,EACT7D,KAAK8D,EAAIA,EACT9D,KAAKsE,EAAIA,I,kCAIT,IAAM0B,EAAQ,EAAMhG,KAAKiG,SACzBjG,KAAK4D,GAAKoC,EACVhG,KAAK6D,GAAKmC,EACVhG,KAAK8D,GAAKkC,EACVhG,KAAKsE,GAAK0B,I,gCAIV,OAAO,IAAIF,EAAW9F,KAAK4D,EAAG5D,KAAK6D,EAAG7D,KAAK8D,GAAI9D,KAAKsE,K,+BAIpD,OAAO,IAAIwB,GAAY9F,KAAK4D,GAAI5D,KAAK6D,GAAI7D,KAAK8D,EAAG9D,KAAKsE,K,8BAQtD,OAJAtE,KAAK+F,MAAMlC,EAAIL,KAAKoC,MAAM,EAAM5F,KAAKsE,EAAItE,KAAK6D,EAAI,EAAM7D,KAAK8D,EAAI9D,KAAK4D,EAAG,EAAM,GAAO5D,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,IAAMlB,EAAUuD,QACtIlG,KAAK+F,MAAMnC,EAAIJ,KAAK2C,KAAK,GAAOnG,KAAKsE,EAAItE,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK8D,IAAMnB,EAAUuD,QAChFlG,KAAK+F,MAAMjC,EAAIN,KAAKoC,MAAM,EAAM5F,KAAKsE,EAAItE,KAAK8D,EAAI,EAAM9D,KAAK4D,EAAI5D,KAAK6D,EAAG,EAAM,GAAO7D,KAAK8D,EAAI9D,KAAK8D,EAAI9D,KAAK4D,EAAI5D,KAAK4D,IAAMjB,EAAUuD,QAE/HlG,KAAK+F,Q,+BAIZ,OAAOvC,KAAKO,KAAK/D,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,EAAI7D,KAAK8D,EAAI9D,KAAK8D,EAAI9D,KAAKsE,EAAItE,KAAKsE,K,sCAIrF,OAAQtE,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,EAAI7D,KAAK8D,EAAI9D,KAAK8D,EAAK9D,KAAKsE,EAAItE,KAAKsE,K,8BAGnE8B,EAAaC,EAAWR,GAClC,IAAIS,EAAgB3C,EAAQ4C,UAAU5C,EAAQwB,SAASkB,EAAWD,IAE9DI,EAAM7C,EAAQS,IAAIT,EAAQ8C,QAASH,GAEvC,GAAI9C,KAAKC,IAAI+C,IAAQ,GAAQ,KACzB,OAAO,IAAIV,EAAWnC,EAAQkC,GAAGjC,EAAGD,EAAQkC,GAAGhC,EAAGF,EAAQkC,GAAG/B,EAAGN,KAAKE,IAGzE,GAAIF,KAAKC,IAAI+C,EAAO,GAAQ,KACxB,OAAOV,EAAWY,WAGtB,IAAIC,EAAWnD,KAAKoD,KAAKJ,GACrBK,EAAUlD,EAAQgB,MAAMhB,EAAQ8C,QAASH,GAE7C,OADAO,EAAUlD,EAAQ4C,UAAUM,GACrBf,EAAWgB,oBAAoBD,EAASF,K,mCAG/BF,EAASZ,GACzB,IAAIkB,EAAOpD,EAAQ4C,UAAUE,GAEzBO,EAASrD,EAAQ4C,UAAUQ,GAC3BE,EAAUtD,EAAQ4C,UAAU5C,EAAQgB,MAAMkB,EAAImB,IAC9CE,EAAUvD,EAAQgB,MAAMqC,EAAQC,GAEhCE,EAAMF,EAAQrD,EACdwD,EAAMH,EAAQpD,EACdwD,EAAMJ,EAAQnD,EACdwD,EAAMJ,EAAQtD,EACd2D,EAAML,EAAQrD,EACd2D,EAAMN,EAAQpD,EACd2D,EAAMT,EAAOpD,EACb8D,EAAMV,EAAOnD,EACb8D,EAAMX,EAAOlD,EAEb8D,EAAQT,EAAMI,EAAOI,EACrBE,EAAa,IAAI/B,EAErB,GAAI8B,EAAO,EAAK,CACZ,IAAIE,EAAMtE,KAAKO,KAAK6D,EAAO,GAQ3B,OANAC,EAAWvD,EAAU,GAANwD,EACfA,EAAM,GAAMA,EACZD,EAAWjE,GAAK4D,EAAME,GAAOI,EAC7BD,EAAWhE,GAAK4D,EAAMJ,GAAOS,EAC7BD,EAAW/D,GAAKsD,EAAME,GAAOQ,EAEtBD,EAEX,GAAKV,GAAOI,GAASJ,GAAOQ,EAAM,CAC9B,IAAII,EAAOvE,KAAKO,KAAO,EAAMoD,EAAOI,EAAOI,GACvCK,EAAO,GAAMD,EAOjB,OALAF,EAAWjE,EAAI,GAAMmE,EACrBF,EAAWhE,GAAKuD,EAAME,GAAOU,EAC7BH,EAAW/D,GAAKuD,EAAMI,GAAOO,EAC7BH,EAAWvD,GAAKkD,EAAME,GAAOM,EAEtBH,EAEX,GAAIN,EAAMI,EAAK,CACX,IAAIM,EAAOzE,KAAKO,KAAO,EAAMwD,EAAOJ,EAAOQ,GACvCO,EAAO,GAAMD,EAOjB,OALAJ,EAAWjE,GAAK0D,EAAMF,GAAOc,EAC7BL,EAAWhE,EAAI,GAAMoE,EACrBJ,EAAW/D,GAAK4D,EAAMF,GAAOU,EAC7BL,EAAWvD,GAAKmD,EAAMJ,GAAOa,EAEtBL,EAEX,IAAIM,EAAO3E,KAAKO,KAAO,EAAM4D,EAAOR,EAAOI,GACvCa,EAAO,GAAMD,EAOjB,OALAN,EAAWjE,GAAK6D,EAAMJ,GAAOe,EAC7BP,EAAWhE,GAAK6D,EAAMF,GAAOY,EAC7BP,EAAW/D,EAAI,GAAMqE,EACrBN,EAAWvD,GAAK8C,EAAME,GAAOc,EAEtBP,I,6CAGmBQ,EAAOC,EAAOC,GACxC,OAAOzC,EAAW0C,aAAa7E,EAAQwB,SAASkD,EAAOC,GAAQ3E,EAAQkC,IAAMwC,I,mCAG7DA,EAAOC,GACvB,IAAIG,EAAMJ,EAAQC,EAGlB,OAFAG,EAAM3C,EAAW0C,aAAaC,EAAK9E,EAAQkC,IAAM4C,GAEpCH,I,0CAGUI,EAAM/C,GAC7B,IAAIgD,EAAoB,GAARhD,EACZiD,EAAIpF,KAAKqF,IAAIF,GACbG,EAAI,IAAIhD,EAKZ,OAJAgD,EAAElF,EAAI8E,EAAK9E,EAAIgF,EACfE,EAAEjF,EAAI6E,EAAK7E,EAAI+E,EACfE,EAAEhF,EAAI4E,EAAK5E,EAAI8E,EACfE,EAAExE,EAAId,KAAKuF,IAAIJ,GACRG,I,gCAGMlF,EAAGC,EAAGC,GACnB,IAAIkF,EAAMnF,EAAIlB,EAAUsG,QACpBC,EAAQtF,EAAIjB,EAAUsG,QAGtBE,EAAmB,IAFZrF,EAAInB,EAAUsG,SAGrBG,EAAe5F,KAAKqF,IAAIM,GACxBE,EAAe7F,KAAKuF,IAAII,GACxBG,EAAqB,GAARJ,EACbK,EAAgB/F,KAAKqF,IAAIS,GACzBE,EAAgBhG,KAAKuF,IAAIO,GACzBG,EAAiB,GAANT,EACXU,EAAclG,KAAKqF,IAAIY,GACvBE,EAAcnG,KAAKuF,IAAIU,GACvBG,EAAS,IAAI9D,EAMjB,OALA8D,EAAOtF,EAAIqF,EAAcH,EAAgBH,EAAeK,EAAcH,EAAgBH,EACtFQ,EAAOhG,EAAI+F,EAAcJ,EAAgBF,EAAeK,EAAcF,EAAgBJ,EACtFQ,EAAO/F,EAAI6F,EAAcF,EAAgBH,EAAeM,EAAcJ,EAAgBH,EACtFQ,EAAO9F,EAAI6F,EAAcH,EAAgBJ,EAAeM,EAAcH,EAAgBF,EAE/EO,I,0BAGAC,EAAIC,GACX,OAAOD,EAAGjG,EAAIkG,EAAGlG,EAAIiG,EAAGhG,EAAIiG,EAAGjG,EAAIgG,EAAG/F,EAAIgG,EAAGhG,EAAI+F,EAAGvF,EAAIwF,EAAGxF,I,gCAG9CwE,GACb,IAAIe,EAAKf,EACL9C,EAAQ,EAAM6D,EAAG5D,SAMrB,OALA4D,EAAGjG,GAAKoC,EACR6D,EAAGhG,GAAKmC,EACR6D,EAAG/F,GAAKkC,EACR6D,EAAGvF,GAAK0B,EAED6D,I,iCAIP,OAAO,IAAI/D,EAAW,EAAK,EAAK,EAAK,O,8BClMvCiE,E,WAIF,aAAc,oBACV/J,KAAKgK,MAAQ,IAAIC,KAAM,GAEvBjK,KAAKkK,YAAc,GACnBlK,KAAKmK,cAAgB,EACrBnK,KAAKkK,YAAYE,KAAK,EAAG,EAAG,IAC5BpK,KAAKuD,UAAY,EACjBvD,KAAKqK,YAAc,EACnBrK,KAAKsK,YAAc,EAAM,G,qDAIzBtK,KAAKuD,UAAYvD,KAAKgK,MAAMO,WAE5BvK,KAAKkK,YAAYlK,KAAKmK,eAAiBnK,KAAKuD,UAC5CvD,KAAKmK,eAAiBnK,KAAKmK,cAAgB,GAAKnK,KAAKkK,YAAYlG,OAEjEhE,KAAKqK,YAAcrK,KAAKwK,cAExBxK,KAAKsK,YAAc,EAAMG,GAAWC,UAEhC1K,KAAKsK,cAAgBK,MACrB3K,KAAKsK,YAActK,KAAKuD,WAExBvD,KAAKsK,YAAcM,EAAKC,mBACxB7K,KAAKsK,YAActK,KAAKuD,a,oCAM5B,IAFA,IAAIuH,EAAM,EAEDC,EAAI,EAAGA,EAAI/K,KAAKkK,YAAYlG,OAAQ+G,IACzCD,GAAO9K,KAAKkK,YAAYa,GAG5B,OAAOD,EAAM9K,KAAKkK,YAAYlG,S,kCAI9B,OAAOhE,KAAKuD,c,KA3CdwG,EAEKc,iBAAmB,EAAM,GA6CpC,IAAMD,EAAO,IAAIb,EACFa,IC/CTI,E,WAWF,aAAe,oBACXhL,KAAKiL,gBAAkB,IAAIlG,IAAKmG,gCAChClL,KAAKmL,WAAa,IAAIpG,IAAKqG,sBAAsBpL,KAAKiL,iBACtDjL,KAAKqL,WAAa,IAAItG,IAAKuG,iBAC3BtL,KAAKuL,OAAS,IAAIxG,IAAKyG,oCACvBxL,KAAKyL,MAAQ,IAAI1G,IAAK2G,wBAAwB1L,KAAKmL,WAAYnL,KAAKqL,WAAYrL,KAAKuL,OAAQvL,KAAKiL,iBAElGjL,KAAKyL,MAAME,WAAW,IAAI5G,IAAKC,UAAU,GAAI,IAAK,IAClDhF,KAAK4L,YAAc,EACnB5L,KAAK6L,YAAc,EAAM,IAEzB7L,KAAK8L,YAAc,G,uDAGZ5H,GACPlE,KAAKyL,MAAME,WAAW,IAAI5G,IAAKC,UAAUd,EAAEN,EAAGM,EAAEL,EAAGK,EAAEJ,M,mCAG5CiI,GACT,GAAa,OAATA,EAKJ,OAHA/L,KAAKyL,MAAMO,aAAaD,GACxB/L,KAAK8L,YAAYG,KAAKF,GAEf/L,KAAK8L,YAAY9L,KAAK8L,YAAY9H,OAAS,K,sCAGtC+H,GACZ/L,KAAKyL,MAAMS,gBAAgBH,K,0CAGA,IAAbI,EAAY,uDAAH,EACnBC,EAAQ,IAAIrH,IAAKsH,cAAcF,GAGnC,OAFAC,EAAME,UAAU,KAETF,I,qCAGIG,GAGX,OAFY,IAAIxH,IAAKyH,WAAW,IAAIzH,IAAKC,UAAsB,GAAZuH,EAAQ3I,EAAqB,GAAZ2I,EAAQ1I,EAAqB,GAAZ0I,EAAQzI,M,uCAKhF2I,GAGb,OAFY,IAAI1H,IAAK2H,mBAAmB,IAAI3H,IAAKC,UAAUyH,EAAO7I,EAAG6I,EAAO5I,EAAG4I,EAAO3I,GAAI,K,yCAK3EqI,EAAQlK,EAAQ0K,GAC/B,IAAIP,EAAQ,IAAIrH,IAAK6H,eAAeT,EAAQlK,EAAQ,IAAI8C,IAAKC,UAAU2H,EAAU/I,EAAG+I,EAAU9I,EAAG8I,EAAU7I,IAG3G,OAFAsI,EAAME,UAAU,KAETF,I,0CAGSD,EAAQlK,EAAQ0K,GAChC,IAAIP,EAAQ,IAAIrH,IAAK8H,gBAAgBV,EAAQlK,EAAQ,IAAI8C,IAAKC,UAAU2H,EAAU/I,EAAG+I,EAAU9I,EAAG8I,EAAU7I,IAG5G,OAFAsI,EAAME,UAAU,KAETF,I,sCAGKD,EAAQlK,EAAQ0K,GAC5B,IAAIP,EAAQ,IAAIrH,IAAK+H,YAAYX,EAAQlK,EAAQ,IAAI8C,IAAKC,UAAU2H,EAAU/I,EAAG+I,EAAU9I,EAAG8I,EAAU7I,IAGxG,OAFAsI,EAAME,UAAU,KAETF,I,sCAGKW,GACZ,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAEzB,IAAIC,EAAU,GACVC,EAAU,GAEdL,EAAKM,SAASC,SAAQ,SAAAC,GAClB,GAAIA,EAAMC,eAAe,aAAeD,EAAMF,SAASrJ,OAAS,EAC5DuJ,EAAMF,SAASC,SAAQ,SAAAP,GACnB,GAAIA,EAAKS,eAAe,YAAa,CAIjC,IAHA,IAAIC,EAAQV,EAAKW,SAASD,MAAME,MAC5BC,EAAQb,EAAKW,SAASG,WAAWC,SAASH,MAErC5C,EAAI,EAAGA,EAAI0C,EAAMzJ,OAAQ+G,GAAK,EACnCqC,EAAQnB,KAAKwB,EAAM1C,IAGvB,IAAK,IAAIA,EAAI,EAAGA,EAAI6C,EAAM5J,OAAQ+G,GAAK,EACnCoC,EAAQlB,KAAK,IAAIlH,IAAKC,UAAU4I,EAAM7C,GAAI6C,EAAM7C,EAAI,GAAI6C,EAAM7C,EAAI,cAM9E,GAAIwC,EAAMC,eAAe,YAAa,CAClCJ,EAAUG,EAAMG,SAASD,MAAME,MAG/B,IAFA,IAAIC,EAAQL,EAAMG,SAASG,WAAWC,SAASH,MAEtC5C,EAAI,EAAGA,EAAI6C,EAAM5J,OAAQ+G,GAAK,EACnCoC,EAAQlB,KAAK,IAAIlH,IAAKC,UAAU4I,EAAM7C,GAAI6C,EAAM7C,EAAI,GAAI6C,EAAM7C,EAAI,SAOlF,IAFA,IAAIgD,EAAU,IAAIhJ,IAAKiJ,eAEdjD,EAAI,EAAGA,EAAIqC,EAAQpJ,OAAQ+G,GAAK,EAErCgD,EAAQE,YAAYd,EAAQC,EAAQrC,IAAKoC,EAAQC,EAAQrC,EAAI,IAAKoC,EAAQC,EAAQrC,EAAI,KAK1FkC,EAFc,IAAIlI,IAAKmJ,uBAAuBH,GAAS,S,+BAQvD/N,KAAKyL,MAAM0C,eAAevD,EAAKrH,UAAW,GAAIvD,KAAK6L,iB,KAnIzDb,EAEKoD,aAAe,CAClBC,OAAQ,EACRC,IAAK,EACLC,MAAO,EACPC,QAAS,EACTC,SAAU,EACVC,KAAM,GAgId,IACeC,EADC,IAAI3D,E,SCnIC4D,E,WAEjB,aAAiK,IAArJd,EAAoJ,uDAAzI,IAAInK,EAAQ,EAAG,EAAG,GAAIyI,EAAmH,uCAA5GyC,EAA4G,uDAAjG/I,EAAWY,WAAYoI,EAA0E,uDAAhE,CAAEC,KAAM,EAAGC,SAAU,EAAGC,gBAAiB,EAAGC,YAAa,IAAO,oBAC5JlP,KAAKmP,aAAc,EACnBnP,KAAKoP,QAAS,EACdpP,KAAK+O,KAAOD,EAAQC,KAEpB/O,KAAKoM,MAAQA,EACbpM,KAAKgP,SAAWF,EAAQE,SACxBhP,KAAKiP,gBAAkBH,EAAQG,gBAC/BjP,KAAKkP,YAAcJ,EAAQI,YAC3BlP,KAAKqP,eAAgB,EAErBrP,KAAKsP,MAAQ,IAAIvK,IAAKC,UAAU8I,EAASlK,EAAGkK,EAASjK,EAAGiK,EAAShK,GACjE9D,KAAKuP,OAAS,IAAIxK,IAAKyK,aAAaX,EAASjL,EAAGiL,EAAShL,EAAGgL,EAAS/K,EAAG+K,EAASvK,GAEjFtE,KAAKyP,GAAKC,cAEV1P,KAAK2P,aAAe,IAAI5K,IAAKC,UAAU,EAAG,EAAG,GAC7ChF,KAAK4P,UAAY,IAAI7K,IAAK8K,YAC1B7P,KAAK4P,UAAUE,cACf9P,KAAK4P,UAAUG,UAAU/P,KAAKsP,OAC9BtP,KAAK4P,UAAUI,YAAYhQ,KAAKuP,QAChCvP,KAAKiQ,YAAc,IAAIlL,IAAKmL,qBAAqBlQ,KAAK4P,WAEtD,IAAIO,EAAe,IAAIpL,IAAKC,UAAU,EAAK,EAAK,GAChDmL,EAAenQ,KAAKoM,MAAMgE,sBAAsBpQ,KAAK+O,KAAMoB,GAC3D,IAAIE,EAAK,IAAItL,IAAKuL,4BAA4BtQ,KAAK+O,KAAM/O,KAAKiQ,YAAajQ,KAAKoM,MAAO+D,GACvFnQ,KAAK8N,SAAWA,EAChB9N,KAAK6O,SAAWA,EAEhB7O,KAAK+L,KAAO,IAAIhH,IAAKwL,YAAYF,GAEjCrQ,KAAK+L,KAAKyE,YAAYxQ,KAAKgP,UAC3BhP,KAAK+L,KAAK0E,WAAW,IAAM,KAC3BzQ,KAAK+L,KAAK2E,sBAAsB,GAChC1Q,KAAK+L,KAAK4E,wBAAwB,IAClC3Q,KAAK+L,KAAK6E,eAAe5Q,KAAKkP,aAE9BlP,KAAK6Q,aAAalO,EAAUmC,YAAY9E,KAAK+O,KAAM,IACnDJ,EAAQ3C,aAAahM,KAAK+L,M,oDAItBgD,GACA/O,KAAK+L,OACL/L,KAAK+O,KAAOA,EACZ/O,KAAK+L,KAAK+E,aAAa/B,EAAM,IAAIhK,IAAKC,UAAU,EAAK,EAAK,O,mCAIrDhC,GACThD,KAAKmP,YAAcnM,EAEfA,GACAhD,KAAK+L,KAAK+E,aAAa,EAAK,IAAI/L,IAAKC,UAAU,EAAK,EAAK,IACzDhF,KAAK+L,KAAKgF,kBAAkB,GAC5B/Q,KAAK+L,KAAKiF,mBAAmB,KAG7BhR,KAAK+L,KAAK+E,aAAa9Q,KAAK+O,KAAM,IAAIhK,IAAKC,UAAU,EAAK,EAAK,IAC/DhF,KAAK+L,KAAKgF,kBAAkB,GAC5B/Q,KAAK+L,KAAKiF,mBAAmB,M,+BAI5BC,GACLjR,KAAK+L,KAAKmF,kBAAkBD,EAAME,kB,sCAGtBF,GACZjR,KAAK+L,KAAKqF,oBAAoBH,EAAME,kB,iCAG7BF,EAAOnD,GACd9N,KAAK+L,KAAKsF,WAAWJ,EAAME,eAAgBrD,EAASqD,kB,sCAGxCG,GACZtR,KAAK+L,KAAKwF,gBAAgBD,EAAOH,kB,2CAGhBK,EAAQC,GACzBzR,KAAK+L,KAAK2F,sBAAsBF,EAAQC,K,kCAGhCE,GACR3R,KAAK+L,KAAK6F,YAAYD,EAAOR,kB,0CAGbU,GAChB7R,KAAK+L,KAAKqF,oBAAoBS,EAAQV,kB,yCAGvBU,GACf7R,KAAK+L,KAAK+F,mBAAmBD,EAAQV,kB,mCAG5BU,GACT7R,KAAK+L,KAAKgG,aAAaF,EAAQV,eAAgB,IAAIpM,IAAKC,UAAU,EAAG,EAAG,M,qCAG7D6M,EAAS/D,GACpB9N,KAAK+L,KAAKgG,aAAaF,EAAQV,eAAgBrD,EAASqD,kB,oCAIxDnR,KAAK+L,KAAKiG,gB,sCAIV,IAAI/N,EAAOjE,KAAK+L,KAAKkG,iBAErB,OAAO,IAAInM,EAAW7B,EAAKL,IAAKK,EAAKJ,IAAKI,EAAKH,IAAKG,EAAKK,O,0CAIzD,IAAIJ,EAAIlE,KAAK+L,KAAKmG,oBAElB,OAAO,IAAIvO,EAAQO,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,O,2CAInC,IAAII,EAAIlE,KAAK+L,KAAKoG,qBAElB,OAAO,IAAIxO,EAAQO,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,O,wCAGrBsO,GACdpS,KAAKqS,sBAAsBD,EAASjB,kB,yCAGrBiB,GACfpS,KAAK+L,KAAKuG,mBAAmBF,EAASjB,kB,gCAGhCrD,GACN9N,KAAK+L,KAAKwG,UAAUzE,EAASqD,kB,kCAGrBrD,GACR9N,KAAKsP,MAAMkD,SAAS1E,EAASlK,EAAGkK,EAASjK,EAAGiK,EAAShK,GACrD9D,KAAK+L,KAAK0G,oBAAoB1C,UAAU/P,KAAKsP,S,2BAG5CxB,GACD9N,KAAK+L,KAAKwG,UAAUzE,EAASqD,kB,kCAGrBtC,GACR7O,KAAKuP,OAAOiD,SAAS3D,EAASjL,EAAGiL,EAAShL,EAAGgL,EAAS/K,EAAG+K,EAASvK,GAClEtE,KAAK+L,KAAK0G,oBAAoBzC,YAAYhQ,KAAKuP,QAC/CvP,KAAK+L,KAAK2G,iBAAiBC,kBAAkB3S,KAAK+L,KAAK0G,uB,oCAG7CxO,GACVjE,KAAK+L,KAAK0G,oBAAoBzC,YAAY/L,GAC1CjE,KAAK+L,KAAK2G,iBAAiBC,kBAAkB3S,KAAK+L,KAAK0G,uB,mCAIvD,OAAOzS,KAAK+L,KAAK6G,kB,uCAIjB,OAAO5S,KAAK+L,KAAK2G,mB,qCAGNG,GACX7S,KAAK+L,KAAK+G,eAAeD,K,uCAGZvB,GACb3C,EAAQzC,gBAAgBlM,KAAK+L,MAC7B/L,KAAK+L,KAAKgH,iBAAiBzB,EAAOH,gBAClCxC,EAAQ3C,aAAahM,KAAK+L,Q,yCAI1B,IAAI7H,EAAIlE,KAAK+L,KAAKiH,mBAClB,OAAO,IAAIrP,EAAQO,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,O,kCAInC,OAAO9D,KAAK+L,KAAKkH,c,mCAGRC,GACTlT,KAAKmT,iBAAiBD,K,sCAGVE,GACZpT,KAAKqT,oBAAoBD,K,+BAGpBE,GACLtT,KAAKuT,SAASD,K,iCAId,OAAOtT,KAAKwT,a,wCAIZ,IAAItP,EAAIlE,KAAK+L,KAAK0H,kBAClB,OAAO,IAAI9P,EAAQO,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,O,iCAInC,OAAO9D,KAAKoP,S,0CAIZ,OAAOpP,KAAK+L,KAAK2H,sB,wCAGHC,GACd3T,KAAK+L,KAAK6H,kBAAkBD,K,yCAGb3E,GACfL,EAAQzC,gBAAgBlM,KAAK+L,MAC7B/L,KAAK+L,KAAK8H,mBAAmB7E,GAC7BL,EAAQ3C,aAAahM,KAAK+L,Q,qCAGf+H,GACXnF,EAAQzC,gBAAgBlM,KAAK+L,MAC7B/L,KAAK+L,KAAK6E,eAAekD,GACzBnF,EAAQ3C,aAAahM,KAAK+L,Q,0CAI1B,OAAO/L,KAAK+L,KAAKgI,sB,wCAGHT,GACdtT,KAAK+L,KAAKgF,kBAAkBuC,K,oCAI5B,IAAIpP,EAAIlE,KAAK+L,KAAK0G,oBAAoBuB,YAEtC,OADAhU,KAAK8N,SAASzN,IAAI6D,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,KAC3B9D,KAAK8N,W,oCAIZ,IAAI7J,EAAOjE,KAAK+L,KAAK0G,oBAAoBwB,cAEzC,OADAjU,KAAK6O,SAASxO,IAAI4D,EAAKL,IAAKK,EAAKJ,IAAKI,EAAKH,IAAKG,EAAKK,KAC9CtE,KAAK6O,W,yCAGGgE,GACf7S,KAAK+L,KAAKiF,mBAAmB6B,K,oCAGnB7P,GACVhD,KAAK+L,KAAK6E,eAAe5N,K,oCAIzB,OAAOhD,KAAKmP,c,kCAGJnM,GACRhD,KAAK+L,KAAKyE,YAAYxN,O,aC7QTkR,E,WACjB,aAA0G,IAA9FC,EAA6F,uDAAtF,KAAMC,EAAgF,wDAA5DC,EAA4D,wDAArCC,EAAqC,wDAAhBC,IAAgB,6EACrGvU,KAAKwU,MAAQ,KACbxU,KAAKyU,OAAS,KACdzU,KAAK0U,SAAW,KAChB1U,KAAK+M,KAAO,KACZ/M,KAAKY,MAAQ,KACbZ,KAAKuU,QAAUA,EACfvU,KAAKoU,WAAaA,EAClBpU,KAAKqU,cAAgBA,EACrBrU,KAAKsU,YAAcA,EAEN,OAATH,GACAnU,KAAK2U,SAASR,G,yDAGR,IAAD,OACTnU,KAAKY,MAAMgU,UAAS,SAAAC,GACZA,EAAMC,SACND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,oB,iCAK5BrR,GACPhD,KAAKoU,WAAapR,I,oCAGRA,GACVhD,KAAKqU,cAAgBrR,I,+BAGhBmR,GAAO,IAAD,OAGX,OAFAzR,EAAMvB,gBAEC,IAAI6L,SAAQ,SAACC,EAASC,IACZ,IAAI6H,KACVC,KAAKb,GAAM,SAACc,GAEfA,EAAKrU,MAAMgU,UAAS,SAAAC,GACZA,EAAMC,SACND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,cACvB,EAAKE,UACLM,EAAMK,SAASC,KAAOtU,KACtB,EAAKyT,cACLO,EAAMK,SAASZ,YAAc,EAAKA,aAElCO,EAAMK,SAASE,MACfP,EAAMK,SAASE,IAAIC,WAAa,QAK5C,EAAKzU,MAAQqU,EAAKrU,MAClB,EAAK8T,SAAWO,EAAKrU,MAAMyM,SAC3B,EAAKN,KAAOkI,EAAKrU,MACjB,EAAKmM,KAAKuI,aAAc,EACxB5S,EAAMpB,IAAI2T,EAAKrU,OACf8B,EAAMtB,eACN6L,EAAQ,UAETtL,GAAW,SAAU4T,GACpBC,QAAQD,MAAMA,GACd7S,EAAMvB,gBACN+L,EAAO,iB,iCAOf,OAAqB,OAAdlN,KAAK+M,S,KCvEC0I,E,WAEjB,WAAYtB,GAAuE,IAAjEC,EAAgE,wDAA5CC,EAA4C,wDAArBC,EAAqB,4EAC9EtU,KAAKwU,MAAQ,KACbxU,KAAKyU,OAAS,KACdzU,KAAK0U,SAAW,KAChB1U,KAAK+M,KAAO,KACZ/M,KAAK0V,KAAO,KACZ1V,KAAKY,MAAQ,KACbZ,KAAK2V,iBAAmB,GACxB3V,KAAK4V,MAAQ,GACb5V,KAAK6V,kBAAmB,EAExB7V,KAAKoU,WAAaA,EAClBpU,KAAKqU,cAAgBA,EACrBrU,KAAKsU,YAAcA,EACnBtU,KAAK2U,SAASR,EAAMG,G,yDAGV,IAAD,OACTtU,KAAKY,MAAMgU,UAAS,SAAAC,GACZA,EAAMC,SACND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,oB,iCAK5BrR,GACPhD,KAAKoU,WAAapR,EAClBhD,KAAK8V,gB,oCAGK9S,GACVhD,KAAKqU,cAAgBrR,EACrBhD,KAAK8V,gB,oCAGK,IAAD,OACV9V,KAAKY,MAAMgU,UAAS,SAAAC,GAEXA,EAAMC,SAEND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,cAEvB,EAAKC,cACLO,EAAMK,SAASZ,YAAc,EAAKA,mB,wEAKnCH,G,mGAAMG,E,gCACjB5R,EAAMvB,gBACF4U,EAAS,IAAIhB,IAEjB/U,KAAKsU,YAAcA,E,SACbyB,EAAOf,KAAKb,GAAM,SAACc,GACrB,EAAKP,SAAW,IAAI7T,KAAkBoU,GAEtC,EAAKT,MAAQ,IAAI3T,IAAqBoU,EAAKrU,OAC3C,EAAK4T,MAAMwB,UAAY,EAEvBf,EAAKrU,MAAMgU,UAAS,SAAAC,GAqBZA,EAAMC,SAEND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,cAEvBC,IACAO,EAAMK,SAASZ,YAAcA,OAIzC,EAAK1T,MAAQqU,EAAKrU,MAClB,EAAK8T,SAAWO,EAAKrU,MAAMyM,SAC3B,EAAKN,KAAOkI,EAAKrU,MACjB,EAAK8U,KAAOT,EACZvS,EAAMtB,eACNsB,EAAMpB,IAAI2T,EAAKrU,cAEhBe,GAAW,SAAU4T,GACpB7S,EAAMvB,gBACNqU,QAAQD,MAAMA,M,2IAIRU,GACV,GAAsB,OAAlBjW,KAAK0U,UAGL1U,KAAK2V,mBAAqBM,EAAW,CACrCjW,KAAK2V,iBAAmBM,EACxB,IAAIC,EAAOrV,IAAoBsV,WAAWnW,KAAK0V,KAAMO,GAEjC,OAAhBjW,KAAKyU,QACLzU,KAAKyU,OAAO2B,OAEhBpW,KAAKyU,OAASzU,KAAKwU,MAAM6B,WAAWH,GAEhB,OAAhBlW,KAAKyU,QACLzU,KAAKyU,OAAO6B,U,uCAIPtT,GACbhD,KAAK6V,iBAAmB7S,EACxB,IAAK,IAAI+H,EAAI,EAAGA,EAAI/K,KAAK4V,MAAM5R,OAAQ+G,IAEnC,GAA2B,OAAvB/K,KAAK4V,MAAM7K,GAAGgB,KAAc,CAC5B,IAAMgD,EAAO/L,EAAQ,IAAO,EAC5BhD,KAAK4V,MAAM7K,GAAGgB,KAAKwK,QAAQxH,M,gCAmBhB,OAAf/O,KAAKwU,OAAmBxU,KAAK6V,kBAC7B7V,KAAKwU,MAAM9S,OAAOkJ,EAAKrH,e,KC1H7BiT,EAAU,IA/BZ,aAAe,IAAD,gCAKd7B,SAAW,WAAoI,IAAnI8B,EAAkI,uDAA3H,KAAMtC,EAAqH,uDAA9G,KAAMuC,EAAwG,wDAAnFtC,EAAmF,wDAA/DuC,EAA+D,wDAAxCrC,EAAwC,wDAAnBC,IAAmB,yDAI1I,OAHa,OAATkC,GAAejB,QAAQoB,IAAI,0BAClB,OAATzC,GAAeqB,QAAQoB,IAAI,4BAExB,IAAI5J,SAAQ,SAACC,EAASC,GAEzB,GAAIwJ,EAAa,CACb,IAAIG,EAAQ,IAAIpB,EAAYtB,EAAMC,EAAYuC,EAAerC,GAC7D,EAAKwC,OAAOL,GAAQI,EACpB5J,EAAQ4J,OAEP,CACD,IAAIA,EAAQ,IAAI3C,EAAK,KAAME,EAAYuC,EAAerC,EAAaC,GACnEsC,EAAMlC,SAASR,GACV4C,MAAK,SAAAC,GACF,EAAKF,OAAOL,GAAQI,EACpB5J,EAAQ4J,MAEXI,OAAM,SAAAC,GACHhK,EAAOgK,WAvBvBlX,KAAK8W,OAAS,GACd9W,KAAKmX,OAAS,IA8BtBC,OAAOC,OAAOb,GACCA,QC7BMc,E,WAEjB,aAA2L,IAAD,OAA9Kb,EAA8K,uDAAvK,KAAMc,EAAiK,uDAAtJ,KAAMb,EAAgJ,wDAA3HtC,EAA2H,wDAAvGuC,EAAuG,wDAAhFrC,EAAgF,wDAA3DxG,EAA2D,uDAAhDnK,EAAQ6T,KAAM3I,EAAkC,uDAAvB/I,EAAWY,WAAY,yBAsB1L+Q,UAtB0L,uCAsB9K,WAAOhB,EAAMc,GAAb,6BAAAG,EAAA,yDAAuBpD,EAAvB,gCAA4CC,IAA5C,iCAES,OAAbgD,EAFI,iEAIFf,EAAQ7B,SAAS8B,EAAMc,EAAU,EAAKb,YAAa,EAAKtC,WAAY,EAAKuC,cAAerC,EAAaC,GACtGwC,MAAK,SAAAF,GACF,EAAKA,MAAQA,EAEb,EAAKc,YAAY,EAAK7J,UACtB,EAAKkC,YAAY,EAAKnB,aAEzBoI,OAAM,SAAAC,GACH1B,QAAQoB,IAAIM,MAZZ,2CAtB8K,wDACtLlX,KAAK8N,SAAWA,EAChB9N,KAAK6O,SAAWA,EAChB7O,KAAKgG,MAAQ,IAAIrC,EAAQ,EAAK,EAAK,GACnC3D,KAAK4X,WAAY,EACjB5X,KAAK6X,QAAU,KACf7X,KAAK6W,MAAQ,KACb7W,KAAK0W,YAAcA,EACnB1W,KAAKyG,QAAU9C,EAAQ8C,QACvBzG,KAAKuB,MAAQmO,cAEb1P,KAAK8X,UAAY,KACjB9X,KAAKoU,WAAaA,EAClBpU,KAAK2W,cAAgBA,EACrB3W,KAAK+X,aAAc,EACnB/X,KAAKyW,KAAOA,EACZzW,KAAKgY,IAAM,GAEXhY,KAAKyX,UAAUhB,EAAMc,EAAUjD,GAC/B5R,EAAMuV,cAAcjY,M,uDAmBbgD,GACPhD,KAAK4X,UAAY5U,EAEbhD,KAAK4X,UACLlV,EAAMlB,aAAaxB,MAEnB0C,EAAMwV,cAAclY,Q,kCAGhBmY,GACRnY,KAAK6O,SAAW/I,EAAWsS,UAAUD,EAAQvU,EAAGuU,EAAQtU,EAAGsU,EAAQrU,GAE5C,OAAnB9D,KAAK8X,WACL9X,KAAK8X,UAAU9H,YAAYhQ,KAAK6O,Y,oCAG1B5K,GACVjE,KAAK6O,SAAW5K,EAEO,OAAnBjE,KAAK8X,WACL9X,KAAK8X,UAAUO,cAAc,IAAItT,IAAKuT,aAAarU,EAAKL,EAAGK,EAAKJ,EAAGI,EAAKH,EAAGG,EAAKK,M,6BAGjF6T,GACH,GAAuB,OAAnBnY,KAAK8X,UAAoB,CACzB,IAAM/R,EAAQpC,EAAQ6T,KACtBxX,KAAK8X,UAAU9H,YAAYjK,GAC3B,IAAMwS,EAAM5U,EAAQc,IAAI0T,EAAS,IAAIxU,EAAQoC,EAAMnC,EAAGmC,EAAMlC,EAAGkC,EAAMjC,IACrE9D,KAAK6O,SAAW/I,EAAWsS,UAAUG,EAAI3U,EAAG2U,EAAI1U,EAAG0U,EAAIzU,GACvD9D,KAAK8X,UAAU9H,YAAYhQ,KAAK6O,eAGhC7O,KAAK6O,SAAWlL,EAAQc,IAAIzE,KAAK6O,SAAUsJ,K,kCAGvCK,GACRxY,KAAK8N,SAAW0K,EAEO,OAAnBxY,KAAK8X,WACL9X,KAAK8X,UAAUH,YAAY3X,KAAK8N,Y,2BAGnC2K,GACsB,OAAnBzY,KAAK8X,WACL9X,KAAK8N,SAAW9N,KAAK8X,UAAUY,cAC/B1Y,KAAK8N,SAAWnK,EAAQc,IAAIzE,KAAK8N,SAAU2K,GAC3CzY,KAAK8X,UAAUH,YAAY3X,KAAK8N,WAGhC9N,KAAK8N,SAAWnK,EAAQc,IAAIzE,KAAK8N,SAAW2K,K,+BAI3CE,GACL3Y,KAAKgG,MAAQ2S,I,kCAGLC,GACR5Y,KAAKgG,MAAMpC,GAAKgV,EAAYhV,EAC5B5D,KAAKgG,MAAMnC,GAAK+U,EAAY/U,EAC5B7D,KAAKgG,MAAMlC,GAAK8U,EAAY9U,I,+BAI5B,GAAK9D,KAAK+X,cAEa,OAAnB/X,KAAK8X,YACL9X,KAAK8N,SAAW9N,KAAK8X,UAAUY,cAC/B1Y,KAAK6O,SAAW7O,KAAK8X,UAAUe,eAGf,OAAf7Y,KAAK6W,OAAmB7W,KAAK6W,MAAMrJ,eAAe,SAG/B,OAApBxN,KAAK6W,MAAM9J,MAAf,CAGA,IAAMwL,EAAMvY,KAAK6O,SAASiK,QAE1B9Y,KAAK6W,MAAM9J,KAAKe,SAASzN,IAAIL,KAAK8N,SAASlK,EAAG5D,KAAK8N,SAASjK,EAAG7D,KAAK8N,SAAShK,GAC7E9D,KAAK6W,MAAM9J,KAAK8B,SAASxO,IAAIkY,EAAI3U,EAAG2U,EAAI1U,EAAG0U,EAAIzU,M,2EAK4G,IAAlJgL,EAAiJ,uDAAvI,CAACC,KAAM,EAAGC,SAAU,EAAGC,gBAAiB,EAAGC,YAAa,IAAM9C,EAAyE,uDAAjE,KAAM0B,EAA2D,uDAAhDnK,EAAQ6T,KAAM3I,EAAkC,uDAAvB/I,EAAWY,WAC9I1G,KAAK8X,UAAY,IAAIlJ,EAAUd,EAAU1B,EAAOyC,EAAUC,K,+BAItD9O,KAAK0W,aAAe1W,KAAK6W,OACzB7W,KAAK6W,MAAMkC,Y,gCAGTC,Q,KCnFCC,EAFA,I,kDAlDX,aAAe,IAAD,8BACV,gBACKC,WAAa,IAAIrY,KAAwB,GAAI,KAAO,IAAK,GAAK,KACnE,EAAKsY,OAAS,KAEd,EAAKrL,SAAWnK,EAAQ6T,KAExB,EAAK4B,WAAa,KAClB1W,EAAMuV,cAAN,gBARU,E,sDAWJoB,EAAKC,EAAQC,EAAOC,GAC1BxZ,KAAKkZ,WAAa,IAAIrY,KAAwBwY,EAAKC,EAAQC,EAAOC,K,oCAGxDJ,GACVpZ,KAAKoZ,WAAaA,I,2BAGjBK,GACDzZ,KAAKkZ,WAAWQ,WAAWD,EAAI7V,GAC/B5D,KAAKkZ,WAAWS,WAAWF,EAAI5V,GAC/B7D,KAAKkZ,WAAWU,WAAWH,EAAI3V,K,6BAG5ByU,GACHvY,KAAK6O,SAAW/I,EAAWsS,UAAUG,EAAI3U,EAAG2U,EAAI1U,EAAG0U,EAAIzU,GACvD9D,KAAKkZ,WAAWrK,SAASxO,IAAIkY,EAAI3U,EAAG2U,EAAI1U,EAAG0U,EAAIzU,K,kCAGvC2V,GACRzZ,KAAK8N,SAAW2L,EAChBzZ,KAAKkZ,WAAWpL,SAASzN,IAAIoZ,EAAI7V,EAAG6V,EAAI5V,EAAG4V,EAAI3V,K,kCAI/C,OAAO9D,KAAKkZ,a,+BAIY,OAApBlZ,KAAKoZ,YACTpZ,KAAKoZ,WAAW1X,W,mCAIQ,OAApB1B,KAAKoZ,YACLpZ,KAAKoZ,WAAWtX,iB,GA/CAwV,IC8BbuC,E,WAjCX,aAAe,oBACX7Z,KAAK8Z,SAAW,K,yDAGPC,EAAQ/X,EAAOC,EAAQ+X,GAAe,IAAD,OAE9C,OAAO,IAAIhN,SAAQ,SAACC,EAASC,GACzB,EAAK4M,SAAW,IAAIjZ,KAAoB,CAAEkZ,OAAQA,EAAQE,OAAO,EAAOC,WAAW,EAAMC,UAAW,QAASC,gBAAgB,qBAC7H,EAAKN,SAASO,QAAQrY,EAAOC,GAC7B,EAAK6X,SAASQ,UAAUC,SAAU,EAClC,EAAKT,SAASQ,UAAUE,KAAO3Z,KAC/B,EAAKiZ,SAASW,SAAW5Z,IAEzB,EAAKiZ,SAASY,eAAiB7Z,IAE/B,EAAKiZ,SAASa,WAAY,EAE1B,EAAKb,SAASc,cAAc,UAAW,GACvC,EAAKd,SAASe,WAAa,EAC3B,EAAKf,SAASgB,iBAAiBd,GAET,OAAlB,EAAKF,SACL7M,EAAQ,EAAK6M,UAEb5M,EAAO,gC,6BAIZtM,EAAOma,GACV/a,KAAK8Z,SAAS/X,OAAOnB,EAAOma,O,qDCkCrBC,EAFQ,I,6FApDdlB,GACD9Z,KAAKib,SAAW,IAAIC,IAAepB,GACnC9Z,KAAKmb,WAAa,IAAIC,IAAW1Y,EAAM2Y,WAAYpC,EAAOC,YAC1DlZ,KAAKmb,WAAWG,WAAa,IAAIza,IAAY,WAC7Cb,KAAKmb,WAAWN,WAAa,EAE7B7a,KAAKib,SAASM,QAAQvb,KAAKmb,YAE3Bnb,KAAKwb,MAAQ,KACbxb,KAAKyb,MAAQ,KACbzb,KAAK0b,KAAO,KACZ1b,KAAK8Z,SAAWA,I,uCAIhB,OAAO9Z,KAAKwb,OAASxb,KAAKyb,OAASzb,KAAK2b,O,gCAIxC3b,KAAK0b,KAAO,IAAIE,IAAWC,KAC3B7b,KAAK0b,KAAKI,SAAV,WAAiC9Y,MAAM3C,IAAI,EAAIqC,EAAM1B,YAAa,EAAI0B,EAAMzB,cAC5EjB,KAAKib,SAASM,QAAQvb,KAAK0b,Q,iCAI3B1b,KAAKwb,MAAQ,IAAIO,IAAUrZ,EAAM9B,MAAOqY,EAAOC,WAAY,CACvD8C,MAAO,IACPC,SAAU,KACVC,QAAS,MAETla,MAAOU,EAAMV,MACbC,OAAQS,EAAMT,SAElBjC,KAAKib,SAASM,QAAQvb,KAAKwb,S,iCAI3Bxb,KAAKyb,MAAQ,IAAIU,IACb,IAAItb,KAAc6B,EAAM1B,YAAa0B,EAAMzB,cAC3C,GACA,GACA,IAEJjB,KAAKib,SAASM,QAAQvb,KAAKyb,S,+BAI3Bzb,KAAKmb,WAAWJ,OAAS9B,EAAOC,WAChClZ,KAAKib,SAASlZ,OAAO6I,EAAKrH,e,MC1Db6Y,E,WAEjB,aAA+B,IAAnBxY,EAAkB,uDAAd,EAAKC,EAAS,uDAAL,EAAK,oBAC1B7D,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,E,qDA4ET,OAAOL,KAAKO,KAAK/D,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,K,kCAIjD,OAAO7D,KAAKgE,W,kCAIZ,IAAIY,EAAM5E,KAAK6E,YAEf,GAAIlC,EAAUmC,YAAYF,EAAK,GAK3B,OAJA5E,KAAK4D,EAAI,EACT5D,KAAK6D,EAAI,OACT7D,KAAK8D,EAAI,GAKb9D,KAAK4D,GAAKgB,EACV5E,KAAK6D,GAAKe,EACV5E,KAAK8D,GAAKc,I,iCAIV,MAAO,QAAU5E,KAAK4D,EAAI,QAAU5D,KAAK6D,EAAI,O,2BA1FtCjB,EAAIC,GACX,IAAIqB,EAAI,IAAIkY,EAAQ,EAAK,GAIzB,OAHAlY,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAETK,I,+BAGKtB,EAAIC,GAChB,IAAIqB,EAAI,IAAIkY,EAAQ,EAAK,GAIzB,OAHAlY,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAETK,I,+BAGKtB,EAAIC,GAChB,IAAIqB,EAAI,IAAIkY,EAAQ,EAAK,GAIzB,OAHAlY,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAETK,I,gCAGMtB,EAAIqC,GACjB,IAAIf,EAAI,IAAIkY,EAAQ,EAAK,GAIzB,OAHAlY,EAAEN,EAAIhB,EAAGgB,EAAIqB,EACbf,EAAEL,EAAIjB,EAAGiB,EAAIoB,EAENf,I,qCAGWtB,EAAIqC,GACtB,IAAIf,EAAI,IAAIkY,EAAQ,EAAK,EAAK,GAI9B,OAHAlY,EAAEN,EAAIhB,EAAGgB,EAAIqB,EACbf,EAAEL,EAAIjB,EAAGiB,EAAIoB,EAENf,I,qCAGWtB,EAAIqC,GACtB,IAAIf,EAAI,IAAIkY,EAAQ,EAAK,GAIzB,OAHAlY,EAAEN,EAAIhB,EAAGgB,EAAIqB,EACbf,EAAEL,EAAIjB,EAAGiB,EAAIoB,EAENf,I,+BAGKtB,EAAIC,GAChB,IAAIqC,EAAQkX,EAAQC,SAASxZ,EAAID,GAE7B0Z,EAAW9Y,KAAKO,KAAKmB,EAAMtB,EAAIsB,EAAMtB,EAAIsB,EAAMrB,EAAIqB,EAAMrB,GAE7D,OAAOyY,I,0BAGA1Z,EAAIC,GACX,OAAOD,EAAGgB,EAAIf,EAAGe,EAAIhB,EAAGiB,EAAIhB,EAAGgB,I,6BAGrBjB,EAAIC,GACd,OAAQD,EAAGgB,EAAIf,EAAGe,EAAId,OAAOC,SAAWH,EAAGgB,EAAIf,EAAGe,EAAId,OAAOC,SACxDH,EAAGiB,EAAIhB,EAAGgB,EAAIf,OAAOC,SAAWH,EAAGiB,EAAIhB,EAAGgB,EAAIf,OAAOC,U,2BArE1C,OAAO,IAAIqZ,EAAQ,EAAK,K,0BACzB,OAAO,IAAIA,EAAQ,EAAK,K,yBACzB,OAAO,IAAIA,EAAQ,EAAK,K,2BACtB,OAAO,IAAIA,EAAQ,GAAM,K,2BACzB,OAAO,IAAIA,GAAS,EAAK,K,4BACxB,OAAO,IAAIA,EAAQ,EAAK,O,sBCVlCG,EAFC,I,WCGZ,aAAiC,IAAD,OAApBC,EAAoB,4EAE5Bxc,KAAKyc,QAAU,CACXC,cAAe,EACfC,aAAc,EACdC,YAAa,EACbC,WAAY,EACZC,YAAa,EACbC,aAAc,EACdC,aAAc,EACdC,cAAe,EACfC,oBAAqB,EACrBC,qBAAsB,EACtBC,qBAAsB,GACtBC,sBAAuB,GACvBC,SAAU,GACVC,aAAc,GACdC,WAAY,GACZC,YAAa,GACbC,sBAAuB,IAG3B1d,KAAK2d,eAAiB,KAEtB3d,KAAK4d,YAAc,IAAI1d,IACvBF,KAAK6d,eAAiB,IAAI3d,IAE1BF,KAAK8d,WAAY,EAGjB9d,KAAK+d,sBAAwB,GAC7B/d,KAAKge,SAAW,IAAI5B,EAAQ,EAAG,GAE/Bpc,KAAKie,UAAY,IAAI7B,EAAQ,EAAG,GAEhCpc,KAAKke,kBAAoB,EACzBle,KAAKme,iBAAmB,EAExBne,KAAKoe,QAAU,KAEV5B,IACD6B,IAASC,QACTD,IAASE,iBAAiB,WAAW,SAAArH,GACjC,EAAK4G,WAAY,EACjB,EAAKM,QAAUlH,EAAEkH,QAEW,OAAxB,EAAKT,gBACL,EAAKA,eAAe,aAGxBzG,EAAEkH,QAAQG,iBAAiB,gBAAgB,SAAArH,GAEvC,EAAK8G,SAASpa,EAAwB,KAApBsT,EAAEsH,gBACpB,EAAKR,SAASna,EAAsB,KAAlBqT,EAAEuH,gBAGrB,CAAC,EAAG,IAEPvH,EAAEkH,QAAQG,iBAAiB,gBAAgB,SAAArH,GAEvC,EAAK+G,UAAUra,EAAyB,KAArBsT,EAAEsH,gBACrB,EAAKP,UAAUpa,EAAsB,KAAlBqT,EAAEuH,gBACtB,CAAC,EAAG,IAEPvH,EAAEkH,QAAQG,iBAAiB,eAAe,SAAArH,GAEtC,EAAKwH,UAAUxH,EAAEzJ,UAGrByJ,EAAEkH,QAAQG,iBAAiB,qBAAqB,SAAArH,GAC5C,EAAKgH,kBAAoBhH,EAAElU,QAE5B,GAEHkU,EAAEkH,QAAQG,iBAAiB,qBAAqB,SAAArH,GAC5C,EAAKiH,iBAAmBjH,EAAElU,QAC3B,GAEHkU,EAAEkH,QAAQG,iBAAiB,eAAe,SAAArH,GACtC,EAAKwH,UAAUxH,EAAEzJ,UAErByJ,EAAEkH,QAAQG,iBAAiB,iBAAiB,SAAArH,GACxC,EAAKyH,aAAazH,EAAEzJ,aAI5B4Q,IAASE,iBAAiB,cAAc,SAAArH,GACpC,EAAK4G,WAAY,EACW,OAAxB,EAAKH,gBACL,EAAKA,eAAe,oB,wDAOhC,OAAK3d,KAAK8d,UAEH9d,KAAKge,SAFgB5B,EAAQ5E,O,mCAMpC,OAAKxX,KAAK8d,UAEH9d,KAAKie,UAFgB7B,EAAQ5E,O,gCAK9BoH,GACN5e,KAAK4d,YAAYvd,IAAIue,EAAQ,GACW,IAApC5e,KAAK6d,eAAetd,IAAIqe,IACxB5e,KAAK6d,eAAexd,IAAIue,EAAQ,K,mCAI3BA,GACT5e,KAAK4d,YAAYpd,OAAOoe,GACxB5e,KAAK6d,eAAerd,OAAOoe,K,mCAGlBA,GACT,OAAO5e,KAAK4d,YAAYnd,IAAIme,K,sCAGhBA,GACZ,SAAI5e,KAAK6d,eAAepd,IAAIme,IAA+C,IAApC5e,KAAK6d,eAAetd,IAAIqe,MAC3D5e,KAAK6d,eAAexd,IAAIue,EAAQ,IACzB,K,qCAOX,OAAO5e,KAAKke,oB,oCAIZ,OAAOle,KAAKme,mB,qCAIZne,KAAK4d,YAAYld,QACjBV,KAAK6d,eAAend,U,oCAKpB,OAAOV,KAAK8d,Y,+DAMZ,MAAO,CACHF,YAAa5d,KAAK4d,YAClBC,eAAgB7d,KAAK6d,eACrBG,SAAUhe,KAAKge,SACfC,UAAWje,KAAKie,UAChBY,aAAc7e,KAAKke,kBACnBY,YAAa9e,KAAKme,sB,sBC7CfY,EADQ,I,WA/GnB,aAAe,IAAD,2BACV/e,KAAKgf,SAAW,GAChBhf,KAAKif,gBAAkB,EACvBjf,KAAKkf,SAAU,EAEflf,KAAKmf,KAAO,IAAI7H,EAAW,OAAQ,MAAM,GAAO,GAAO,GAAM,EAAM,IAAI3T,GAAS,MAAO,GAAI,IAAKmC,EAAWY,YAC3G1G,KAAKof,KAAO,IAAI9H,EAAW,OAAQ,MAAM,GAAO,GAAO,GAAM,EAAM,IAAI3T,GAAS,MAAO,GAAI,IAAKmC,EAAWY,YAE3G1G,KAAKmf,KAAK1H,UAAU,OAAQ,4BAA4B,GACnDV,MAAK,WACF,EAAKoI,KAAKtI,MAAM9J,KAAKsS,SAAU,KAGnCrf,KAAKof,KAAK3H,UAAU,OAAQ,4BAA4B,GACvDV,MAAK,WACF,EAAKmI,SAAU,EACf,EAAKE,KAAKvI,MAAM9J,KAAKsS,SAAU,KAEvCrf,KAAKsf,eAAiB,KACtBtf,KAAKuf,aAAe,K,uDAGbC,GACPxf,KAAKgf,SAAS/S,KAAKuT,K,iCAGZC,GACP,OAA4B,OAAxBzf,KAAKsf,eAAgC,MAEzCtf,KAAKsf,eAAeI,OAAQ,EAC5BzG,EAAOE,OAASnZ,KAAKsf,eACrBtf,KAAKuf,aAAevf,KAAKsf,eAElBtf,KAAKsf,kB,sCAGAE,GACZ,OAAgB,OAAZA,EAAyB,MAE7BA,EAAQE,OAAQ,EAChBzG,EAAOE,OAASqG,EAChBxf,KAAKuf,aAAeC,EAEbA,K,qCAIPxf,KAAKuf,aAAe,O,mCAIpB,GAA4B,OAAxBvf,KAAKsf,eAAyB,CAE9B,IAAIK,EAAa3f,KAAKsf,eAAexR,SACrC9N,KAAKmf,KAAKxH,YAAY,IAAIhU,EAAQgc,EAAW/b,EAAG+b,EAAW9b,EAAI,EAAG8b,EAAW7b,IAC7E9D,KAAKmf,KAAKtI,MAAM9J,KAAKsS,SAAU,OAG/Brf,KAAKmf,KAAKtI,MAAM9J,KAAKsS,SAAU,EAGnC,GAAIrf,KAAKmf,KAAKtI,MAAM9J,KAAKsS,QAAS,CAC9B,IAAIO,EAAS,IAAIjc,EAAQsV,EAAOnL,SAASlK,EAAG,EAAGqV,EAAOnL,SAAShK,GAC3D+b,EAAU,IAAIlc,EAAQ3D,KAAKmf,KAAKrR,SAASlK,EAAG,EAAG5D,KAAKmf,KAAKrR,SAAShK,GAClEgc,EAASha,EAAW0C,aAAa7E,EAAQwB,SAASya,EAAQC,GAAUlc,EAAQkC,IAChF7F,KAAKmf,KAAKnP,YAAYrM,EAAQa,eAAesb,EAAOhH,QAASnW,EAAUsG,a,mCAK3E,GAA0B,OAAtBjJ,KAAKuf,aAEL,GAAIvf,KAAKuf,aAAaG,OAAS1f,KAAKuf,aAAaQ,eAAgB,CAC7D,IAAIJ,EAAa3f,KAAKuf,aAAazR,SACnC6R,EAAW9b,GAAK,EAChB7D,KAAKof,KAAKzH,YAAYgI,GACtB3f,KAAKof,KAAKvI,MAAM9J,KAAKsS,SAAU,OAG/Brf,KAAKof,KAAKvI,MAAM9J,KAAKsS,SAAU,OAInCrf,KAAKof,KAAKvI,MAAM9J,KAAKsS,SAAU,I,yCAIpB5F,GACfzZ,KAAKsf,eAAiB,KAGtB,IAFA,IAAIU,EAAUhgB,KAAKif,gBAAkB,EAE5BlU,EAAI,EAAGA,EAAI/K,KAAKgf,SAAShb,OAAQ+G,IAAK,CAC3C,IAAI4U,EAAa3f,KAAKgf,SAASjU,GAAG+C,SAE5BmS,EAAOtc,EAAQuc,SAASzG,EAAKkG,GAC/BM,EAAOD,GAAWC,GAAQ,IAAMjgB,KAAKgf,SAASjU,GAAG2U,QACjDM,EAAUC,EACVjgB,KAAKsf,eAAiBtf,KAAKgf,SAASjU,O,0CAK5B0O,GACXzZ,KAAKkf,UAEVlf,KAAKmgB,mBAAmB1G,GACxBzZ,KAAKogB,aACLpgB,KAAKqgB,kB,MCvGQC,G,kDAEjB,aAA2L,IAAD,EAA9K7J,EAA8K,uDAAvK,KAAMc,EAAiK,uDAAtJ,KAAMb,EAAgJ,wDAA3HtC,EAA2H,wDAAvGuC,EAAuG,wDAAhFrC,EAAgF,wDAA3DxG,EAA2D,uDAAhDnK,EAAQ6T,KAAM3I,EAAkC,uDAAvB/I,EAAWY,WAAY,4BACtL,cAAM+P,EAAMc,EAAUb,EAAatC,EAAYuC,EAAerC,EAAaxG,EAAUe,IAChF2Q,QAAU,KACf,EAAK/G,QAAU,IAAI9U,EAAQ,EAAG,EAAG,GACjC,EAAKoC,MAAQ,IAAIpC,EAAQ,EAAG,EAAG,GAC/B,EAAK4c,WAAa,IAAIxb,IAAKC,UAAU,EAAG,EAAG,GAL2I,E,4DAQ1KiR,GACZjW,KAAKwgB,UAAY,EAEE,OAAfxgB,KAAK6W,OACL7W,KAAK6W,MAAM4J,cAAcxK,K,+BAK7B,IAAMyK,EAAW3gB,EAAM4gB,aAAa,MAAQpE,EAAQqE,gBAAgBrE,EAAQE,QAAQI,YACpF,GAAI6D,GAA6B,OAAjB1gB,KAAKwf,QACjBxf,KAAKwf,QAAUT,EAAe8B,kBAE9B,GAAIH,GAA6B,OAAjB1gB,KAAKwf,QAAkB,CACnCxf,KAAKwf,QAAQE,OAAQ,EACrBX,EAAe+B,eACf,IAAIrH,EAAMzZ,KAAKwf,QAAQ1R,SACvBmL,EAAOE,OAASnZ,KAChBA,KAAKwf,QAAU,KACfxf,KAAK2X,YAAY8B,EAAIpZ,IAAIoZ,EAAI7V,EAAI,EAAG,EAAG6V,EAAI3V,IAInD,GAAqB,OAAjB9D,KAAKwf,SAAqC,cAAjBxf,KAAKwf,SAA2Bxf,KAAK8N,SAASjK,GAAK,GAI5E,OAHA7D,KAAK2X,YAAY,IAAIhU,EAAQ,GAAM,IAAK,SAExC,+DAIA3D,KAAK6W,OAAS7W,KAAK6W,MAAMrJ,eAAe,UAAiC,OAArBxN,KAAK6W,MAAMrC,QAC/DxU,KAAK6W,MAAMrC,MAAMwB,UAAY,GAEjC,IAAI+K,EAAQ,EACRC,EAAQ,GAERjhB,EAAMkhB,UAAU,MAAQlhB,EAAMkhB,UAAU,cACxCF,GAAS,IAEThhB,EAAMkhB,UAAU,MAAQlhB,EAAMkhB,UAAU,gBACxCF,EAAQ,IAERhhB,EAAMkhB,UAAU,MAAQlhB,EAAMkhB,UAAU,gBACxCD,GAAS,IAETjhB,EAAMkhB,UAAU,MAAQlhB,EAAMkhB,UAAU,iBACxCD,EAAQ,GAOZ,IAAIE,EAAQ3E,EAAQ4E,YAEf/E,EAAQgF,OAAOF,EAAO9E,EAAQ5E,QAE/BwJ,EAAQE,EAAMtd,EACdmd,EAAQG,EAAMrd,GAGlB7D,KAAKyY,QAAQ7U,EAAIod,EACjBhhB,KAAKyY,QAAQ3U,EAAIid,EACjB/gB,KAAKyY,QAAQhT,YAER9B,EAAQyd,OAAOphB,KAAKyY,QAAS9U,EAAQ6T,MAUtCxX,KAAKqhB,gBAAgB,SATrBrhB,KAAKyG,QAAUzG,KAAKyY,QAAQhT,YAE5BzF,KAAKyY,QAAQ7U,EAAqB,EAAjB5D,KAAKyG,QAAQ7C,EAC9B5D,KAAKyY,QAAQ3U,EAAqB,EAAjB9D,KAAKyG,QAAQ3C,EAE9B9D,KAAK+F,MAAMlC,EAAIF,EAAQ2d,MAAM3d,EAAQ4d,KAAMvhB,KAAKyG,SAChDzG,KAAKqhB,gBAAgB,SAMzBrhB,KAAKwhB,aACLxhB,KAAKgQ,YAAYhQ,KAAK+F,OAEtB,iE,mCAIA,IAAM0b,EAAU,IAAI9d,EAAQ3D,KAAKyY,QAAQ7U,EAAG5D,KAAKyY,QAAQ5U,EAAG7D,KAAKyY,QAAQ3U,GACzE2d,EAAQ5d,EAAI7D,KAAK8X,UAAU4J,oBAAoB7d,EAC/C7D,KAAKugB,WAAW/N,SAASiP,EAAQ7d,EAAG6d,EAAQ5d,EAAG4d,EAAQ3d,GACvD9D,KAAK8X,UAAU/L,KAAK4V,kBAAkB3hB,KAAKugB,c,gCAGrCvH,Q,GArGsB1B,GCsC9BsK,GAAQ,I,WA7CV,aAAe,oBACX5hB,KAAK6hB,YACL7hB,KAAKmX,OAAS,G,wDAIdnX,KAAK8hB,SAAW,IAAIjhB,IACpBoY,EAAOC,WAAW5X,IAAItB,KAAK8hB,Y,gCAGrB3N,GAAmC,IAAD,OAA5B4N,EAA4B,wDAAdC,EAAc,uDAAL,GACnC,OAAO,IAAIhV,SAAQ,SAACC,EAASC,GACzB,IAAM6I,EAAS,IAAIlV,IACfohB,EAAQ,IAAIphB,KAAsB,EAAKihB,UAE3C,IACI/L,EAAOf,KAAKb,GAAM,SAAC+N,GAEA,OAAXA,GAAiBhV,EAAO,uBAE5B+U,EAAME,UAAUD,GAChBD,EAAMG,QAAQL,GACdE,EAAMI,UAAUL,GAChBC,EAAMK,eAAe,IAErB,EAAKnL,OAAOlL,KAAK,CAACsW,MAAON,EAAOD,OAAQA,IACxC/U,EAAQgV,MAGhB,MAAO/K,GACHjK,EAAQiK,S,wCAMhB,IAAK,IAAInM,EAAI,EAAGA,EAAI/K,KAAKmX,OAAOnT,OAAQ+G,IACpC/K,KAAKmX,OAAOpM,GAAGwX,MAAMF,UAAU,GAC/BriB,KAAKmX,OAAOpM,GAAGwX,MAAMjM,OACrBtW,KAAKmX,OAAOpM,GAAGwX,MAAMnM,OACrBpW,KAAKmX,OAAOpM,GAAGwX,MAAMF,UAAUriB,KAAKmX,OAAOpM,GAAGiX,Y,MAM1D5K,OAAOC,OAAOuK,IACCA,UCnCMY,G,kDACjB,WAAY1T,GAAU,IAAD,uBACjB,gBAEK4Q,OAAQ,EACb,EAAKtL,YAAa,EAClB,EAAKuC,eAAgB,EACrB,EAAKD,aAAc,EAEnB,EAAKpH,MAAQ,IAAIvK,IAAKC,UAAU,EAAG,EAAG,GACtC,EAAKuK,OAAS,IAAIxK,IAAKyK,aAAa,EAAG,EAAG,EAAG,GAC7C,EAAKiT,YAAc,IAAI1d,IAAKC,UAAU,EAAG,EAAG,GAC5C,EAAK0d,SAAW5T,EAAQ4T,SACxB,EAAKC,aAAe,GACpB,EAAKC,UAAY9T,EAAQ8T,UACzB,EAAKC,WAAa/T,EAAQ+T,WAC1B,EAAKC,gBAAkBhU,EAAQgU,gBAC/B,EAAKC,eAAiBjU,EAAQiU,eAC9B,EAAKC,SAAU,EACf,EAAKC,YAAc,KACnB,EAAKC,gBAAkB,KACvB,EAAKC,YAAcrU,EAAQqU,YAC3B,EAAKC,aAAetU,EAAQsU,aAC5B,EAAKC,UAAYvU,EAAQuU,UACzB,EAAKvU,QAAUA,EACf,EAAKwU,MAAQ,EACb,EAAKC,kBAAoBzU,EAAQyU,kBACjC,EAAKC,aAAe,IAAI7f,EAAQ,GAAKH,KAAKC,IAAI,EAAK6f,OAAS,EAAKD,UAAY,GAE7EzB,GAAM6B,UAAU,8BAA8B,EAAM,IAC/C1M,MAAK,SAAAkL,GACF,EAAKgB,YAAchB,EACnBzL,EAAQ7B,SAAS7F,EAAQ4U,UAAW5U,EAAQ4U,WAAW,GAAO,GAAM,GAAM,GACrE3M,MAAK,SAAAF,GACF,EAAKA,MAAQA,EACb,EAAKoM,YAAYU,QAAU,EAAK9M,MAChC,EAAKc,YAAY,EAAK7J,UACtB,EAAKkC,YAAY,EAAKnB,aAGzBoI,OAAM,SAAAC,GACH1B,QAAQoB,IAAIM,SAIvBD,OAAM,SAAAC,GACH1B,QAAQoB,IAAIM,MAGpB0K,GAAM6B,UAAU,kCAAkC,EAAM,IACnD1M,MAAK,SAAAkL,GACF,EAAKiB,gBAAkBjB,KAE1BhL,OAAM,SAAAC,GACH1B,QAAQoB,IAAIM,MAGpB,EAAK0M,UAAYjV,EAAQkV,eAAe,IAAIlgB,EAAQmL,EAAQgV,UAAWhV,EAAQiV,WAAYjV,EAAQkV,aAEnG,IAAIpU,EAAY,IAAI7K,IAAK8K,YACzBD,EAAUE,cACVF,EAAUG,UAAU,IAAIhL,IAAKC,UAAU8J,EAAQhB,SAASlK,EAAGkL,EAAQhB,SAASjK,EAAGiL,EAAQhB,SAAShK,IAChG8L,EAAUI,YAAY,IAAIjL,IAAKyK,aAAaV,EAAQD,SAASjL,EAAGkL,EAAQD,SAAShL,EAAGiL,EAAQD,SAAS/K,EAAGgL,EAAQD,SAASvK,IACzH,IAAI2L,EAAc,IAAIlL,IAAKmL,qBAAqBN,GAC5CO,EAAe,IAAIpL,IAAKC,UAAU,EAAG,EAAG,GAC5C,EAAK4e,UAAUxT,sBAAsBtB,EAAQC,KAAMoB,GACnD,EAAKpE,KAAO,IAAIhH,IAAKwL,YAAY,IAAIxL,IAAKuL,4BAA4BxB,EAAQC,KAAMkB,EAAa,EAAK2T,UAAWzT,IACjH,EAAKpE,KAAKiF,mBAAmB,GAC7B,EAAKjF,KAAK6E,eAAe,IACzBjC,EAAQlD,MAAMO,aAAa,EAAKD,MAChC,EAAKkY,OAAS,IAAIlf,IAAKmf,gBAEvB,EAAKC,UAAY,IAAIpf,IAAKqf,0BAA0BzV,EAAQlD,OAC5D,EAAK+T,QAAU,IAAIza,IAAKsf,iBAAiB,EAAKJ,OAAQ,EAAKlY,KAAM,EAAKoY,WAEtE,EAAK3E,QAAQ8E,oBAAoB,EAAG,EAAG,GAEvC3V,EAAQlD,MAAM8Y,UAAU,EAAK/E,SAC7B9c,EAAMuV,cAAN,gBAEA,EAAKuM,YAAc,GACnB,EAAKA,YAAYvY,KAAK,IAAIqL,EAAWxI,EAAQ2V,eAAgB3V,EAAQ2V,gBAAgB,GAAO,GAAM,IAClG,EAAKD,YAAYvY,KAAK,IAAIqL,EAAWxI,EAAQ4V,gBAAiB5V,EAAQ4V,iBAAiB,GAAO,GAAM,IACpG,EAAKF,YAAYvY,KAAK,IAAIqL,EAAWxI,EAAQ4V,gBAAiB5V,EAAQ4V,iBAAiB,GAAO,GAAM,IACpG,EAAKF,YAAYvY,KAAK,IAAIqL,EAAWxI,EAAQ2V,eAAgB3V,EAAQ2V,gBAAgB,GAAO,GAAM,IAElG,IAAK,IAAI1Z,EAAI,EAAGA,EAAI,EAAKyZ,YAAYxgB,OAAQ+G,IACzC,EAAKyZ,YAAYzZ,GAAGgN,aAAc,EAtFrB,OAyFjB,EAAK4M,UAAY,GACjB,EAAKA,UAAU1Y,KAAK,EAAK2Y,YAAY9V,GAAS,EAAMA,EAAQ+V,aAAc,IAAIlhB,EAAQ,GAAI,EAAG,GAAI,IAAIA,GAAS,EAAG,EAAG,KACpH,EAAKghB,UAAU1Y,KAAK,EAAK2Y,YAAY9V,GAAS,EAAMA,EAAQgW,cAAe,IAAInhB,EAAQ,GAAI,EAAG,GAAI,IAAIA,GAAS,EAAG,EAAG,KACrH,EAAKghB,UAAU1Y,KAAK,EAAK2Y,YAAY9V,GAAS,EAAOA,EAAQiW,aAAc,IAAIphB,EAAQ,GAAI,EAAG,GAAI,IAAIA,GAAS,EAAG,EAAG,KACrH,EAAKghB,UAAU1Y,KAAK,EAAK2Y,YAAY9V,GAAS,EAAOA,EAAQkW,YAAa,IAAIrhB,EAAQ,GAAI,EAAG,GAAI,IAAIA,GAAS,EAAG,EAAG,KAEpH,EAAKsgB,OAAS,IAAIlf,IAAKmf,gBACvB,EAAKe,kBAAoB,EACzB,EAAKC,iBAAmB,EACxB,EAAKC,oBAAsB,EAC3B,EAAKC,mBAAqB,EAC1B,EAAKC,cAAgB,EAErBtG,EAAeuG,WAAf,gBAtGiB,E,wDAyGTxW,EAASyW,EAAOC,EAAUC,EAAUC,GAC5C,IAAIC,EAAQ3lB,KAAKwf,QAAQoG,SAASJ,EAASrU,eAAgBsU,EAAStU,eAAgBuU,EAAUvU,eAAgBrC,EAAQ+W,cAAe/W,EAAQ3C,OAAQnM,KAAKikB,OAAQsB,GAElKI,EAAMG,0BAA0BhX,EAAQiX,WACxCJ,EAAMK,8BAA8BlX,EAAQmX,SAC5CN,EAAMO,+BAA+BpX,EAAQqX,aAE7C,IAAMnX,EAAWuW,EAAQzW,EAAQsX,cAAgBtX,EAAQuX,aAIzD,OAHAV,EAAMW,mBAAmBtX,GACzB2W,EAAMY,oBAAoBzX,EAAQ0X,MAE3Bb,I,qCAIP,IAAMpN,EAAMvY,KAAK6O,SAASiK,QAE1B,OAAQtV,KAAKC,IAAI8U,EAAI3U,GAAKjB,EAAUuD,SAAW,IAAM1C,KAAKC,IAAI8U,EAAIzU,GAAKnB,EAAUuD,SAAW,K,oCAI5F,GAAIlG,KAAK+f,gBAAkB/f,KAAK0f,QACxB3f,EAAMkhB,UAAU,MAAQ1E,EAAQqE,gBAAgBrE,EAAQE,QAAQM,eAAe,CAC/E,IAAMjP,EAAW,IAAInK,EAAQ3D,KAAK8N,SAASlK,EAAG5D,KAAK8N,SAASjK,EAAI,IAAK7D,KAAK8N,SAAShK,GAC7E+K,EAAW,IAAI/I,EAAW,EAAK9F,KAAK6O,SAAShL,EAAG,EAAK7D,KAAK6O,SAASvK,GACnEL,EAAO,IAAIc,IAAKyK,aAAaX,EAASjL,EAAGiL,EAAShL,EAAGgL,EAAS/K,EAAG+K,EAASvK,GAEhFtE,KAAK+L,KAAK4V,kBAAkB,IAAI5c,IAAKC,UAAU,EAAG,EAAG,IACrDhF,KAAK+L,KAAKuG,mBAAmB,IAAIvN,IAAKC,UAAU,EAAG,EAAG,IAEtDhF,KAAK+L,KAAK0G,oBAAoB1C,UAAUjC,EAASqD,gBACjDnR,KAAK+L,KAAK0G,oBAAoBzC,YAAY/L,GAC1CjE,KAAK+L,KAAK2G,iBAAiBC,kBAAkB3S,KAAK+L,KAAK0G,qBAS/D,IALKzS,KAAK0f,OAAS/c,EAAUmC,YAAY9E,KAAKsjB,MAAO,IACxB,OAArBtjB,KAAKijB,aAAwBjjB,KAAKijB,YAAYwD,WAC9CzmB,KAAKijB,YAAY7M,OAGpBpW,KAAK0f,MAAV,CAEA,GAAInD,EAAQmK,cAAe,CACvB,IAAIhe,EAAO6T,EAAQ4E,YAEd/E,EAAQgF,OAAO1Y,EAAM0T,EAAQ5E,QAC9BxX,KAAKqlB,eAAiB,GAAK3c,EAAK9E,GAQxC,GALyB,OAArB5D,KAAKijB,aAAyBjjB,KAAKijB,YAAYwD,WAC/CzmB,KAAKijB,YAAY3M,OAErBtW,KAAKgjB,SAAU,GAEVjjB,EAAMkhB,UAAU,MAAQlhB,EAAMkhB,UAAU,YAAc1E,EAAQsC,eAAiB,IAAM7e,KAAKsjB,OAAStjB,KAAK0iB,SAAU,CAEnH,IAAMiE,EAASpK,EAAQsC,eAAiB,EAAKtC,EAAQsC,eAAiB,EACtE7e,KAAKmlB,oBAAsB,EAC3BnlB,KAAKolB,mBAAqB,EAC1BplB,KAAKklB,iBAAoBllB,KAAK+iB,eAAiB/iB,KAAK4iB,UAAa+D,EACjE3mB,KAAKilB,kBAAqBjlB,KAAK8iB,gBAAkB9iB,KAAK4iB,UAAa+D,OAGnE3mB,KAAKklB,iBAAmB,EACxBllB,KAAKilB,kBAAoB,EACzBjlB,KAAKmlB,oBAAsB,GAC3BnlB,KAAKolB,mBAAqB,GAG9B,GAAIrlB,EAAMkhB,UAAU,MAAQlhB,EAAMkhB,UAAU,cAAgB1E,EAAQuC,cAAgB,EAAG,CACnF9e,KAAKgjB,SAAU,EACf,IAAM4D,EAAYrK,EAAQuC,cAAgB,EAAKvC,EAAQuC,cAAgB,EACnE9e,KAAKsjB,OAAS,GACdtjB,KAAKmlB,oBAAsB,EAC3BnlB,KAAKolB,mBAAqB,EAC1BplB,KAAKklB,kBAA4C,GAAtBllB,KAAK+iB,eAAwB/iB,KAAK4iB,UAAagE,EAC1E5mB,KAAKilB,mBAA8C,GAAvBjlB,KAAK8iB,gBAAyB9iB,KAAK4iB,UAAagE,IAG5E5mB,KAAKmlB,oBAAwC,IAAlBnlB,KAAK6iB,WAAoB+D,EACpD5mB,KAAKolB,mBAAuC,IAAlBplB,KAAK6iB,WAAoB+D,GAIvD7mB,EAAMkhB,UAAU,MAAQlhB,EAAMkhB,UAAU,aACxCjhB,KAAKqlB,eAAiB,GAAKrlB,KAAK2iB,aAAe/X,EAAKrH,UAGhDxD,EAAMkhB,UAAU,MAAQlhB,EAAMkhB,UAAU,cACxCjhB,KAAKqlB,eAAiB,GAAKrlB,KAAK2iB,aAAe/X,EAAKrH,UAGpDvD,KAAKqlB,cAAgB1iB,EAAUkkB,YAAY7mB,KAAKqlB,cAAe,EAAKrlB,KAAK2iB,aAAe/X,EAAKrH,WAGrGvD,KAAKqlB,cAAgB1iB,EAAU4C,MAAMvF,KAAKqlB,eAAgB,GAAI,O,oCAI1D7hB,KAAKC,IAAIzD,KAAK+L,KAAKoG,qBAAqBtO,KAAO,EAElB,OAAzB7D,KAAKkjB,iBAA2C,OAAfljB,KAAK6W,QAEjC7W,KAAKkjB,gBAAgBuD,WACtBzmB,KAAKkjB,gBAAgB5M,OAEzBtW,KAAKkjB,gBAAgB4D,OAAOnP,YAAY3X,KAAK6W,MAAM9J,KAAKe,SAASlK,EAAG5D,KAAK6W,MAAM9J,KAAKe,SAASjK,EAAG7D,KAAK6W,MAAM9J,KAAKe,SAAShK,GAEzH9D,KAAKkjB,gBAAgB6D,gBAAgB,IACrC/mB,KAAKkjB,gBAAgB8D,WAAW,MAIP,OAAzBhnB,KAAKkjB,iBAA4BljB,KAAKkjB,gBAAgBuD,WACtDzmB,KAAKkjB,gBAAgB9M,OAGJ,OAArBpW,KAAKijB,aAAuC,OAAfjjB,KAAK6W,OAE9B7W,KAAKijB,YAAYwD,WAAazmB,KAAK6W,MAAM9J,OAEzC/M,KAAKijB,YAAY+D,UAAsD,IAA3CxjB,KAAKC,IAAIzD,KAAKsjB,OAAStjB,KAAKmjB,cACxDnjB,KAAKijB,YAAY6D,OAAOnP,YAAY3X,KAAK6W,MAAM9J,KAAKe,SAASlK,EAAG5D,KAAK6W,MAAM9J,KAAKe,SAASjK,EAAG7D,KAAK6W,MAAM9J,KAAKe,SAAShK,M,qCAM7H,IAAK,IAAIiH,EAAI,EAAGA,EAAI/K,KAAKwf,QAAQyH,eAAgBlc,IAAK,CAElD/K,KAAKwf,QAAQ0H,qBAAqBnc,GAAG,GAErC,IAAMoc,EAAKnnB,KAAKwf,QAAQ4H,oBAAoBrc,GACtCsc,EAAIF,EAAGnT,YACPlL,EAAIqe,EAAGlT,cAETjU,KAAKwkB,YAAYzZ,GAAG8L,OAAS7W,KAAKwkB,YAAYzZ,GAAG8L,MAAM9J,OACvD/M,KAAKwkB,YAAYzZ,GAAG8L,MAAM9J,KAAKe,SAASzN,IAAIgnB,EAAEzjB,IAAKyjB,EAAExjB,IAAKwjB,EAAEvjB,KAC5D9D,KAAKwkB,YAAYzZ,GAAG8L,MAAM9J,KAAKlF,WAAWxH,IAAIyI,EAAElF,IAAKkF,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAExE,S,wCAM7E,IAAM6iB,EAAKnnB,KAAK+L,KAAK0G,oBACf4U,EAAIF,EAAGnT,YACPlL,EAAIqe,EAAGlT,cACbjU,KAAK6O,SAASxO,IAAIyI,EAAElF,IAAKkF,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAExE,KACzCtE,KAAK8N,SAASzN,IAAIgnB,EAAEzjB,IAAKyjB,EAAExjB,IAAKwjB,EAAEvjB,KAClC,IAAIiC,EAAQ/F,KAAK6O,SAASiK,QAC1B/S,EAAMnC,GAAKjB,EAAUsG,QACrBlD,EAAMlC,GAAKlB,EAAUsG,QACrBlD,EAAMjC,GAAKnB,EAAUsG,QACrBjJ,KAAK6O,SAAW/I,EAAWsS,UAAUrS,EAAMnC,EAAGmC,EAAMlC,EAAGkC,EAAMjC,GAEzD9D,KAAK6W,OAAS7W,KAAK6W,MAAM9J,OACzB/M,KAAK6W,MAAM9J,KAAKe,SAASzN,IAAIgnB,EAAEzjB,IAAKyjB,EAAExjB,IAAKwjB,EAAEvjB,KAC7C9D,KAAK6W,MAAM9J,KAAKlF,WAAWxH,IAAIyI,EAAElF,IAAKkF,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAExE,Q,oCAK1D,IAAIgjB,EAAOtnB,KAAKwf,QAAQ+H,eAAerV,oBAAoBlO,SAAW,KAElEsjB,EAAM,OACNA,EAAM,GAEV,IAAM7e,EAAMzI,KAAKgjB,SAAWhjB,KAAKsjB,MAAQ,KAAQ,EAAI,EACrDtjB,KAAKsjB,MAAc,IAANgE,EAAY7e,I,uCAIzBzI,KAAKwf,QAAQgI,iBAAiBxnB,KAAKilB,kBAAmB,GACtDjlB,KAAKwf,QAAQgI,iBAAiBxnB,KAAKilB,kBAAmB,GACtDjlB,KAAKwf,QAAQgI,iBAAiBxnB,KAAKklB,iBAAkB,GACrDllB,KAAKwf,QAAQgI,iBAAiBxnB,KAAKklB,iBAAkB,GAErDllB,KAAKwf,QAAQiI,SAASznB,KAAKmlB,oBAAqB,GAChDnlB,KAAKwf,QAAQiI,SAASznB,KAAKmlB,oBAAqB,GAChDnlB,KAAKwf,QAAQiI,SAASznB,KAAKolB,mBAAqB,EAAG,GACnDplB,KAAKwf,QAAQiI,SAASznB,KAAKolB,mBAAqB,EAAG,K,uCAInDplB,KAAKwf,QAAQkI,iBAAiB,EAAG,GACjC1nB,KAAKwf,QAAQkI,iBAAiB,EAAG,GACjC1nB,KAAKwf,QAAQkI,iBAAiB1nB,KAAKqlB,cAAgB1iB,EAAUsG,QAAS,GACtEjJ,KAAKwf,QAAQkI,iBAAiB1nB,KAAKqlB,cAAgB1iB,EAAUsG,QAAS,K,uCAItE,IAAMoa,EAAYrjB,KAAKujB,mBAAqBvjB,KAAKqjB,WAAc7f,KAAKC,IAAIzD,KAAKsjB,OAAStjB,KAAKqjB,UAC3FrjB,KAAKwjB,aAAe,IAAI7f,EAAQ,EAAG0f,EAAW,GAC9CrjB,KAAKyiB,YAAYjQ,SAASxS,KAAKwjB,aAAa5f,EAAG5D,KAAKwjB,aAAa3f,EAAG7D,KAAKwjB,aAAa1f,GACtF9D,KAAK+L,KAAKqF,oBAAoBpR,KAAKyiB,e,kDAI9BziB,KAAK0f,QACN1f,KAAKmlB,oBAAwC,IAAlBnlB,KAAK6iB,WAChC7iB,KAAKolB,mBAAuC,IAAlBplB,KAAK6iB,WAC/B7iB,KAAKklB,iBAAmB,EACxBllB,KAAKilB,kBAAoB,K,+BAK7BhM,EAAOC,WAAW5X,IAAIsgB,GAAME,UAC5B9hB,KAAK2nB,iBACL3nB,KAAK4nB,4BACL5nB,KAAK6nB,cACL7nB,KAAK8nB,cACL9nB,KAAK+nB,iBACL/nB,KAAKgoB,iBACLhoB,KAAKioB,eACLjoB,KAAKkoB,kBACLloB,KAAKmoB,kB,GAnUwB7Q,GC4BtB8Q,GADY,I,WAtCvB,aAAe,oBACXpoB,KAAKqoB,aAAe,GACpBroB,KAAKsoB,mBAAqB,IAC1BtoB,KAAK0f,OAAQ,E,2DAGF5R,EAAUya,GACrBvoB,KAAKqoB,aAAapc,KAAK,CAAE6B,SAAUA,EAAU2I,KAAM8R,M,6BAGhD9O,GAKH,IAJA,IAAI+O,GAAW,EACXC,EAAY,GACZC,EAAkB,GAEb3d,EAAI,EAAGA,EAAI/K,KAAKqoB,aAAarkB,OAAQ+G,IAAK,CAC/C,IAAMkV,EAAOtc,EAAQuc,SAASlgB,KAAKqoB,aAAatd,GAAG+C,SAAU2L,GAI7D,GAFIwG,EAAOyI,IAAiBA,EAAkBzI,GAE1CA,GAAQjgB,KAAKsoB,qBAAuBtoB,KAAK0f,MAAO,CAChD1f,KAAK0f,OAAQ,EACb8I,GAAW,EACXC,EAAYzoB,KAAKqoB,aAAatd,GAAG0L,KACjC,OAIJiS,EAAkB1oB,KAAKsoB,qBACvBtoB,KAAK0f,OAAQ,GAEb8I,IACAzoB,EAAM4oB,YACNle,GAAWge,UAAUA,Q,MC/BZG,G,kDASjB,aAgB4B,IAAD,EAhBf9Z,EAgBe,uDAhBL,CAAE+Z,UAAWD,EAAME,UAAUC,iBAC3B7mB,MAAO,SACP8mB,UAAW,EACX5U,YAAY,EACZ6U,eAAgB,KAChBC,gBAAiB,KACjBC,WAAY,GACZC,UAAW,GACXC,YAAa,MACbC,iBAAkB,GAClBnQ,OAAQ,IAAIxV,KAAQ,GAAK,EAAG,GAC5BmK,SAAU,IAAInK,KAAQ,EAAG,EAAG,GAC5B2Y,SAAU,IACViN,MAAO,EACP5jB,MAAO,GAAKhD,EAAUsG,QACtBugB,SAAU,KAS9B,OARuB,qBACvB,gBACK1a,QAAUA,EACf,EAAK2a,MAAQ,UAEiB9nB,IAA1B,EAAKmN,QAAQhB,WACb,EAAKgB,QAAQhB,SAAW,IAAInK,KAAQ,EAAG,EAAG,IAEtCmL,EAAQ+Z,WACZ,KAAKD,EAAME,UAAUY,YACjB,EAAKC,yBACL,MACJ,KAAKf,EAAME,UAAUc,MACjB,EAAKC,mBACL,MACJ,KAAKjB,EAAME,UAAUgB,KACjB,EAAKC,kBACL,MACJ,KAAKnB,EAAME,UAAUkB,QACjB,EAAKC,qBACL,MACJ,QACIzU,QAAQoB,IAAI,sBAtBG,S,qEA2BvB5W,KAAKypB,MAAQ,IAAI5oB,IAAuBb,KAAK8O,QAAQ5M,MAAOlC,KAAK8O,QAAQka,WAErEhpB,KAAK8O,QAAQsF,YACbpU,KAAKkqB,gBAETlqB,KAAKypB,MAAMtQ,OAAS,IAAItY,KAExB6B,EAAMpB,IAAItB,KAAKypB,MAAMtQ,QACrBzW,EAAMpB,IAAItB,KAAKypB,S,2CAIfzpB,KAAKypB,MAAQ,IAAI5oB,IAAmBb,KAAK8O,QAAQ5M,MAAOlC,KAAK8O,QAAQka,WACrEtmB,EAAMpB,IAAItB,KAAKypB,S,yCAIfzpB,KAAKypB,MAAQ,IAAI5oB,KAAiBb,KAAK8N,SAAS5L,MAAOlC,KAAK8O,QAAQka,UAAWhpB,KAAK8O,QAAQwN,UAC5Ftc,KAAKypB,MAAMF,MAAQvpB,KAAK8O,QAAQya,MAChC,IAAM9P,EAAMzZ,KAAK8O,QAAQhB,SACzB9N,KAAKypB,MAAM3b,SAASzN,IAAIoZ,EAAI7V,EAAG6V,EAAI5V,EAAG4V,EAAI3V,GAEtC9D,KAAK8O,QAAQsF,YACbpU,KAAKkqB,gBAETxnB,EAAMpB,IAAItB,KAAKypB,S,wCAGfzpB,KAAKypB,MAAQ,IAAI5oB,KAAgBb,KAAK8O,QAAQ5M,MAAOlC,KAAK8O,QAAQka,UAAWhpB,KAAK8O,QAAQwN,SAAUtc,KAAK8O,QAAQnJ,MAAO3F,KAAK8O,QAAQ0a,SAAUxpB,KAAK8O,QAAQya,OAE5J,IAAM9P,EAAMzZ,KAAK8O,QAAQhB,SACnBqL,EAASnZ,KAAK8O,QAAQqK,OAE5BnZ,KAAKypB,MAAM3b,SAASzN,IAAIoZ,EAAI7V,EAAG6V,EAAI5V,EAAG4V,EAAI3V,GAE1C9D,KAAKypB,MAAMtQ,OAAOrL,SAASzN,IAAI8Y,EAAOvV,EAAGuV,EAAOtV,EAAGsV,EAAOrV,GAEtD9D,KAAK8O,QAAQsF,YACbpU,KAAKkqB,gBAETxnB,EAAMpB,IAAItB,KAAKypB,MAAMtQ,QACrBzW,EAAMpB,IAAItB,KAAKypB,S,sCAIfzpB,KAAKypB,MAAMrV,WAAapU,KAAK8O,QAAQsF,WAErCpU,KAAKypB,MAAMU,OAAOC,QAAQpoB,MAAQhC,KAAK8O,QAAQma,eAC/CjpB,KAAKypB,MAAMU,OAAOC,QAAQnoB,OAASjC,KAAK8O,QAAQoa,gBAChDlpB,KAAKypB,MAAMU,OAAOpP,OAAO5Y,KAAOnC,KAAK8O,QAAQqa,WAC7CnpB,KAAKypB,MAAMU,OAAOpP,OAAO3Y,IAAMpC,KAAK8O,QAAQsa,UAC5CppB,KAAKypB,MAAMU,OAAOE,KAAOrqB,KAAK8O,QAAQua,WAEtCrpB,KAAKypB,MAAMU,OAAOpP,OAAOuP,IAAMtqB,KAAK8O,QAAQwa,iBAC5CtpB,KAAKypB,MAAMU,OAAOpP,OAAOwP,QAAUvqB,KAAK8O,QAAQwa,iBAChDtpB,KAAKypB,MAAMU,OAAOpP,OAAOyP,MAAQxqB,KAAK8O,QAAQwa,iBAC9CtpB,KAAKypB,MAAMU,OAAOpP,OAAO0P,MAAQzqB,KAAK8O,QAAQwa,mB,+BAI9C,GAAmB,OAAftpB,KAAKypB,MAET,GAAIzpB,KAAK8O,QAAQ+Z,YAAcD,EAAME,UAAUY,YAAa,CACxD,IAAM9J,EAAS3G,EAAOnL,SACtB9N,KAAKypB,MAAM3b,SAASzN,IAAIuf,EAAOhc,EAAG,EAAGgc,EAAO9b,EAAI,GAChD9D,KAAKypB,MAAMtQ,OAAOrL,SAASzN,IAAIL,KAAK8O,QAAQqK,OAAOvV,EAAIgc,EAAOhc,EAAG5D,KAAK8O,QAAQqK,OAAOtV,EAAG7D,KAAK8O,QAAQqK,OAAOrV,EAAI8b,EAAO9b,QAGxH9D,KAAK8O,QAAQ+Z,YAAcD,EAAME,UAAUgB,OAC1C9pB,KAAKypB,MAAM3b,SAASzN,IAAIL,KAAK8O,QAAQhB,SAASlK,EAAG5D,KAAK8O,QAAQhB,SAASjK,EAAG7D,KAAK8O,QAAQhB,SAAShK,GAChG9D,KAAKypB,MAAMtQ,OAAOrL,SAASzN,IAAIL,KAAK8O,QAAQqK,OAAOvV,EAAI5D,KAAK8O,QAAQqK,OAAOtV,EAAG7D,KAAK8O,QAAQqK,OAAOrV,Q,GA1H3EwT,GAAdsR,GAEVE,UAAY,CACfY,YAAa,EACbE,MAAO,EACPE,KAAM,EACNE,QAAS,G,ICLIU,G,kDACjB,aAAwM,IAAD,EAA3L5b,EAA2L,uDAAjL,CAAEhB,SAAUnK,EAAQ6T,KAAM3I,SAAU/I,EAAWY,WAAYqI,KAAM,EAAGC,SAAU,EAAGC,gBAAiB,GAAKgX,QAAS,IAAI7J,EAAQ,GAAK,IAAMlN,YAAa,GAAK/C,OAAQ,EAAI0K,MAAO,IAAK,4BACnM,cAAM/H,EAAQ+H,MAAO,MAAM,GAAO,GAAM,GAAM,EAAOlT,EAAQ6T,KAAM1R,EAAWY,aAEzEgZ,OAAQ,EACb,EAAKtL,YAAa,EAClB,EAAKuC,eAAgB,EACrB,EAAKD,aAAc,EAEnB,EAAK5H,QAAUA,EACf,EAAK1C,MAAQuC,EAAQgc,kBAAkB7b,EAAQ3C,QAC/C,EAAKJ,KAAO,KACZ,EAAKiM,IAAMlJ,EAAQkJ,IAEnB,EAAKP,UAAU3I,EAAQ+H,MAAO/H,EAAQ+H,OAAO,GAAO,GACnDE,MAAK,WAEF,IAAInH,EAAY,IAAI7K,IAAK8K,YACzBD,EAAUE,cACVF,EAAUG,UAAU,IAAIhL,IAAKC,UAAU,EAAK8J,QAAQhB,SAASlK,EAAG,EAAKkL,QAAQhB,SAASjK,EAAG,EAAKiL,QAAQhB,SAAShK,IAC/G8L,EAAUI,YAAY,IAAIjL,IAAKyK,aAAa,EAAKV,QAAQD,SAASjL,EAAG,EAAKkL,QAAQD,SAAShL,EAAG,EAAKiL,QAAQD,SAAS/K,EAAG,EAAKgL,QAAQD,SAASvK,IAC7I,IAAI2L,EAAc,IAAIlL,IAAKmL,qBAAqBN,GAC5CO,EAAe,IAAIpL,IAAKC,UAAU,EAAG,EAAG,GAC5C,EAAKoH,MAAMgE,sBAAsB,EAAKtB,QAAQC,KAAMoB,GACpD,EAAKpE,KAAO,IAAIhH,IAAKwL,YAAY,IAAIxL,IAAKuL,4BAA4B,EAAKxB,QAAQC,KAAMkB,EAAa,EAAK7D,MAAO+D,IAClH,EAAKpE,KAAKiF,mBAAmB,GAE7B,EAAKjF,KAAKyE,YAAY,EAAK1B,QAAQE,UACnC,EAAKjD,KAAK6E,eAAe,EAAK9B,QAAQI,aACtC,EAAKnD,KAAK8H,mBAAmB,EAAK/E,QAAQG,iBAC1C,EAAKlD,KAAK0E,WAAW,EAAK3B,QAAQmX,QAAQriB,EAAG,EAAKkL,QAAQmX,QAAQpiB,GAElE8K,EAAQlD,MAAMO,aAAa,EAAKD,MAChCrJ,EAAMuV,cAAN,mBAhC+L,E,qDAqCnM,GAAkB,OAAdjY,KAAK+L,KAAT,CACI,IAAMsb,EAAIrnB,KAAK+L,KAAK0G,oBAAoBuB,YAClClL,EAAI9I,KAAK+L,KAAK0G,oBAAoBwB,cAEpCjU,KAAK6W,OAAS7W,KAAK6W,MAAM9J,OACzB/M,KAAK6W,MAAM9J,KAAKe,SAASzN,IAAIgnB,EAAEzjB,IAAKyjB,EAAExjB,IAAKwjB,EAAEvjB,KAC7C9D,KAAK6W,MAAM9J,KAAKlF,WAAWxH,IAAIyI,EAAElF,IAAKkF,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAExE,KACtDtE,KAAK8N,SAASzN,IAAIgnB,EAAEzjB,IAAKyjB,EAAExjB,IAAKwjB,EAAEvjB,KAClC9D,KAAK6O,SAASxO,IAAIyI,EAAElF,IAAKkF,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAExE,W,GA9CvBgT,GCAbsT,G,WACjB,WAAYC,GAAS,oBACjB7qB,KAAK6qB,OAASA,EACd7qB,KAAK8qB,iBAAkB,EACvB9qB,KAAK+qB,QAAS,EACd/qB,KAAKgrB,eAAiB,EACtBhrB,KAAKirB,aAAe,E,sDAIhBlrB,EAAM4gB,aAAa,MAAQpE,EAAQqE,gBAAgBrE,EAAQE,QAAQK,gBACnE9c,KAAK8qB,iBAAmB9qB,KAAK8qB,mB,mCAI7B9qB,KAAK8qB,gBACL9qB,KAAKkrB,cAELlrB,KAAKmrB,iB,oCAIT,GAAsB,OAAlBlS,EAAOE,OAAX,CAEA,IAAMiS,EAASznB,EAAQc,IAAIwU,EAAOE,OAAOrL,SAAU9N,KAAK6qB,QAEpDlnB,EAAQuc,SAASjH,EAAOnL,SAAUsd,GAAU,KAAQprB,KAAK+qB,OACzD9R,EAAOnL,SAAWnK,EAAQ0nB,YAAYpS,EAAOnL,SAAUsd,EAAU,KAGjEprB,KAAK+qB,QAAS,EACd9R,EAAOnL,SAAWsd,GAGtBnS,EAAOqS,YAAYrS,EAAOnL,UAC1BmL,EAAOC,WAAW4G,OAAO7G,EAAOE,OAAOrL,SAASlK,EAAGqV,EAAOE,OAAOrL,SAASjK,EAAGoV,EAAOE,OAAOrL,SAAShK,M,qCAIpG,GAAsB,OAAlBmV,EAAOE,OAAX,CAEAnZ,KAAK+qB,QAAS,EAEb,IAAIhlB,EAAQkT,EAAOE,OAAOtK,SAASiK,QACpC/S,EAAMnC,GAAKjB,EAAUuD,QACrBH,EAAMlC,GAAKlB,EAAUuD,QACrBH,EAAMjC,GAAKnB,EAAUuD,QAErB,IAAMjC,EAAO6B,EAAWsS,UAAUrS,EAAMnC,EAAGmC,EAAMlC,EAAGkC,EAAMjC,GACtD2C,EAAU,IAAI9C,EAAQ,EAAG,GAAI,GACjC8C,EAAQ8kB,OAAOtnB,IAEfwC,EAAU9C,EAAQa,eAAeiC,EAAS,IAClC5C,EAAIoV,EAAOE,OAAOrL,SAASjK,EAAI,EAEvC,IAAMoc,EAAOtc,EAAQuc,SAASjH,EAAOE,OAAOrL,SAAUmL,EAAOnL,UACzD8R,EAASjc,EAAQ0nB,YAAYpS,EAAOnL,SAAUnK,EAAQc,IAAIwU,EAAOE,OAAOrL,SAAUrH,GAAW,GAAMwZ,EAAQrV,EAAKP,aAEpH4O,EAAOqS,YAAY1L,GAEnB3G,EAAOC,WAAW4G,OAAO7G,EAAOE,OAAOrL,SAASlK,EAAGqV,EAAOE,OAAOrL,SAASjK,EAAGoV,EAAOE,OAAOrL,SAAShK,Q,KCrDvF0nB,G,4DAwCjBC,K,sBAAO,sBAAA/T,EAAA,sEACU,IAAI1K,SAAQ,SAACC,EAASC,GAC/B,EAAKuS,OAAS,IAAIa,GAAO,SAAU,MAAM,GAAM,GAAM,EAAM,IAAI3c,EAAQ,EAAG,EAAG,GAAImC,EAAWsS,UAAU,EAAG,IAAK,IAC9G,EAAKqH,OAAOhI,UAAU,SAAU,6BAA6B,GACxDV,MAAK,WACF,EAAK0I,OAAOzT,aAAa,CACrBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,GACbH,KAAM,GACPJ,EAAQ+c,mBAAmB,IAAM,GAAK/nB,EAAQkC,IAAK,IAAIlC,EAAQ,EAAG,EAAG,OAGhF,EAAKgoB,OAAS,IAAIrU,EAAW,SAAU,8BAA8B,GAAO,GAAO,GACnF,EAAKqU,OAAO3f,aAAa,CACrBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,GACbH,KAAM,GACPJ,EAAQid,iBAAiBjoB,EAAQkC,IAAK,IAAIlC,EAAQ,EAAG,EAAK,IAE7D,EAAKkoB,MAAQ,IAAIvU,EAAW,QAAS,6BAA6B,GAAO,GAAM,GAAM,EAAM,IAAI3T,EAAQ,EAAG,GAAI,KAE9G,EAAKmoB,UAAY,IAAIxU,EAAW,YAAa,iCAAiC,GAAO,GAAM,GAC3F,EAAKwU,UAAUnU,YAAY,IAAIhU,EAAQ,EAAG,GAAI,KAE9C,EAAKooB,KAAO,IAAIzU,EAAW,OAAQ,MAAM,GAAO,GAAM,GAAM,GAC5D,EAAKyU,KAAKtU,UAAU,OAAQ,4BAA4B,GACnDV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKD,KAAKlV,MAAM9J,MACnCgK,MAAK,SAAA3K,GACF,EAAK2f,KAAK/f,aACN,CACIgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAIjD,EAAKsoB,WAAa,IAAI3U,EAAW,aAAc,MAAM,GAAO,GAAM,GAAM,GACxE,EAAK2U,WAAWxU,UAAU,aAAc,kCAAkC,GACrEV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKC,WAAWpV,MAAM9J,MACzCgK,MAAK,SAAA3K,GACF,EAAK6f,WAAWjgB,aAAa,CACzBgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAKuoB,YAAc,IAAI5U,EAAW,cAAe,mCAAmC,GAAO,GAAO,GAAM,EAAO,IAAI3T,EAAQ,EAAG,GAAI,KAElI,EAAKwoB,gBAAkB,IAAI7U,EAAW,kBAAmB,MAAM,GAAO,GAAO,GAAM,EAAO,IAAI3T,EAAQ,EAAG,GAAI,KAC7G,EAAKwoB,gBAAgB1U,UAAU,cAAe,uCAAuC,GAChFV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKG,gBAAgBtV,MAAM9J,MAC9CgK,MAAK,SAAA3K,GACF,EAAK+f,gBAAgBngB,aAAa,CAC9BgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAKyoB,cAAgB,IAAI9U,EAAW,gBAAiB,MAAM,GAAO,GAAM,GAAM,GAC9E,EAAK8U,cAAc3U,UAAU,gBAAiB,qCAAqC,GAC9EV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKI,cAAcvV,MAAM9J,MAC5CgK,MAAK,SAAA3K,GACF,EAAKggB,cAAcpgB,aAAa,CAC5BgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAK0oB,kBAAoB,IAAI/U,EAAW,oBAAqB,MAAM,GAAO,GAAM,GAAM,GACtF,EAAK+U,kBAAkB5U,UAAU,oBAAqB,yCAAyC,GAC1FV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKK,kBAAkBxV,MAAM9J,MAChDgK,MAAK,SAAA3K,GACF,EAAKigB,kBAAkBrgB,aAAa,CAChCgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7CykB,GAAmBkE,eAAe,IAAI3oB,GAAS,OAAQ,GAAI,QAAS,aACpEykB,GAAmBkE,eAAe,IAAI3oB,GAAS,OAAQ,GAAI,OAAS,iBACpEykB,GAAmBkE,eAAe,IAAI3oB,EAAQ,OAAQ,GAAI,QAAS,aACnEykB,GAAmBkE,eAAe,IAAI3oB,EAAQ,QAAS,GAAI,QAAS,gBACpEykB,GAAmBkE,eAAe,IAAI3oB,GAAS,OAAQ,EAAG,MAAO,eACjEykB,GAAmBkE,eAAe,IAAI3oB,EAAQ,OAAQ,GAAI,OAAQ,aAElE,EAAK4oB,UAAY,IAAIjV,EAAW,YAAa,MAAM,GAAO,GAAM,GAAM,GACtE,EAAKiV,UAAU9U,UAAU,YAAa,iCAAiC,GAClEV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKO,UAAU1V,MAAM9J,MACxCgK,MAAK,SAAA3K,GACF,EAAKmgB,UAAUvgB,aAAa,CACxBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAK6oB,UAAY,IAAIlV,EAAW,YAAa,MAAM,GAAO,GAAM,GAAM,GACtE,EAAKkV,UAAU/U,UAAU,YAAa,iCAAiC,GAClEV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKQ,UAAU3V,MAAM9J,MACxCgK,MAAK,SAAA3K,GACF,EAAKogB,UAAUxgB,aAAa,CACxBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAK8oB,UAAY,IAAInV,EAAW,YAAa,MAAM,GAAO,GAAM,GAAM,GACtE,EAAKmV,UAAUhV,UAAU,YAAa,iCAAiC,GAClEV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKS,UAAU5V,MAAM9J,MACxCgK,MAAK,SAAA3K,GACF,EAAKqgB,UAAUzgB,aAAa,CACxBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAK+oB,QAAU,IAAIpV,EAAW,UAAW,MAAM,GAAO,GAAM,GAAM,GAClE,EAAKoV,QAAQjV,UAAU,UAAW,+BAA+B,GAC5DV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKU,QAAQ7V,MAAM9J,MACtCgK,MAAK,SAAA3K,GACF,EAAKsgB,QAAQ1gB,aAAa,CACtBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAKgpB,iBAAmB,IAAIrV,EAAW,mBAAoB,MAAM,GAAO,GAAM,GAAM,EAAO,IAAI3T,EAAQ,EAAG,GAAM,KAChH,EAAKgpB,iBAAiBlV,UAAU,mBAAoB,wCAAwC,GAE5F,EAAKmV,OAAS,IAAItV,EAAW,SAAU,MAAM,GAAO,GAAM,GAAM,GAChE,EAAKsV,OAAOnV,UAAU,SAAU,8BAA8B,GACzDV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKY,OAAO/V,MAAM9J,MACrCgK,MAAK,SAAA3K,GACF,EAAKwgB,OAAO5gB,aAAa,CACrBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAKkpB,OAAS,IAAIvV,EAAW,SAAU,MAAM,GAAO,GAAM,GAAM,GAChE,EAAKuV,OAAOpV,UAAU,SAAU,8BAA8B,GACzDV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKa,OAAOhW,MAAM9J,MACrCgK,MAAK,SAAA3K,GACF,EAAKygB,OAAO7gB,aAAa,CACrBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAKmpB,aAAe,IAAIxV,EAAW,eAAgB,MAAM,GAAO,GAAM,GAAM,GAC5E,EAAKwV,aAAarV,UAAU,eAAgB,oCAAoC,GAC3EV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKc,aAAajW,MAAM9J,MAC3CgK,MAAK,SAAA3K,GACF,EAAK0gB,aAAa9gB,aAAa,CAC3BgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAKopB,gBAAkB,IAAIzV,EAAW,kBAAmB,MAAM,GAAO,GAAM,GAAM,GAClF,EAAKyV,gBAAgBtV,UAAU,kBAAmB,uCAAuC,GACpFV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKe,gBAAgBlW,MAAM9J,MAC9CgK,MAAK,SAAA3K,GACF,EAAK2gB,gBAAgB/gB,aAAa,CAC9BgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,KAAO,WAIhD,EAAKqpB,YAAc,IAAI1V,EAAW,cAAe,MAAM,GAAO,GAAM,GAAM,GAC1E,EAAK0V,YAAYvV,UAAU,aAAc,mCAAmC,GACvEV,MAAK,WACF,EAAKiW,YAAYrV,YAAY,IAAIhU,EAAQ,EAAG,KAAO,QAG3D,EAAKspB,WAAa,IAAI3V,EAAW,aAAc,MAAM,GAAO,GAAM,GAAM,GACxE,EAAK2V,WAAWxV,UAAU,aAAc,kCAAkC,GACrEV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKiB,WAAWpW,MAAM9J,MACzCgK,MAAK,SAAA3K,GACF,EAAK6gB,WAAWjhB,aAAa,CACzBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAKupB,UAAY,IAAI5V,EAAW,YAAa,MAAM,GAAO,GAAO,GAAM,GACvE,EAAK4V,UAAUzV,UAAU,YAAa,iCAAiC,GAClEV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKkB,UAAUrW,MAAM9J,MACxCgK,MAAK,SAAA3K,GACF,EAAK8gB,UAAUlhB,aAAa,CACxBgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAM,WAI/C,EAAKwpB,eAAiB,IAAI7V,EAAW,iBAAkB,MAAM,GAAO,GAAM,GAAM,GAChF,EAAK6V,eAAe1V,UAAU,iBAAkB,sCAAsC,GACjFV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKmB,eAAetW,MAAM9J,MAC7CgK,MAAK,SAAA3K,GACF,EAAK+gB,eAAenhB,aAAa,CAC7BgD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,MAAQ,WAIjD,EAAKypB,eAAiB,IAAI9V,EAAW,iBAAkB,MAAM,GAAO,GAAM,GAAM,GAChF,EAAK8V,eAAe3V,UAAU,iBAAkB,sCAAsC,GACjFV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKoB,eAAevW,MAAM9J,MAC7CgK,MAAK,SAAA3K,GACF,EAAKghB,eAAephB,aAAa,CAC7BgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAK0pB,OAAS,IAAI/V,EAAW,SAAU,MAAM,GAAO,GAAM,GAAM,GAChE,EAAK+V,OAAO5V,UAAU,SAAU,8BAA8B,GACzDV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKqB,OAAOxW,MAAM9J,MACrCgK,MAAK,SAAA3K,GACF,EAAKihB,OAAOrhB,aAAa,CACrBgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAK2pB,WAAa,IAAIhW,EAAW,aAAc,MAAM,GAAO,GAAM,GAAM,GACxE,EAAKgW,WAAW7V,UAAU,aAAc,kCAAkC,GACrEV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKsB,WAAWzW,MAAM9J,MACzCgK,MAAK,SAAA3K,GACF,EAAKkhB,WAAWthB,aAAa,CACzBgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAK4pB,OAAS,IAAIjW,EAAW,SAAU,MAAM,GAAO,GAAM,GAAM,GAChE,EAAKiW,OAAO9V,UAAU,SAAU,8BAA8B,GAAM,GAC/DV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKuB,OAAO1W,MAAM9J,MACrCgK,MAAK,SAAA3K,GACF,EAAKmhB,OAAOvhB,aAAa,CACrBgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAK6pB,MAAQ,IAAIlW,EAAW,QAAS,MAAM,GAAO,GAAM,GAAM,GAC9D,EAAKkW,MAAM/V,UAAU,QAAS,6BAA6B,GACtDV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKwB,MAAM3W,MAAM9J,MACpCgK,MAAK,SAAA3K,GACF,EAAKohB,MAAMxhB,aAAa,CACpBgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAK8pB,MAAQ,IAAInW,EAAW,QAAS,MAAM,GAAO,GAAM,GAAM,GAC9D,EAAKmW,MAAMhW,UAAU,QAAS,6BAA6B,GACtDV,MAAK,WACFpI,EAAQqd,gBAAgB,EAAKyB,MAAM5W,MAAM9J,MACpCgK,MAAK,SAAA3K,GACF,EAAKqhB,MAAMzhB,aAAa,CACpBgD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP3C,EAAO,IAAIzI,EAAQ,EAAG,GAAI,WAI7C,EAAK9B,iBAAmB,IAAI+oB,GAAiB,IAAIjnB,EAAQ,EAAG,EAAK,IACjEsV,EAAOG,WAAa,EAAKvX,iBACzBoX,EAAOE,OAAS,EAAKsG,OAErB,EAAKiO,SAAW,IAAIlL,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,GACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,IACXX,SAAU,IACVoB,UAAW,KACXC,WAAY,KACZC,WAAY,KACZjV,KAAM,IACNoU,YAAa,GACbrV,SAAU,IAAInK,GAAS,MAAO,KAAO,MACrCkL,SAAU,IAAI/I,EAAW,EAAG,KAAO,EAAG,MACtCsd,aAAc,IAAIzf,EAAQ,GAAI,EAAG,GACjC+f,UAAW,iCACXe,eAAgB,0CAChBC,gBAAiB,2CACjBqB,UAAW,GACXE,QAAS,KACTE,YAAa,IACbE,aAAc,IACdD,cAAe,EACfI,KAAM,IACNra,OAAQ,IACR0Z,cAAe,KACfb,YAAa,IAAIrhB,GAAS,IAAM,KAAO,MACvCohB,aAAc,IAAIphB,EAAQ,IAAM,KAAO,MACvCmhB,cAAe,IAAInhB,EAAQ,KAAO,IAAM,MACxCkhB,aAAc,IAAIlhB,GAAS,KAAO,IAAM,QAG5C,EAAK6b,QAAU,IAAIgD,GAAQ,CACvBK,WAAY,GACZC,gBAAiB,GACjBC,eAAgB,IAChBM,UAAW,IACXT,UAAW,EACXF,SAAU,IACVoB,UAAW,KACXC,WAAY,GACZC,WAAY,MACZjV,KAAM,IACNoU,aAAc,IACdrV,SAAU,IAAInK,GAAS,OAAQ,MAAQ,QACvCkL,SAAU,IAAI/I,EAAW,EAAG,KAAO,EAAG,MACtCsd,aAAc,IAAIzf,EAAQ,GAAI,EAAG,GACjC+f,UAAW,6BACXe,eAAgB,sCAChBC,gBAAiB,uCACjBqB,UAAW,IACXE,QAAS,EACTE,YAAa,IACbE,aAAc,EACdD,cAAe,EACfI,KAAM,IACNra,OAAQ,IACR0Z,cAAe,GACfb,YAAa,IAAIrhB,GAAS,MAAQ,MAAQ,MAC1CohB,aAAc,IAAIphB,EAAQ,MAAQ,MAAQ,MAC1CmhB,cAAe,IAAInhB,EAAQ,MAAQ,KAAO,MAC1CkhB,aAAc,IAAIlhB,GAAS,MAAQ,KAAO,QAG9C,EAAKgqB,SAAW,IAAInL,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,IACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,IACXX,SAAU,IACVoB,UAAW,KACXC,WAAY,GACZC,WAAY,MACZjV,KAAM,IACNoU,aAAc,GACdrV,SAAU,IAAInK,GAAS,OAAQ,KAAO,KACtCkL,SAAU,IAAI/I,EAAW,EAAG,KAAO,EAAG,MACtCsd,aAAc,IAAIzf,EAAQ,GAAI,EAAG,GACjC+f,UAAW,gCACXe,eAAgB,yCAChBC,gBAAiB,0CACjBqB,UAAW,IACXE,QAAS,GACTE,YAAa,IACbE,aAAc,IACdD,cAAe,EACfI,KAAM,GACNra,OAAQ,IACR0Z,cAAe,KACfb,YAAa,IAAIrhB,GAAS,KAAO,KAAO,KACxCohB,aAAc,IAAIphB,EAAQ,KAAO,KAAO,KACxCmhB,cAAe,IAAInhB,EAAQ,KAAO,IAAM,KACxCkhB,aAAc,IAAIlhB,GAAS,KAAO,IAAM,OAG5C,EAAKiqB,SAAW,IAAIpL,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,EACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,IACXX,SAAU,IACVoB,UAAW,KACXC,WAAY,KACZC,WAAY,KACZjV,KAAM,IACNoU,YAAa,GACbrV,SAAU,IAAInK,GAAS,OAAQ,MAAQ,OACvCkL,SAAU,IAAI/I,EAAW,EAAG,KAAO,EAAG,OACtCsd,aAAc,IAAIzf,EAAQ,GAAI,EAAG,GACjC+f,UAAW,8BACXe,eAAgB,uCAChBC,gBAAiB,wCACjBqB,UAAW,IACXE,QAAS,IACTE,YAAa,IACbE,aAAc,KACdD,cAAe,EACfI,KAAM,GACNra,OAAQ,IACR0Z,cAAe,IACfb,YAAa,IAAIrhB,GAAS,IAAM,KAAO,IACvCohB,aAAc,IAAIphB,EAAQ,IAAM,KAAO,IACvCmhB,cAAe,IAAInhB,EAAQ,IAAM,IAAM,KACvCkhB,aAAc,IAAIlhB,GAAS,IAAM,IAAM,OAG3C,EAAKkqB,SAAW,IAAIrL,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,EACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,IACXX,SAAU,IACVoB,UAAW,EACXC,WAAY,IACZC,WAAY,MACZjV,KAAM,IACNoU,aAAc,IACdrV,SAAU,IAAInK,GAAS,MAAO,MAAQ,OACtCkL,SAAU,IAAI/I,EAAW,EAAG,KAAO,EAAG,MACtCsd,aAAc,IAAIzf,EAAQ,GAAI,EAAG,GACjC+f,UAAW,4BACXe,eAAgB,qCAChBC,gBAAiB,sCACjBqB,UAAW,IACXE,QAAS,IACTE,YAAa,IACbE,aAAc,IACdD,cAAe,IACfI,KAAM,IACNra,OAAQ,IACR0Z,cAAe,GACfb,YAAa,IAAIrhB,GAAS,KAAO,IAAM,IACvCohB,aAAc,IAAIphB,EAAQ,KAAO,IAAM,IACvCmhB,cAAe,IAAInhB,EAAQ,KAAO,GAAK,KACvCkhB,aAAc,IAAIlhB,GAAS,KAAO,GAAK,OAG3C,EAAKkqB,SAAW,IAAIrL,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,EACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,GACXX,SAAU,IACVoB,UAAW,EACXC,WAAY,KACZC,WAAY,KACZjV,KAAM,IACNoU,aAAc,IACdrV,SAAU,IAAInK,GAAS,OAAQ,MAAQ,MACvCkL,SAAU,IAAI/I,EAAW,EAAG,KAAO,EAAG,MACtCsd,aAAc,IAAIzf,EAAQ,GAAI,EAAG,GACjC+f,UAAW,6BACXe,eAAgB,sCAChBC,gBAAiB,uCACjBqB,UAAW,IACXE,QAAS,IACTE,YAAa,IACbE,aAAc,IACdD,cAAe,IACfI,KAAM,IACNra,OAAQ,IACR0Z,cAAe,KACfb,YAAa,IAAIrhB,GAAS,MAAQ,KAAO,KACzCohB,aAAc,IAAIphB,EAAQ,MAAQ,KAAO,KACzCmhB,cAAe,IAAInhB,EAAQ,MAAQ,IAAM,KACzCkhB,aAAc,IAAIlhB,GAAS,MAAQ,IAAM,OAE7CsJ,GAAQ,MApiBT,mF,mDArCHjN,KAAK4B,KAAO,IAAI8oB,GAAK,CACjB5c,SAAU,IAAInK,EAAQ,EAAK,GAAM,IACjCkL,SAAU/I,EAAWY,WACrBqI,KAAM,GACNC,SAAU,GACVC,gBAAiB,GACjBC,YAAa,IACb+W,QAAS,IAAI7J,EAAQ,GAAK,IAC1BjQ,OAAQ,KACR0K,MAAO,mCAGXnU,EAAMorB,WAAW,UAAW,OAE5B9tB,KAAKypB,MAAQ,IAAIb,GAAM,CACnBC,UAAWD,GAAME,UAAUY,YAC3BxnB,MAAO,SACP8mB,UAAW,EACX5U,YAAY,EACZ6U,eAAgB,KAChBC,gBAAiB,KACjBC,WAAY,GACZC,UAAW,IACXC,YAAa,MACbC,iBAAkB,GAClBnQ,OAAQ,IAAIxV,GAAS,GAAI,GAAI,KAGjC3D,KAAK+tB,aAAe,IAAInF,GAAM,CAC1BC,UAAWD,GAAME,UAAUkB,QAC3B9nB,MAAO,SACP8mB,UAAW,KAGfhpB,KAAKyrB,OAAO1U,MAAK,iB,+BA6iBjBgI,EAAeiP,oBAAoBhuB,KAAKyf,OAAO3R,UAC/Csa,GAAmB1mB,OAAO1B,KAAKyf,OAAO3R,c,KCphB/BrD,GAFI,I,WAhEf,aAAe,IAAD,gCAiBdwjB,aAAe,SAAClU,EAAQ/X,EAAOC,GAC3B,EAAK6X,SAAW,IAAID,EACpB,EAAKC,SAASmU,aAAalU,EAAQ/X,EAAOC,EAAQ,EAAK8W,SAAShC,MAAK,SAAA+C,OAMhE/C,MAAK,gBAzBA,KAkCdgC,QAAU,SAACmV,GAEH,EAAKC,gBACL5R,EAAQ6R,eACRruB,EAAM4oB,aAGVpM,EAAQ7a,SACRkJ,EAAKyjB,SACL,EAAKC,SAAS5sB,SACdgB,EAAMhB,SAEN,EAAK6sB,SAAW3jB,EAAKrH,UACrB,EAAKirB,MACD,EAAKD,SAAW,IACbE,SAASC,MAAQ,EAAKF,IAAM,OAC/B,EAAK9jB,UAAYikB,WAAW,EAAKH,KACjC,EAAKA,IAAM,EACX,EAAKD,QAAU,GAGnB5f,EAAQjN,SAEJsZ,EAAe4T,iBACf5T,EAAejZ,SAEf,EAAK+X,SAAS+U,OAAOnsB,EAAM2Y,WAAYpC,EAAOC,aA3DlDlZ,KAAKwuB,IAAM,EACXxuB,KAAKuuB,QAAU,EACfvuB,KAAK0K,UAAY,EACjB1K,KAAKsuB,SAAW,IAAI9C,GACpBxrB,KAAKsuB,SAASQ,O,mDAIdC,sBAAsB/uB,KAAK+Y,W,2CAGV0P,EAAW0F,GAC5BnuB,KAAKyoB,UAAYA,EACjBzoB,KAAKmuB,YAAcA,I,oCAiBnB,OAAOnuB,KAAK8Z,SAASA,a,wDCrCd,YAAAkV,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfhF,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJxoB,MAAO,OACP4N,UAAU,cAAD,OAVL,GAUK,eATJ,GASI,OAEb2f,MAAO,CACHC,gBAAiB,OAASC,KAAkB,IAC5CC,mBAAoB,SACpBC,iBAAkB,YAClBC,eAAgB,UAChB5tB,MAAO,OACP6tB,SAAU,MACV5tB,OAAQ,MACR6tB,OAAQ,QAEZC,UAAW,CACP/tB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX8tB,YAAa,CACThuB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX+tB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNluB,MAAO,QACPE,MAAO,SAEXiuB,YAAa,CACTC,UAAW,OACXluB,MAAO,UAyBTmuB,EArBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF1iB,SAAU,WACV9L,MAAO,QACP6tB,SAAU,QACV5tB,OAAQ,MACRwuB,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbnS,OAAQ,CACJ6R,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAIDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOI,QAEnB,yBAAK+B,MAAOnC,EAAOY,WAAnB,uKAIA,yBAAKuB,MAAOnC,EAAOY,WACf,4BACI,wBAAIuB,MAAOnC,EAAOa,aAAlB,8BACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,2CACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,8EACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,0BACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,+CACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,oFACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,uBACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,sDACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,qCAIR,yBAAKsB,MAAO,CAAEtvB,MAAO,SAEjB,yBAAKsvB,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,oBADJ,IAC0D,uBAAGsB,KAAK,8DAA8DrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAzI,eAG1D,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,sBADJ,KAC6D,uBAAGsB,KAAK,6EAA6ErY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAxJ,mBAG7D,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,YADJ,KACmD,uBAAGsB,KAAK,6BAA6BrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAxG,yBAKvD,kBAAC,KAAD,CAAQJ,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQzR,OAAQ+S,QAASzC,GAAvE,Y,oBCrHD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfhF,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJ5a,UAAU,cAAD,OATL,GASK,eARJ,GAQI,MACT5N,MAAO,QAEXutB,MAAO,CACHC,gBAAiB,OAASoC,KAAsB,IAChDlC,mBAAoB,SACpBC,iBAAkB,YAClBC,eAAgB,UAChB5tB,MAAO,OACPC,OAAQ,MACR6tB,OAAQ,QAEZC,UAAW,CACP/tB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX8tB,YAAa,CACThuB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX+tB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNluB,MAAO,QACPE,MAAO,SAEXiuB,YAAa,CACTC,UAAW,OACXluB,MAAO,UA0BTmuB,EAtBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF1iB,SAAU,WACV9L,MAAO,QACPC,OAAQ,MACRwuB,gBAAiB,uBACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,OACTlB,SAAU,SAEdjR,OAAQ,CACJ6R,gBAAiB,0BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAKDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAGjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOI,QAEnB,yBAAK+B,MAAOnC,EAAOY,WAAnB,iIAIA,yBAAKuB,MAAOnC,EAAOY,WACf,4BACI,wBAAIuB,MAAOnC,EAAOa,aAAlB,iCACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,0BACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,6DACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,oFACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,uBACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,wBAIR,yBAAKsB,MAAO,CAAEtvB,MAAO,SAEjB,yBAAKsvB,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,oBADJ,IAC0D,uBAAGsB,KAAK,+EAA+ErY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA1J,uBAG1D,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,sBADJ,KAC6D,uBAAGsB,KAAK,iFAAiFrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA5J,2BAG7D,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,YADJ,KACmD,uBAAGsB,KAAK,mCAAmCrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA9G,oBAKvD,kBAAC,KAAD,CAAQJ,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQzR,OAAQ+S,QAASzC,GAAvE,Y,oBCnHD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfhF,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJ5a,UAAU,cAAD,OATL,GASK,eARJ,GAQI,MACT5N,MAAO,QAEXutB,MAAO,CACHC,gBAAiB,OAASqC,KAAkB,IAC5CjC,eAAgB,UAChBF,mBAAoB,SACpBC,iBAAkB,YAClB3tB,MAAO,OACPC,OAAQ,MACR6tB,OAAQ,OAEZC,UAAW,CACP/tB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX8tB,YAAa,CACThuB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX+tB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNluB,MAAO,QACPE,MAAO,SAEXiuB,YAAa,CACTC,UAAW,OACXluB,MAAO,UAyBTmuB,EArBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF1iB,SAAU,WACV9L,MAAO,QACP6tB,SAAU,QACV5tB,OAAQ,MACRwuB,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbnS,OAAQ,CACJ6R,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAIDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOI,QAEnB,yBAAK+B,MAAOnC,EAAOY,WAAnB,wQAKA,yBAAKuB,MAAOnC,EAAOY,WACf,4BACI,wBAAIuB,MAAOnC,EAAOa,aAAlB,mCACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,WACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,yDACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,iDACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,0DACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,mFACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,2EACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,sFAIR,yBAAKsB,MAAO,CAAEtvB,MAAO,SAEjB,yBAAKsvB,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,YADJ,KACmD,uBAAGsB,KAAK,wBAAwBrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAnG,sBAEnD,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,WADJ,IACiD,uBAAGsB,KAAK,+BAA+BrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA1G,kCAIrD,kBAAC,KAAD,CAAQJ,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQzR,OAAQ+S,QAASzC,GAAvE,Y,oBC9GD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfhF,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJ5a,UAAU,cAAD,OATL,GASK,eARJ,GAQI,MACT5N,MAAO,QAEXutB,MAAO,CACHC,gBAAiB,OAASsC,KAAqB,IAC/ClC,eAAgB,UAChBF,mBAAoB,SACpBC,iBAAkB,YAClB3tB,MAAO,OACPC,OAAQ,MACR6tB,OAAQ,OAEZC,UAAW,CACP/tB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX8tB,YAAa,CACThuB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX+tB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNluB,MAAO,QACPE,MAAO,SAEXiuB,YAAa,CACTC,UAAW,OACXluB,MAAO,UA0BTmuB,EAtBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF1iB,SAAU,WACV9L,MAAO,QACP6tB,SAAU,QACV5tB,OAAQ,MACRwuB,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbnS,OAAQ,CACJ6R,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAKDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOI,QAEnB,yBAAK+B,MAAOnC,EAAOY,WACf,+FACA,0GACA,8FAGJ,yBAAKuB,MAAOnC,EAAOY,WACf,2CACA,4BACI,wBAAIuB,MAAOnC,EAAOa,aAAlB,kBACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,cAEJ,wCACA,4BACI,wBAAIsB,MAAOnC,EAAOa,aAAlB,4BACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,0CACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,iEAIR,kBAAC,KAAD,CAAQsB,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQzR,OAAQ+S,QAASzC,GAAvE,Y,oBCvGD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfhF,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJ5a,UAAU,cAAD,OATL,GASK,eARJ,GAQI,MACT5N,MAAO,QAEXutB,MAAO,CACHC,gBAAiB,OAASuC,KAAoB,IAC9CrC,mBAAoB,SACpBC,iBAAkB,YAClBC,eAAgB,UAChB5tB,MAAO,OACPC,OAAQ,MACR6tB,OAAQ,QAEZC,UAAW,CACP/tB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX8tB,YAAa,CACThuB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX+tB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNluB,MAAO,QACPE,MAAO,SAEXiuB,YAAa,CACTC,UAAW,OACXluB,MAAO,UA0BTmuB,EAtBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF1iB,SAAU,WACV9L,MAAO,QACPC,OAAQ,MACRwuB,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,OACTlB,SAAU,SAEdjR,OAAQ,CACJ6R,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAKDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOI,QAEnB,yBAAK+B,MAAOnC,EAAOY,WAAnB,2HAIA,yBAAKuB,MAAOnC,EAAOY,WACf,4BACI,wBAAIuB,MAAOnC,EAAOa,aAAlB,iCACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,0BACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,6DACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,oFACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,uBACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,sBACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,mCACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,iDACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,2BAIR,yBAAKsB,MAAO,CAAEtvB,MAAO,SACjB,yBAAKsvB,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,YADJ,KACmD,uBAAGsB,KAAK,iCAAiCrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA5G,kBAIvD,kBAAC,KAAD,CAAQJ,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQzR,OAAQ+S,QAASzC,GAAvE,YC5GD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfhF,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJ5a,UAAU,cAAD,OATL,GASK,eARJ,GAQI,MACT5N,MAAO,QAEX+tB,UAAW,CACP/tB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX8tB,YAAa,CACThuB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEX+tB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNluB,MAAO,QACPE,MAAO,SAEXiuB,YAAa,CACTC,UAAW,OACXluB,MAAO,UA0BTmuB,EAtBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF1iB,SAAU,WACV9L,MAAO,QACPC,OAAQ,MACRwuB,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,OACTlB,SAAU,SAEdjR,OAAQ,CACJ6R,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAKDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOY,WACf,yBAAKuB,MAAOnC,EAAOa,aAAnB,cACA,4BACI,wBAAIsB,MAAOnC,EAAOa,aAAlB,WACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,cACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,aACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,sBAEJ,yBAAKsB,MAAOnC,EAAOa,aAAnB,YACA,4BACI,wBAAIsB,MAAOnC,EAAOa,aAAlB,aACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,gBAEJ,yBAAKsB,MAAOnC,EAAOa,aAAnB,gBACA,4BACI,wBAAIsB,MAAOnC,EAAOa,aAAlB,aACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,UACA,wBAAIsB,MAAOnC,EAAOa,aAAlB,gBAIR,yBAAKsB,MAAO,CAAEtvB,MAAO,SAEjB,yBAAKsvB,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,WADJ,IACiD,uBAAGsB,KAAK,0CAA0CrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAArH,4CAEjD,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,cADJ,KACqD,uBAAGsB,KAAK,6BAA6BrY,OAAO,SAASsY,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAxG,eAIzD,kBAAC,KAAD,CAAQJ,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQzR,OAAQ+S,QAASzC,GAAvE,YCvGD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAEZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACf0C,eAAgB,SAChBhwB,MAAO,QACPC,OAAQ,SAEZysB,MAAO,CACH1sB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,QACP+vB,SAAU,OACVC,UAAW,SACXpkB,SAAU,YAEdqkB,YAAa,CACT9C,QAAS,OACTC,cAAe,SACfc,UAAW,OACXluB,MAAO,QACP8vB,eAAgB,UAEpBI,QAAS,CACLhC,UAAW,OACXluB,MAAO,UAyBTmuB,EArBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF1iB,SAAU,WACV9L,MAAO,IACPC,OAAQ,MACRwuB,gBAAiB,4BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbnS,OAAQ,CACJ6R,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzB5uB,MAAO,MACP6uB,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAIDC,GAQhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,6BACI,yBAAKC,MAAOnC,EAAOT,OAAnB,qBAGA,yBAAK4C,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MACzC,yBAAKc,MAAOnC,EAAOgD,aACf,kBAAC,KAAD,CAAQb,MAAOnC,EAAOiD,QAASb,UAAWlB,EAAQzR,OAAQ+S,QAnB9E,WACIzC,MAkBgB,YACA,kBAAC,KAAD,CAAQoC,MAAOnC,EAAOiD,QAASb,UAAWlB,EAAQzR,OAAQ+S,QAhB9E,cAgBoB,oBC3ET,YAAA3C,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfhF,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJxoB,MAAO,OACP4N,UAAU,cAAD,OAVL,GAUK,eATJ,GASI,OAEb8e,MAAO,CACH1sB,MAAO,OACP8tB,OAAQ,OACR5tB,MAAO,SAEXkwB,QAAS,CACLhC,UAAW,OACXluB,MAAO,UAwBTmuB,EApBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF1iB,SAAU,WACV9L,MAAO,IACPC,OAAQ,MACRwuB,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbnS,OAAQ,CACJ6R,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAIDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MACzC,yBAAKc,MAAOnC,EAAOT,OAAnB,qBAGA,kBAAC,KAAD,CAAQ4C,MAAOnC,EAAOiD,QAASb,UAAWlB,EAAQzR,OAAQ+S,QAASzC,GAAnE,Y,yxCC1DKmD,G,kDAEjB,WAAYrD,GAAQ,IAAD,8BACf,gBAQJsD,UAAY,SAACC,GACT,EAAKC,UAAY,EACjB,EAAKC,SAAS,CAAEC,MAAOH,KAXR,EAcnBI,eAAiB,WACb,EAAKH,YAED,EAAKA,WAAa,IAClB,EAAKA,UAAY,EACjB,EAAKC,SAAS,CAAEC,MAAO,WAjB3B,EAAK7f,MAAQ,CACT6f,MAAO,QAEX,EAAKF,UAAY,EACjBjW,EAAQoB,eAAiB,EAAK2U,UANf,E,qDAwBf,IAAIvwB,GAAS,EAEY,cAArB/B,KAAK6S,MAAM6f,OAA8C,iBAArB1yB,KAAK6S,MAAM6f,QAC/C3wB,GAAS,GAOb,OACI,yBAAKuvB,MALM,CACPxjB,SAAU,QAAS9L,MAAO,QAASC,OAAQ,QAAS4uB,QAAS,EAAGf,OAAQ,EAAG8C,SAAU,SAAUC,OAAQ,IAKtG9wB,EAAS/B,KAAK8yB,kBAAoB,Q,wCAO3C,IAAMC,EAAQC,aAAH,MAQLC,EAAOD,aAAH,MAQJE,EAAOF,aAAH,MAOJG,EAAQC,KAAOC,KAAV,KAaON,EAAeE,EAAaC,GAK9C,OACI,kBAACC,EAAD,CAAOR,eAAgB3yB,KAAK2yB,gBACxB,kBAAC,KAAD,CAAiBzwB,MAAM,WAAWoxB,KAAK,KAAKC,KAAMC,OADtD,YAC6ExzB,KAAK6S,MAAM6f,W,GAxF7De,IAAMC,WCCxBC,G,kDAEjB,WAAY3E,GAAQ,IAAD,8BACf,gBAQJ4E,iBAAmB,WACf,EAAKnB,SAAS,CAAEmB,kBAAkB,KAVnB,EA6BnB1E,WAAa,WACT,EAAKuD,SAAS,CAAEoB,aAAc,UA9Bf,EAiCnBpL,UAAY,SAAC2G,GACT,EAAKqD,SAAS,CAAEoB,aAAczE,KAlCf,EAqCnBjB,YAAc,WACV,MAAmC,SAA5B,EAAKtb,MAAMghB,cApClB,EAAK9Z,OAAS,KACd,EAAK+Z,UAAW,EAChB,EAAKjhB,MAAQ,GACb0J,EAAQwX,kBAAoB,EAAKH,iBACjCI,OAAOzV,iBAAiB,SAAU,EAAK0V,cANxB,E,2DAcfvxB,EAAMwxB,cAAczF,SAAS1iB,KAAKooB,YAAa1F,SAAS1iB,KAAKqoB,cAC7Dnb,EAAOob,UAAU,GAAI3xB,EAAMxB,YAAa,GAAK,KAE7CuJ,GAAW6pB,cAAcja,QAAQ3X,EAAM1B,YAAa0B,EAAMzB,gB,uCAG7CiW,GACb1B,QAAQoB,IAAIM,K,2CAGKA,GACjB1B,QAAQoB,IAAIM,K,+BAiBZ,OACI,yBAAKoa,MAAO,CAAExjB,SAAU,WAAY9L,MAAO,QAASC,OAAQ,QAAS4uB,QAAS,EAAGf,OAAQ,EAAG8C,SAAU,SAAUC,OAAQ,IACpH,kBAAC,GAAD,MACA,yBAAKvB,MAAO,CAAExjB,SAAU,WAAY9L,MAAO,QAASC,OAAQ,QAAS4uB,QAAS,EAAGf,OAAQ,EAAG8C,SAAU,SAAUC,OAAQ,U,GA/ChGY,IAAMC,WCUzBa,G,kDAEjB,WAAYvF,GAAQ,IAAD,8BACf,gBAgBJvD,KAAO,WACC,EAAKqI,WAET,EAAKA,UAAW,EAChBpxB,EAAMwxB,cAAczF,SAAS1iB,KAAKooB,YAAa1F,SAAS1iB,KAAKqoB,cAC7Dnb,EAAOob,UAAU,GAAI3xB,EAAMxB,YAAa,GAAK,KAC7CuJ,GAAWwjB,aAAa,EAAKlU,OAAQrX,EAAM1B,YAAa0B,EAAMzB,cAE9D,EAAK8Y,OAAOiC,UAzBG,EA+CnBwY,WAAa,WACTz0B,EAAM4oB,aAhDS,EAmDnBuG,WAAa,WACT,EAAKuD,SAAS,CAACoB,aAAc,UApDd,EAuDnBpL,UAAY,SAAC2G,GACT,EAAKqD,SAAS,CAACoB,aAAczE,KAxDd,EA2DnBjB,YAAc,WACV,MAAmC,SAA5B,EAAKtb,MAAMghB,cA1DlB,EAAK9Z,OAAS,KACd,EAAK+Z,UAAW,EAChB,EAAKjhB,MAAQ,CACTghB,aAAc,QAGlBpF,SAASlQ,iBAAiB,UAAW,EAAKkW,gBAC1ChG,SAASlQ,iBAAiB,QAAS,EAAKmW,aATzB,E,gEAafjqB,GAAWkqB,qBAAqB30B,KAAKyoB,UAAWzoB,KAAKmuB,aACrD1jB,GAAWqkB,S,uCAcE5X,GACb1B,QAAQoB,IAAIM,K,2CAGKA,GACjB1B,QAAQoB,IAAIM,K,qCAEDA,GACXA,EAAE0d,iBACF1d,EAAE2d,kBACF90B,EAAM+0B,OAAO5d,EAAE9W,O,kCAGP8W,GACRA,EAAE0d,iBACF1d,EAAE2d,kBACF90B,EAAMg1B,UAAU7d,EAAE9W,O,+BAmBZ,IAAD,OACL,OACI,yBAAMkxB,MAAO,CAAItvB,MAAO,QAASC,OAAO,QAAS4uB,QAAQ,EAAGf,OAAO,EAAG8C,SAAS,WAC3E,kBAAC,GAAD,MACA,4BAAQtB,MAAO,CAAEP,QAAS,OAAQ1B,QAAS,QAASrtB,MAAO,QAASC,OAAQ,QAAS6L,SAAS,SAAUknB,SAAS,IAAIC,IAAK,SAACC,GAAQ,EAAKnb,OAASmb,EAAG,EAAKzJ,QAAW0J,OAAQn1B,KAAKw0B,aAEjL,kBAACY,GAAD,CAAgBnG,OAAoC,cAA5BjvB,KAAK6S,MAAMghB,aAA8B3E,WAAYlvB,KAAKkvB,aAClF,kBAACmG,GAAD,CAAoBpG,OAAoC,kBAA5BjvB,KAAK6S,MAAMghB,aAAkC3E,WAAYlvB,KAAKkvB,aAC1F,kBAACoG,GAAD,CAAgBrG,OAAoC,cAA5BjvB,KAAK6S,MAAMghB,aAA8B3E,WAAYlvB,KAAKkvB,aAClF,kBAACqG,GAAD,CAAmBtG,OAAoC,iBAA5BjvB,KAAK6S,MAAMghB,aAAiC3E,WAAYlvB,KAAKkvB,aACxF,kBAACsG,GAAD,CAAkBvG,OAAoC,gBAA5BjvB,KAAK6S,MAAMghB,aAAgC3E,WAAYlvB,KAAKkvB,aACtF,kBAACuG,GAAD,CAAgBxG,OAAoC,cAA5BjvB,KAAK6S,MAAMghB,aAA8B3E,WAAYlvB,KAAKkvB,aAClF,kBAAC,GAAD,CAAeD,OAAoC,cAA5BjvB,KAAK6S,MAAMghB,aAA8B3E,WAAYlvB,KAAKkvB,WAAYwG,UAAW11B,KAAKyoB,YAC7G,kBAAC,GAAD,CAAiBwG,OAAoC,gBAA5BjvB,KAAK6S,MAAMghB,aAAgC3E,WAAYlvB,KAAKkvB,WAAYwG,UAAW11B,KAAKyoB,iB,GA9E/FgL,IAAMC,W,m/BCXnBiC,G,kDAEjB,WAAY3G,GAAQ,IAAD,8BACf,gBAeJ4G,QAAU,WAQN,GAPIlzB,EAAMoxB,aACN,EAAKrB,SAAS,CAAEoD,QAAQ,IACxBC,cAAc,EAAKC,kBAGvB,EAAKC,OAASprB,EAAKrH,UAEf,EAAKyyB,OAAS,GAAK,CACnB,EAAKA,MAAQ,EACb,IAAIC,EAAQ,EAAKpjB,MAAMqjB,eACvBD,GAASA,EAAQ,GAAK,EAEtB,EAAKxD,SAAS,CAAEyD,eAAgBD,IAG/BvzB,EAAMoxB,YACPE,OAAOjF,sBAAsB,EAAK6G,UAjCvB,EAoCnBO,UAAY,WACRvU,GAAMwU,mBArCS,EAoDnBzD,eAAiB,SAACzb,GACdA,EAAE2d,kBACF,EAAKpC,SAAS,CAAE4D,UAAU,KAtDX,EAyDnBC,aAAe,SAACpf,GACZA,EAAE2d,kBACE,EAAK0B,kBACT,EAAKA,iBAAkB,EACvB,EAAKJ,YACL,EAAK1D,SAAS,CAAE+D,MAAM,MA5DtB,EAAK3jB,MAAQ,CACTqjB,eAAgB,EAChBL,QAAQ,EACRQ,UAAU,EACVG,MAAM,GAEV,EAAKD,iBAAkB,EACvB,EAAKP,MAAQ,EATE,E,gEAafhC,OAAOjF,sBAAsB/uB,KAAK41B,W,sCA8BlC,OACI,yBAAKtE,MAAO,CAAEmF,WAAY,QAASz0B,MAAO,OAAQC,OAAQ,OAAQ6L,SAAU,WAAYwc,IAAK,EAAGE,KAAM,IAClG,yBAAK8G,MAAO,CAAEmF,WAAY,QAASz0B,MAAO,QAASC,OAAQ,QAAS6L,SAAU,WAAYwc,IAAK,EAAGE,KAAM,EAAGD,OAAQ,EAAGE,MAAO,EAAGqF,OAAQ,OAAQmC,SAAU,MAAOW,SAAU,WAA3K,WAJO,IAKa8D,OAAO12B,KAAK6S,MAAMqjB,oB,mCAoB9C,IAAMS,EAAU3D,aAAH,MAKP4D,EAAOxD,KAAOyD,IAAV,KAWI72B,KAAK6S,MAAM2jB,KAAOG,EAAU,MAGpCG,EAAS1D,KAAOxU,OAAV,MAgBZ,OACI,kBAACgY,EAAD,CAAMjE,eAAgB3yB,KAAK2yB,gBACvB,kBAACmE,EAAD,CAAQnF,QAAS3xB,KAAKs2B,cAAtB,c,+BAMR,OAAQt2B,KAAK6S,MAAMgjB,OAAiC71B,KAAK6S,MAAMwjB,SAA+B,KAApBr2B,KAAK+2B,aAAnD/2B,KAAKg3B,oB,GA/GJvD,IAAMC,WCW5BuD,G,uKATX,OACE,6BACG,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAS3F,MAAO,CAACxjB,SAAU,WAAY+kB,OAAO,U,GANrCY,IAAMC,WCOJwD,QACW,cAA7BlD,OAAOmD,SAASC,UAEe,UAA7BpD,OAAOmD,SAASC,UAEhBpD,OAAOmD,SAASC,SAASC,MACvB,2DCZNC,IAASv1B,OAEP,kBAAC,IAAMw1B,WAAP,KACE,kBAAC,GAAD,OAGF9I,SAAS+I,eAAe,SDuHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB5gB,MAAK,SAAA6gB,GACJA,EAAaC,gBAEd5gB,OAAM,SAAA1B,GACLC,QAAQD,MAAMA,EAAMuiB,c","file":"static/js/main.3b3ecc4d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/roadracerlogo.bc79bb73.png\";","module.exports = __webpack_public_path__ + \"static/media/mightychickenlogo.58923630.png\";","module.exports = __webpack_public_path__ + \"static/media/pawsnfind.3a4c06f8.png\";","module.exports = __webpack_public_path__ + \"static/media/auctionbentologo.3d52352f.png\";","module.exports = __webpack_public_path__ + \"static/media/skullvalleylogo.cbbd48b3.png\";","import InputManager from './InputManager';\n\nlet Input = null;\n\nif (Input === null)\n    Input = new InputManager();\n\nexport default Input;","export default class InputManager {\n    constructor() {\n        this.keyDown = new Map();\n        this.keyPressed = new Map();\n    }\n\n    addKey(key) {\n        this.keyDown.set(key.toLowerCase(), 1);\n        if (this.keyPressed.get(key.toLowerCase()) !== 2) {\n            this.keyPressed.set(key.toLowerCase(), 1);\n        }\n    }\n\n    removeKey(key) {\n        this.keyDown.delete(key.toLowerCase());\n        this.keyPressed.delete(key.toLowerCase());\n    }\n\n    isKeyDown(key) {\n        return this.keyDown.has(key.toLowerCase());\n    }\n\n    isKeyPressed(key) {\n        if (this.keyPressed.has(key.toLowerCase()) && this.keyPressed.get(key.toLowerCase()) === 1) {\n            this.keyPressed.set(key.toLowerCase(), 2);\n            return true;\n        }\n\n        return false;\n    }\n\n    clearKeys() {\n        this.keyDown.clear();\n        this.keyPressed.clear();\n    }\n\n    json(){\n        return {\n            keyDown: this.keyDown,\n            keyPressed: this.keyPressed\n        }\n    }\n}","import * as THREE from \"three\";\n\nclass SceneManager {\n\n    static FOG_TYPE = {\n        LINEAR: 0,\n        EXPONENTIAL: 1,\n    };\n\n    constructor() {\n        this.scene = new THREE.Scene();\n        this.enabledObjects = {};\n        this.disabledObjects = {};\n        this.screenWidth = 1024;\n        this.screenHeight = 600;\n        this.aspectRatio = 1024 / 600;\n        this.objectLoading = 0;\n        this.objectLoaded = 0;\n    }\n\n    add(obj) {\n        this.scene.add(obj);\n    }\n\n    addGameObject(obj) {\n        if (obj.objID in this.disabledObjects)\n            this.enableObject(obj);\n        else\n            if (!(obj.objID in this.enableObject))\n                this.enabledObjects[obj.objID] = obj;\n    }\n\n    getScene() {\n        return this.scene;\n    }\n\n    enableObject(obj) {\n        if (obj.objID in this.disabledObjects) {\n            this.enabledObjects[obj.objID] = obj;\n            delete this.disabledObjects[obj.objID];\n        }\n    }\n\n    disableObject(obj) {\n        if (obj.objID in this.enableObjects) {\n            this.disabledObjects[obj.objID] = obj;\n            delete this.enabledObjects[obj.objID];\n        }\n    }\n\n    deleteObject(obj){\n       // const object = this.scene.getObjectByProperty( 'uuid', obj.objID );\n    }\n\n    update() {\n        for (let obj in this.enabledObjects) {\n            this.enabledObjects[obj].update();\n        }\n\n        if (this.ball !== undefined && this.ball !== null)\n            this.cameraController.ball = this.ball;\n\n        for (let obj in this.enabledObjects) {\n            this.enabledObjects[obj].lateUpdate();\n        }\n        \n        for (let obj in this.enabledObjects) {\n            this.enabledObjects[obj].render();\n        }\n    }\n\n    setScreenSize(width, height) {\n        this.screenWidth = width;\n        this.screenHeight = height;\n\n        this.aspectRatio = width / height;\n    }\n\n    setLinearFog(color, near, far) {\n        this.scene.fog = new THREE.Fog(color, near, far);\n    }\n\n    setExpoFog(color, density) {\n        this.scene.fog = new THREE.FogExp2(color, density);\n    }\n\n    isLoaded(){\n        return this.objectLoaded === this.objectLoading && this.objectLoading !== 0;\n    }\n}\n\nconst Scene = new SceneManager();\nexport default Scene;","export default class MathTools {\n    static get rad2Deg() {\n        return 180.0 / Math.PI;\n    }\n\n    static get deg2Rad() {\n        return Math.PI / 180.0;\n    }\n\n    static approximate(v1, v2) {\n        if (v1 > v2 - Number.EPSILON && v1 < v2 + Number.EPSILON)\n            return true;\n\n        return false;\n    }\n\n    static clamp(value, min, max) {\n        let minVal = min;\n        let maxVal = max;\n\n        if (min > max) {\n            minVal = max;\n            maxVal = min;\n        }\n\n        if (value < minVal)\n            return minVal;\n\n        if (value > maxVal)\n            return maxVal;\n\n        return value;\n    }\n\n    static moveTowards(from, to, deltaTime) {\n        if (Math.abs(from - to) <= deltaTime) return to;\n\n        return from + ((to - from) * deltaTime);\n    }\n}","import * as THREE from \"three\";\nimport MathTools from './MathTools';\nimport Ammo from 'ammo.js';\n\nexport default class Vector3 {\n\n    constructor(x = 0.0, y = 0.0, z = 0.0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    set(x, y, z){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n\n        return this;\n    }\n\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n\n    magnitude() {\n        return this.length();\n    }\n\n    rotate(quat){\n        let v = new Vector3(quat.x, quat.y, quat.z);\n\n        const d1 = 2.0 * Vector3.Dot(v, this);\n        const d2 = (quat.w * quat.w - Vector3.Dot(v, v));\n        \n        let vOut = new Vector3();\n        vOut = Vector3.MultiplyScalar(v, d1);\n        vOut = Vector3.Add(vOut, Vector3.MultiplyScalar(this, d2));\n\n        let c1 = Vector3.Cross(v, this);\n\n        c1 = Vector3.MultiplyScalar(c1, 2.0 * quat.w);\n        vOut = Vector3.Add(vOut, c1);\n\n        this.x = vOut.x;\n        this.y = vOut.y;\n        this.z = vOut.z;\n    }\n\n    normalize() {\n        let mag = this.magnitude();\n\n        if (MathTools.approximate(mag, 0.0)) {\n            this.x = 0.0;\n            this.y = 0.0;\n            this.z = 0.0;\n\n            return;\n        }\n\n        this.x /= mag;\n        this.y /= mag;\n        this.z /= mag;\n\n        return this;\n    }\n\n    negate() {\n        this.x *= -1.0;\n        this.y *= -1.0;\n        this.z *= -1.0;\n    }\n\n    to3jsV3() {\n        return new THREE.Vector3(this.x, this.y, this.z);\n    }\n\n    to_btVector3() {\n        return new Ammo.btVector3(this.x, this.y, this.z);\n    }\n\n    toString() {\n        return '( x: ' + this.x + '  y: ' + this.y + '  z: ' + this.z + ' )';\n    }\n\n    static get zero() { return new Vector3(0.0, 0.0, 0.0); }\n    static get one() { return new Vector3(1.0, 1.0, 1.0); }\n    static get up() { return new Vector3(0.0, 1.0, 0.0); }\n    static get down() { return new Vector3(0.0, -1.0, 0.0); }\n    static get forward() { return new Vector3(0.0, 0.0, -1.0); }\n    static get back() { return new Vector3(0.0, 0.0, 1.0); }\n    static get left() { return new Vector3(-1.0, 0.0, 0.0); }\n    static get right() { return new Vector3(1.0, 0.0, 0.0); }\n\n    static Add(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x + v2.x;\n        v.y = v1.y + v2.y;\n        v.z = v1.z + v2.z;\n\n        return v;\n    }\n\n    static Subtract(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x - v2.x;\n        v.y = v1.y - v2.y;\n        v.z = v1.z - v2.z;\n\n        return v;\n    }\n\n    static Multiply(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x * v2.x;\n        v.y = v1.y * v2.y;\n        v.z = v1.z * v2.z;\n\n        return v;\n    }\n\n    static Divide(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x / v2.x;\n        v.y = v1.y / v2.y;\n        v.z = v1.z / v2.z;\n\n        return v;\n    }\n\n    static DivideScalar(v1, scalar) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x / scalar;\n        v.y = v1.y / scalar;\n        v.z = v1.z / scalar;\n\n        return v;\n    }\n\n    static AddScalar(v1, scalar) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x + scalar;\n        v.y = v1.y + scalar;\n        v.z = v1.z + scalar;\n\n        return v;\n    }\n\n    static SubtractScalar(v1, scalar) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x - scalar;\n        v.y = v1.y - scalar;\n        v.z = v1.z - scalar;\n\n        return v;\n    }\n\n    static MultiplyScalar(v1, scalar) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x * scalar;\n        v.y = v1.y * scalar;\n        v.z = v1.z * scalar;\n\n        return v;\n    }\n\n    static Cross(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n\n        v.x = v1.y * v2.z - v1.z * v2.y;\n        v.y = v1.z * v2.x - v1.x * v2.z;\n        v.z = v1.x * v2.y - v1.y * v2.x;\n\n        return v;\n    }\n\n    static Distance(v1, v2) {\n        let delta = Vector3.Subtract(v2, v1);\n\n        let distance = Math.sqrt(delta.x * delta.x + delta.y * delta.y + delta.z * delta.z);\n\n        return distance;\n    }\n\n    static Lerp(from, to, dT){\n        let change = Vector3.Subtract(to, from);\n        const clampDt = MathTools.clamp(dT, 0.0, 1.0);\n        change = Vector3.MultiplyScalar(change, clampDt);\n\n        return Vector3.Add(from, change);\n    }\n\n    static LerpUnclamped(from, to, dT){\n        let change = Vector3.Subtract(to, from);\n        change = Vector3.MultiplyScalar(change, dT);\n\n        return Vector3.Add(from, change);\n    }\n\n    static MoveTowards(from, to,  dT){\n        let vec = Vector3.Subtract(to, from);\n\n        let magnitude = vec.magnitude();\n        if (magnitude <= dT || MathTools.approximate(magnitude, 0.0))\n        {\n            return to;\n        }\n\n        vec = Vector3.Add(from, Vector3.MultiplyScalar(vec, dT));\n        return vec;\n    }\n    \n    static Dot(v1, v2) {\n        return v1.x * v2.x + v1.y * v2.y + v1.z * v2.z;\n    }\n\n    static Normalize(v1) {\n        v1.normalize();\n        return v1;\n    }\n\n    static Equals(v1, v2) {\n        return (v1.x > v2.x - Number.EPSILON && v1.x < v2.x + Number.EPSILON) &&\n            (v1.y > v2.y - Number.EPSILON && v1.y < v2.y + Number.EPSILON) &&\n            (v1.z > v2.z - Number.EPSILON && v1.z < v2.z + Number.EPSILON);\n    }\n\n    static Angle(v1, v2) {\n        let cp = Vector3.Cross(v1, v2);\n\n        let angle = Math.atan2(cp.length(), Vector3.Dot(v1, v2));\n\n        return Vector3.Dot(cp, Vector3.up) < 0 ? -angle : angle;\n    }\n\n    static Negate(v1) {\n        let vec = v1;\n        vec.x *= -1.0;\n        vec.y *= -1.0;\n        vec.z *= -1.0;\n\n        return vec;\n    }\n\n    static toBTV3(v) {\n        return new Ammo.btVector3(v.x, v.y, v.z);\n    }\n\n    static toJSV3(v) {\n        return new THREE.Vector3(v.x, v.y, v.z);\n    }\n}","import Vector3 from './Vector3';\nimport MathTools from './MathTools';\n\nexport default class  Quaternion {\n\n    constructor(x = 0.0, y = 0.0, z = 0.0, w = 1.0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n\n        this.euler = new Vector3(0,0,0);\n    }\n    set(x, y, z, w){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n\n    Normalize() {\n        const scale = 1.0 / this.Length();\n        this.x *= scale;\n        this.y *= scale;\n        this.z *= scale;\n        this.w *= scale;\n    }\n\n    Inverse() {\n        return new Quaternion(this.x, this.y, this.z, -this.w);\n    }\n\n    Negate() {\n        return new Quaternion(-this.x, -this.y, -this.z, this.w);\n    }\n\n    Euler() {\n        this.euler.y = Math.atan2(2.0 * this.w * this.y + 2.0 * this.z * this.x, 1.0 - 2.0 * (this.x * this.x + this.y * this.y)) * MathTools.rad2Deg;\n        this.euler.x = Math.asin(2.0 * (this.w * this.x - this.y * this.z)) * MathTools.rad2Deg;\n        this.euler.z = Math.atan2(2.0 * this.w * this.z + 2.0 * this.x * this.y, 1.0 - 2.0 * (this.z * this.z + this.x * this.x)) * MathTools.rad2Deg;\n\n        return this.euler;\n    }\n\n    Length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n    }\n\n    LengthSquared() {\n        return (this.x * this.x + this.y * this.y + this.z * this.z) + this.w * this.w;\n    }\n\n    static LookAt(sourcePoint, destPoint, up) {\n        let forwardVector = Vector3.Normalize(Vector3.Subtract(destPoint, sourcePoint));\n\n        let dot = Vector3.Dot(Vector3.forward, forwardVector);\n\n        if (Math.abs(dot - (-1.0)) < 0.000001) {\n            return new Quaternion(Vector3.up.x, Vector3.up.y, Vector3.up.z, Math.PI);\n        }\n\n        if (Math.abs(dot - (1.0)) < 0.000001) {\n            return Quaternion.Identity();\n        }\n\n        let rotAngle = Math.acos(dot);\n        let rotAxis = Vector3.Cross(Vector3.forward, forwardVector);\n        rotAxis = Vector3.Normalize(rotAxis);\n        return Quaternion.CreateFromAxisAngle(rotAxis, rotAngle);\n    }\n\n    static LookRotation(forward, up) {\n        let frwd = Vector3.Normalize(forward);\n\n        let vector = Vector3.Normalize(frwd);\n        let vector2 = Vector3.Normalize(Vector3.Cross(up, vector));\n        let vector3 = Vector3.Cross(vector, vector2);\n\n        let m00 = vector2.x;\n        let m01 = vector2.y;\n        let m02 = vector2.z;\n        let m10 = vector3.x;\n        let m11 = vector3.y;\n        let m12 = vector3.z;\n        let m20 = vector.x;\n        let m21 = vector.y;\n        let m22 = vector.z;\n\n        let num8 = (m00 + m11) + m22;\n        let quaternion = new Quaternion();\n\n        if (num8 > 0.0) {\n            let num = Math.sqrt(num8 + 1.0);\n\n            quaternion.w = num * 0.5;\n            num = 0.5 / num;\n            quaternion.x = (m12 - m21) * num;\n            quaternion.y = (m20 - m02) * num;\n            quaternion.z = (m01 - m10) * num;\n\n            return quaternion;\n        }\n        if ((m00 >= m11) && (m00 >= m22)) {\n            let num7 = Math.sqrt(((1.0 + m00) - m11) - m22);\n            let num4 = 0.5 / num7;\n\n            quaternion.x = 0.5 * num7;\n            quaternion.y = (m01 + m10) * num4;\n            quaternion.z = (m02 + m20) * num4;\n            quaternion.w = (m12 - m21) * num4;\n\n            return quaternion;\n        }\n        if (m11 > m22) {\n            let num6 = Math.sqrt(((1.0 + m11) - m00) - m22);\n            let num3 = 0.5 / num6;\n\n            quaternion.x = (m10 + m01) * num3;\n            quaternion.y = 0.5 * num6;\n            quaternion.z = (m21 + m12) * num3;\n            quaternion.w = (m20 - m02) * num3;\n\n            return quaternion;\n        }\n        let num5 = Math.sqrt(((1.0 + m22) - m00) - m11);\n        let num2 = 0.5 / num5;\n\n        quaternion.x = (m20 + m02) * num2;\n        quaternion.y = (m21 + m12) * num2;\n        quaternion.z = 0.5 * num5;\n        quaternion.w = (m01 - m10) * num2;\n\n        return quaternion;\n    }\n\n    static RotatePointAroundPivot(point, pivot, maxRot) {\n        return Quaternion.LookRotation(Vector3.Subtract(point, pivot), Vector3.up) * point;\n    }\n\n    static RotateAround(point, pivot) {\n        let dir = point - pivot;\n        dir = Quaternion.LookRotation(dir, Vector3.up) * dir;\n\n        return dir + pivot;\n    }\n\n    static CreateFromAxisAngle(axis, angle) {\n        let halfAngle = angle * 0.5;\n        let s = Math.sin(halfAngle);\n        let q = new Quaternion();\n        q.x = axis.x * s;\n        q.y = axis.y * s;\n        q.z = axis.z * s;\n        q.w = Math.cos(halfAngle);\n        return q;\n    }\n\n    static FromEuler(x, y, z) {\n        let yaw = y * MathTools.deg2Rad;\n        let pitch = x * MathTools.deg2Rad;\n        let roll = z * MathTools.deg2Rad;\n\n        let rollOver2 = roll * 0.5;\n        let sinRollOver2 = Math.sin(rollOver2);\n        let cosRollOver2 = Math.cos(rollOver2);\n        let pitchOver2 = pitch * 0.5;\n        let sinPitchOver2 = Math.sin(pitchOver2);\n        let cosPitchOver2 = Math.cos(pitchOver2);\n        let yawOver2 = yaw * 0.5;\n        let sinYawOver2 = Math.sin(yawOver2);\n        let cosYawOver2 = Math.cos(yawOver2);\n        let result = new Quaternion();\n        result.w = cosYawOver2 * cosPitchOver2 * cosRollOver2 + sinYawOver2 * sinPitchOver2 * sinRollOver2;\n        result.x = cosYawOver2 * sinPitchOver2 * cosRollOver2 + sinYawOver2 * cosPitchOver2 * sinRollOver2;\n        result.y = sinYawOver2 * cosPitchOver2 * cosRollOver2 - cosYawOver2 * sinPitchOver2 * sinRollOver2;\n        result.z = cosYawOver2 * cosPitchOver2 * sinRollOver2 - sinYawOver2 * sinPitchOver2 * cosRollOver2;\n\n        return result;\n    }\n\n    static Dot(q1, q2) {\n        return q1.x * q2.x + q1.y * q2.y + q1.z * q2.z + q1.w * q2.w;\n    }\n\n    static Normalize(q) {\n        let q1 = q;\n        let scale = 1.0 / q1.Length();\n        q1.x *= scale;\n        q1.y *= scale;\n        q1.z *= scale;\n        q1.w *= scale;\n\n        return q1;\n    }\n\n    static Identity() {\n        return new Quaternion(0.0, 0.0, 0.0, 1.0);\n    }\n}","import { Clock } from \"three\";\nimport GameEngine from './GameEngine';\nclass TimeManager{\n \n    static MIN_PHYSICS_RATE = 1.0 / 30.0;\n\n    constructor(){\n        this.clock = new Clock(true);\n\n        this.deltaBuffer = [];\n        this.dtBufferIndex = 0;\n        this.deltaBuffer.fill(0, 0, 10);\n        this.deltaTime = 0;\n        this.smoothDelta = 0;\n        this.physicsRate = 1.0 / 60.0;\n    }\n\n    Update(){\n        this.deltaTime = this.clock.getDelta();  \n\n        this.deltaBuffer[this.dtBufferIndex] = this.deltaTime;\n        this.dtBufferIndex = (this.dtBufferIndex + 1) % this.deltaBuffer.length;\n\n        this.smoothDelta = this.SmoothDelta();\n\n        this.physicsRate = 1.0 / GameEngine.frameRate;\n\n        if (this.physicsRate === Infinity)\n            this.physicsRate = this.deltaTime;\n\n        if (this.physicsRate < Time.MIN_PHYSICS_RATE)\n            this.physicsRate = this.deltaTime;\n    }\n\n    SmoothDelta(){\n        let sum = 0;\n\n        for (let i = 0; i < this.deltaBuffer.length; i++){\n            sum += this.deltaBuffer[i];\n        }\n\n        return sum / this.deltaBuffer.length;\n    }\n\n    DeltaTime(){\n        return this.deltaTime;\n    }\n}\n\nconst Time = new TimeManager();\nexport default Time;","import Time from './Time';\nimport Ammo from 'ammo.js';\n\nclass PhysicsEngine {\n\n    static PhysicShapes = {\n        SPHERE: 0,\n        BOX: 1,\n        PLANE: 2,\n        CAPSULE: 3,\n        CYLINDER: 4,\n        CONE: 5,\n    };\n\n    constructor() {\n        this.collisionConfig = new Ammo.btDefaultCollisionConfiguration();\n        this.dispatcher = new Ammo.btCollisionDispatcher(this.collisionConfig);\n        this.broadphase = new Ammo.btDbvtBroadphase();\n        this.solver = new Ammo.btSequentialImpulseConstraintSolver();\n        this.world = new Ammo.btDiscreteDynamicsWorld(this.dispatcher, this.broadphase, this.solver, this.collisionConfig);\n\n        this.world.setGravity(new Ammo.btVector3(0, -9.8, 0));\n        this.elapsedTime = 0.0;\n        this.phsyicsRate = 1.0 / 240.0;\n\n        this.rigidBodies = [];\n    }\n\n    setGravity(v) {\n        this.world.setGravity(new Ammo.btVector3(v.x, v.y, v.z));\n    }\n\n    addRigidBody(body) {\n        if (body === null) return;\n\n        this.world.addRigidBody(body);\n        this.rigidBodies.push(body);\n\n        return this.rigidBodies[this.rigidBodies.length - 1];\n    }\n\n    removeRigidBody(body) {\n        this.world.removeRigidBody(body);\n    }\n\n    createSphereShape(radius = 1) {\n        let shape = new Ammo.btSphereShape(radius);\n        shape.setMargin(0.05);\n\n        return shape;\n    }\n\n    createBoxShape(boxSize) {\n        let shape = new Ammo.btBoxShape(new Ammo.btVector3(boxSize.x * 0.5, boxSize.y * 0.5, boxSize.z * 0.5));\n\n        return shape;\n    }\n\n    createPlaneShape(normal) {\n        let shape = new Ammo.btStaticPlaneShape(new Ammo.btVector3(normal.x, normal.y, normal.z), 0);\n\n        return shape;\n    }\n\n    createCapsuleShape(radius, height, direction) {\n        let shape = new Ammo.btCapsuleShape(radius, height, new Ammo.btVector3(direction.x, direction.y, direction.z));\n        shape.setMargin(0.05);\n\n        return shape;\n    }\n\n    createCylinderShape(radius, height, direction) {\n        let shape = new Ammo.btCylinderShape(radius, height, new Ammo.btVector3(direction.x, direction.y, direction.z));\n        shape.setMargin(0.05);\n\n        return shape;\n    }\n\n    createConeShape(radius, height, direction) {\n        let shape = new Ammo.btConeShape(radius, height, new Ammo.btVector3(direction.x, direction.y, direction.z));\n        shape.setMargin(0.05);\n\n        return shape;\n    }\n\n    createMeshShape(mesh) {\n        return new Promise((resolve, reject) => {\n\n            let vertsV3 = [];\n            let indices = [];\n\n            mesh.children.forEach(group => {\n                if (group.hasOwnProperty('children') && group.children.length > 0) {\n                    group.children.forEach(mesh => {\n                        if (mesh.hasOwnProperty('geometry')) {\n                            let index = mesh.geometry.index.array;\n                            let verts = mesh.geometry.attributes.position.array;\n                            // This code wont work.  Will create a garbage collision mesh.\n                            for (let i = 0; i < index.length; i += 3) {\n                                indices.push(index[i]);\n                            }\n\n                            for (let i = 0; i < verts.length; i += 3) {\n                                vertsV3.push(new Ammo.btVector3(verts[i], verts[i + 1], verts[i + 2]));\n                            }\n                        }\n                    });\n                }\n                else\n                    if (group.hasOwnProperty('geometry')) {\n                        indices = group.geometry.index.array;\n                        let verts = group.geometry.attributes.position.array;\n\n                        for (let i = 0; i < verts.length; i += 3) {\n                            vertsV3.push(new Ammo.btVector3(verts[i], verts[i + 1], verts[i + 2]));\n                        }\n                    }\n            });\n\n            let triMesh = new Ammo.btTriangleMesh();\n\n            for (let i = 0; i < indices.length; i += 3) {\n\n                triMesh.addTriangle(vertsV3[indices[i]], vertsV3[indices[i + 1]], vertsV3[indices[i + 2]]);\n            }\n\n            const shape = new Ammo.btBvhTriangleMeshShape(triMesh, true);\n\n            resolve(shape);\n        });\n    }\n\n    update() {\n \n            this.world.stepSimulation(Time.deltaTime, 10, this.phsyicsRate);\n      \n    }\n}\n\nconst Physics = new PhysicsEngine();\nexport default Physics;","\nimport Physics from './Physics';\nimport Quaternion from './Quaternion';\nimport Vector3 from './Vector3';\nimport Ammo from 'ammo.js';\nimport MathTools from './MathTools';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport default class RigidBody {\n   \n    constructor(position = new Vector3(0, 0, 0), shape, rotation = Quaternion.Identity(), options = { mass: 0, friction: 1, rollingFriction: 1, restitution: 0.8 }) {\n        this.isKinematic = false;\n        this.active = true;\n        this.mass = options.mass;\n\n        this.shape = shape;\n        this.friction = options.friction;\n        this.rollingFriction = options.rollingFriction;\n        this.restitution = options.restitution;\n        this.ragdollActive = false;\n\n        this.btPos = new Ammo.btVector3(position.x, position.y, position.z);\n        this.btQuat = new Ammo.btQuaternion(rotation.x, rotation.y, rotation.z, rotation.w);\n\n        this.id = uuidv4();\n \n        this.cachedbtVec3 = new Ammo.btVector3(0, 0, 0);\n        this.transform = new Ammo.btTransform();\n        this.transform.setIdentity();\n        this.transform.setOrigin(this.btPos);\n        this.transform.setRotation(this.btQuat);\n        this.motionState = new Ammo.btDefaultMotionState(this.transform);\n\n        let localInertia = new Ammo.btVector3(0.0, 0.0, 0.0);\n        localInertia = this.shape.calculateLocalInertia(this.mass, localInertia);\n        let ri = new Ammo.btRigidBodyConstructionInfo(this.mass, this.motionState, this.shape, localInertia);\n        this.position = position;\n        this.rotation = rotation;\n        \n        this.body = new Ammo.btRigidBody(ri);;\n\n        this.body.setFriction(this.friction);\n        this.body.setDamping(0.25, 0.25);\n        this.body.setCcdMotionThreshold(1);\n        this.body.setCcdSweptSphereRadius(0.2);\n        this.body.setRestitution(this.restitution);\n\n        this.SetKinematic(MathTools.approximate(this.mass, 0.0));\n        Physics.addRigidBody(this.body);\n    }\n\n\n    setMass(mass) {\n        if (this.body) {\n            this.mass = mass;\n            this.body.setMassProps(mass, new Ammo.btVector3(0.0, 0.0, 0.0));\n        }\n    }\n\n    SetKinematic(value) {\n        this.isKinematic = value;\n\n        if (value) {\n            this.body.setMassProps(0.0, new Ammo.btVector3(0.0, 0.0, 0.0));\n            this.body.setCollisionFlags(2);\n            this.body.setActivationState(4);\n        }\n        else {\n            this.body.setMassProps(this.mass, new Ammo.btVector3(0.0, 0.0, 0.0));\n            this.body.setCollisionFlags(0);\n            this.body.setActivationState(4);\n        }\n    }\n\n    AddForce(force) {\n        this.body.applyCentralForce(force.to_btVector3());\n    }\n\n    AddImpulseForce(force) {\n        this.body.applyCentralImpulse(force.to_btVector3());\n    }\n\n    AddForceAt(force, position) {\n        this.body.applyForce(force.to_btVector3(), position.to_btVector3());\n    }\n\n    SetLinearFactor(factor) {\n        this.body.setLinearFactor(factor.to_btVector3());\n    }\n\n    SetSleepingThreshold(linear, angular) {\n        this.body.setSleepingThresholds(linear, angular);\n    }\n\n    ApplyTorque(torque) {\n        this.body.applyTorque(torque.to_btVector3());\n    }\n\n    ApplyCentralImpulse(impulse) {\n        this.body.applyCentralImpulse(impulse.to_btVector3());\n    }\n\n    ApplyTorqueImpulse(impulse) {\n        this.body.applyTorqueImpulse(impulse.to_btVector3());\n    }\n\n    ApplyImpulse(impulse) {\n        this.body.applyImpulse(impulse.to_btVector3(), new Ammo.btVector3(0, 0, 0));\n    }\n\n    ApplyImpulseAt(impulse, position) {\n        this.body.applyImpulse(impulse.to_btVector3(), position.to_btVector3());\n    }\n\n    ClearForces() {\n        this.body.clearForces();\n    }\n\n    GetOrentation() {\n        let quat = this.body.getOrientation();\n\n        return new Quaternion(quat.x(), quat.y(), quat.z(), quat.w());\n    }\n\n    GetLinearVelocity() {\n        let v = this.body.getLinearVelocity();\n\n        return new Vector3(v.x(), v.y(), v.z());\n    }\n\n    GetAngularVelocity() {\n        let v = this.body.getAngularVelocity();\n\n        return new Vector3(v.x(), v.y(), v.z());\n    }\n\n    SetLinearVelocity(velocity) {\n        this.bodysetLinearVelocity(velocity.to_btVector3());\n    }\n\n    setAngularVelocity(velocity) {\n        this.body.setAngularVelocity(velocity.to_btVector3());\n    }\n\n    translate(position) {\n        this.body.translate(position.to_btVector3());\n    }\n\n    setPosition(position) {\n        this.btPos.setValue(position.x, position.y, position.z);\n        this.body.getWorldTransform().setOrigin(this.btPos);\n    }\n\n    Move(position) {\n        this.body.translate(position.to_btVector3());\n    }\n\n    setRotation(rotation) {\n        this.btQuat.setValue(rotation.x, rotation.y, rotation.z, rotation.w);\n        this.body.getWorldTransform().setRotation(this.btQuat);\n        this.body.getMotionState().setWorldTransform(this.body.getWorldTransform());\n    }\n\n    setQuaternion(quat) {\n        this.body.getWorldTransform().setRotation(quat);\n        this.body.getMotionState().setWorldTransform(this.body.getWorldTransform());\n    }\n\n    WantsSleep() {\n        return this.body.wantsSleeping();\n    }\n\n    GetMotionState() {\n        return this.body.getMotionState();\n    }\n\n    SetMotionState(state) {\n        this.body.setMotionState(state);\n    }\n\n    SetAngularFactor(factor) {\n        Physics.removeRigidBody(this.body);\n        this.body.setAngularFactor(factor.to_btVector3());\n        Physics.addRigidBody(this.body);\n    }\n\n    GetAngularFactor() {\n        let v = this.body.getAngularFactor();\n        return new Vector3(v.x(), v.y(), v.z());\n    }\n\n    IsInWorld() {\n        return this.body.isInWorld();\n    }\n\n    AddContraint(constraint) {\n        this.addConstraintRef(constraint);\n    }\n\n    RemoveContraint(constriant) {\n        this.removeConstraintRef(constriant);\n    }\n\n    SetFlags(flags) {\n        this.setFlags(flags);\n    }\n\n    GetFlags() {\n        return this.getFlags();\n    }\n\n    GetLocalInertia() {\n        let v = this.body.getLocalInertia()\n        return new Vector3(v.x(), v.y(), v.z());\n    }\n\n    IsActive() {\n        return this.active;\n    }\n\n    GetCollisionShape() {\n        return this.body.getCollisionShape();\n    }\n\n    SetCollisionShape(collider) {\n        this.body.setCollisionShape(collider);\n    }\n\n    SetRollingFriction(friction) {\n        Physics.removeRigidBody(this.body);\n        this.body.setRollingFriction(friction);\n        Physics.addRigidBody(this.body);\n    }\n\n    SetRestitution(restitiuion) {\n        Physics.removeRigidBody(this.body);\n        this.body.setRestitution(restitiuion);\n        Physics.addRigidBody(this.body);\n    }\n\n    GetCollisionFlags() {\n        return this.body.getCollisionFlags();\n    }\n\n    SetCollisionFlags(flags) {\n        this.body.setCollisionFlags(flags);\n    }\n\n    GetPosition() {\n        let v = this.body.getWorldTransform().getOrigin();\n        this.position.set(v.x(), v.y(), v.z());\n        return this.position;\n    }\n\n    GetRotation() {\n        let quat = this.body.getWorldTransform().getRotation();\n        this.rotation.set(quat.x(), quat.y(), quat.z(), quat.w());\n        return this.rotation;\n    }\n\n    SetActivationState(state) {\n        this.body.setActivationState(state);\n    }\n\n    SetBounciness(value) {\n        this.body.setRestitution(value);\n    }\n\n    IsKinematic() {\n        return this.isKinematic;\n    }\n\n    SetFriction(value) {\n        this.body.setFriction(value);\n    }\n}","import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport Scene from './Scene';\nimport * as THREE from 'three';\n\nexport default class Mesh {\n    constructor(path = null, castShadow = false, receiveShadow = false, flatShading = false, culling = true) {\n        this.mixer = null;\n        this.action = null;\n        this.meshData = null;\n        this.mesh = null;\n        this.scene = null;\n        this.culling = culling;\n        this.castShadow = castShadow;\n        this.receiveShadow = receiveShadow;\n        this.flatShading = flatShading;\n     \n        if (path !== null)\n            this.LoadMesh(path);\n    }\n\n    setShadows() {\n        this.scene.traverse(child => {\n            if (child.isMesh) {\n                child.castShadow = this.castShadow;\n                child.receiveShadow = this.receiveShadow;\n            }\n        });\n    }\n\n    castShadow(value) {\n        this.castShadow = value;\n    }\n\n    receiveShadow(value) {\n        this.receiveShadow = value;\n    }\n\n    LoadMesh(path) {\n        Scene.objectLoading++;\n\n        return new Promise((resolve, reject) => {\n            let loader = new GLTFLoader();\n            loader.load(path, (gltf) => {\n\n                gltf.scene.traverse(child => {\n                    if (child.isMesh) {\n                        child.castShadow = this.castShadow;\n                        child.receiveShadow = this.receiveShadow;\n                        if (this.culling)\n                            child.material.side = THREE.FrontSide;\n                        if (this.flatShading)\n                            child.material.flatShading = this.flatShading;\n\n                        if (child.material.map){\n                            child.material.map.anisotropy = 16;\n                        }\n                    }\n                });\n\n                this.scene = gltf.scene;\n                this.meshData = gltf.scene.children;\n                this.mesh = gltf.scene;\n                this.mesh.doubleSided = false;\n                Scene.add(gltf.scene);\n                Scene.objectLoaded++;\n                resolve(this);\n\n            }, undefined, function (error) {\n                console.error(error);\n                Scene.objectLoading--;\n                reject('error');\n            });\n        });\n\n    }\n\n    isLoaded(){\n        return this.mesh === null;\n    }\n}\n","import * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport Scene from './Scene';\nimport Time from './Time';\n \n\nexport default class SkinnedMesh {\n\n    constructor(path, castShadow = false, receiveShadow = false, flatShading = false) {\n        this.mixer = null;\n        this.action = null;\n        this.meshData = null;\n        this.mesh = null;\n        this.anim = null;\n        this.scene = null;\n        this.currentAnimation = '';\n        this.bones = [];\n        this.ragdollActivated = false;\n      \n        this.castShadow = castShadow;\n        this.receiveShadow = receiveShadow;\n        this.flatShading = flatShading;\n        this.LoadMesh(path, flatShading);\n    }\n\n    setShadows() {\n        this.scene.traverse(child => {\n            if (child.isMesh) {\n                child.castShadow = this.castShadow;\n                child.receiveShadow = this.receiveShadow;\n            }\n        });\n    }\n\n    castShadow(value) {\n        this.castShadow = value;\n        this.updateScene();\n    }\n\n    receiveShadow(value) {\n        this.receiveShadow = value;\n        this.updateScene();\n    }\n\n    updateScene(){\n       this.scene.traverse(child => {\n\n            if (child.isMesh) {\n\n                child.castShadow = this.castShadow;\n                child.receiveShadow = this.receiveShadow;\n\n                if (this.flatShading)\n                    child.material.flatShading = this.flatShading;\n            }\n        });\n    }\n\n    async LoadMesh(path, flatShading = false) {\n        Scene.objectLoading++;\n        let loader = new GLTFLoader();\n\n        this.flatShading = flatShading;\n        await loader.load(path, (gltf) => {\n            this.meshData = new THREE.SkinnedMesh(gltf);\n\n            this.mixer = new THREE.AnimationMixer(gltf.scene);\n            this.mixer.timeScale = 1;\n \n            gltf.scene.traverse(child => {\n/*\n                if (child.isBone) {\n                    console.log(child);\n\n                    const quat = child.quaternion;\n                    let pos = child.position;\n                    pos = new Vector3(pos.x, pos.y, pos.z);\n            \n\n                    this.bones.push({\n                        bone:child,\n                        body: new RigidBody(new Vector3(pos.x, pos.y, pos.z), Phsyics.createCapsuleShape(0.051, 0.051, Vector3.forward), new Quaternion(quat.x, quat.y, quat.z, quat.w), {\n                        mass: 0.0,\n                        friction: 1,\n                        rollingFriction: 0,\n                        restitution: 0\n                        })\n                        });\n                }\n*/\n                if (child.isMesh) {\n\n                    child.castShadow = this.castShadow;\n                    child.receiveShadow = this.receiveShadow;\n\n                    if (flatShading)\n                        child.material.flatShading = flatShading;\n                }\n            });\n\n            this.scene = gltf.scene;\n            this.meshData = gltf.scene.children;\n            this.mesh = gltf.scene;\n            this.anim = gltf;\n            Scene.objectLoaded++;\n            Scene.add(gltf.scene);\n\n        }, undefined, function (error) {\n            Scene.objectLoading--;\n            console.error(error);\n        });\n    }\n\n    playAnimation(animation) {\n        if (this.meshData === null)\n            return;\n\n        if (this.currentAnimation !== animation) {\n            this.currentAnimation = animation;\n            let clip = THREE.AnimationClip.findByName(this.anim, animation);\n\n            if (this.action !== null)\n                this.action.stop();\n\n            this.action = this.mixer.clipAction(clip);\n\n            if (this.action !== null)\n                this.action.play();\n        }\n    }\n\n    SetRagdollActive(value){\n        this.ragdollActivated = value;\n        for (let i = 0; i < this.bones.length; i++)\n        {   \n            if (this.bones[i].body !== null){\n                const mass = value ? 0.25 : 0;\n                this.bones[i].body.setMass(mass);\n            }\n        }\n    }\n\n    Animate() {\n     /*\n\n        for (let i = 0; i < this.bones.length; i++)\n        {\n            if (this.bones[i].body !== null && this.bones[i].body.mass > 0){\n            \n                const rot = this.bones[i].body.GetRotation().Euler();\n                const pos = this.bones[i].body.GetPosition();\n                this.bones[i].bone.rotation.set(rot.x, rot.y, rot.z);\n                this.bones[i].bone.position.set(pos.x, pos.y, pos.z);\n            }\n        }\n*/\n        if (this.mixer !== null && !this.ragdollActivated) {\n            this.mixer.update(Time.deltaTime);\n        }\n    }\n}\n","import Mesh from './Mesh';\nimport SkinnedMesh from './SkinnedMesh';\n\nclass ContentManager {\n    constructor() {\n        this.meshes = {};\n        this.sounds = {};\n    }\n\n    LoadMesh = (name = null, path = null, skinnedMesh = false, castShadow = false, recieveShadow = false, flatShading = false, culling = true) => {\n        if (name === null) console.log('LoadMesh requires name');\n        if (path === null) console.log('LoadMesh requires a path');\n\n        return new Promise((resolve, reject) => {\n\n            if (skinnedMesh) {\n                let model = new SkinnedMesh(path, castShadow, recieveShadow, flatShading);\n                this.meshes[name] = model;\n                resolve(model);\n            }\n            else {\n                let model = new Mesh(null, castShadow, recieveShadow, flatShading, culling);\n                model.LoadMesh(path)\n                    .then(data => {\n                        this.meshes[name] = model;\n                        resolve(model);\n                    })\n                    .catch(e => {\n                        reject(e);\n                    });\n            }\n        });\n    }\n}\n\nconst Content = new ContentManager();\nObject.freeze(Content);\nexport default Content;","import Vector3 from './Vector3';\nimport Scene from './Scene';\nimport RigidBody from './RigidBody';\nimport Quaternion from './Quaternion';\nimport Content from './Content';\nimport Ammo from 'ammo.js';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport default class GameObject {\n\n    constructor(name = null, meshPath = null, skinnedMesh = false, castShadow = false, recieveShadow = false, flatShading = false, position = Vector3.zero, rotation = Quaternion.Identity()) {\n        this.position = position;\n        this.rotation = rotation;\n        this.scale = new Vector3(0.0, 0.0, 0.0);\n        this.isEnabled = true;\n        this.texture = null;\n        this.model = null;\n        this.skinnedMesh = skinnedMesh;\n        this.forward = Vector3.forward;\n        this.objID = uuidv4();\n    \n        this.rigidBody = null;\n        this.castShadow = castShadow;\n        this.recieveShadow = recieveShadow;\n        this.allowUpdate = true;\n        this.name = name;\n        this.tag = {};\n\n        this.LoadModel(name, meshPath, flatShading);\n        Scene.addGameObject(this);\n    }\n\n    LoadModel = async (name, meshPath, flatShading = false, culling = true) => {\n\n        if (meshPath === null) return;\n\n        await Content.LoadMesh(name, meshPath, this.skinnedMesh, this.castShadow, this.recieveShadow, flatShading, culling)\n            .then(model => {\n                this.model = model;\n\n                this.setPosition(this.position);\n                this.setRotation(this.rotation);\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n\n    setEnabled(value) {\n        this.isEnabled = value;\n\n        if (this.isEnabled)\n            Scene.enableObject(this);\n        else\n            Scene.disableObject(this);\n    }\n\n    setRotation(degrees) {\n        this.rotation = Quaternion.FromEuler(degrees.x, degrees.y, degrees.z);\n\n        if (this.rigidBody !== null)\n            this.rigidBody.setRotation(this.rotation);\n    }\n\n    setQuaternion(quat) {\n        this.rotation = quat;\n\n        if (this.rigidBody !== null)\n            this.rigidBody.setQuaternion(new Ammo.btQauternion(quat.x, quat.y, quat.z, quat.w));\n    }\n\n    rotate(degrees) {\n        if (this.rigidBody !== null) {\n            const euler = Vector3.zero;\n            this.rigidBody.setRotation(euler);\n            const rot = Vector3.Add(degrees, new Vector3(euler.x, euler.y, euler.z));\n            this.rotation = Quaternion.FromEuler(rot.x, rot.y, rot.z);\n            this.rigidBody.setRotation(this.rotation);\n        }\n        else\n            this.rotation = Vector3.Add(this.rotation, degrees);\n    }\n\n    setPosition(newPosition) {\n        this.position = newPosition;\n\n        if (this.rigidBody !== null)\n            this.rigidBody.setPosition(this.position);\n    }\n\n    move(moveDir) {\n        if (this.rigidBody !== null) {\n            this.position = this.rigidBody.GetPosition();\n            this.position = Vector3.Add(this.position, moveDir);\n            this.rigidBody.setPosition(this.position);\n        }\n        else {\n            this.position = Vector3.Add(this.position,  moveDir);\n        }\n    }\n\n    setScale(newScale) {\n        this.scale = newScale;\n    }\n\n    changeScale(scaleVector) {\n        this.scale.x += scaleVector.x;\n        this.scale.y += scaleVector.y;\n        this.scale.z += scaleVector.z;\n    }\n\n    update() {\n        if (!this.allowUpdate) return;\n\n        if (this.rigidBody !== null) {\n            this.position = this.rigidBody.GetPosition();\n            this.rotation = this.rigidBody.GetRotation();\n        }\n\n        if ((this.model === null || !this.model.hasOwnProperty('mesh')))\n            return;\n\n        if (this.model.mesh === null)\n            return;\n\n        const rot = this.rotation.Euler();\n    \n        this.model.mesh.position.set(this.position.x, this.position.y, this.position.z);\n        this.model.mesh.rotation.set(rot.x, rot.y, rot.z);\n    }\n\n    lateUpdate() { }\n\n    addRigidBody(options = {mass: 0, friction: 1, rollingFriction: 1, restitution: 0.8}, shape = null, position = Vector3.zero, rotation = Quaternion.Identity()) {\n        this.rigidBody = new RigidBody(position, shape, rotation, options);\n    }\n\n    render() {\n        if (this.skinnedMesh && this.model)\n            this.model.Animate();\n    }\n\n    collision(col) {\n        //console.log(col);\n    }\n}","import * as THREE from \"three\";\nimport Quaternion from \"./Quaternion\";\nimport Scene from \"./Scene\";\nimport GameObject from './GameObject';\nimport Vector3 from './Vector3';\n\nclass CameraManager extends GameObject {\n    constructor() {\n        super();\n        this.mainCamera = new THREE.PerspectiveCamera(60, 1024 / 600, 0.1, 1000);\n        this.target = null;\n \n        this.position = Vector3.zero;\n       \n        this.controller = null;\n        Scene.addGameObject(this);\n    }\n\n    Configure(fov, aspect, zNear, zFar) {\n        this.mainCamera = new THREE.PerspectiveCamera(fov, aspect, zNear, zFar);\n    }\n\n    SetController(controller){\n        this.controller = controller;\n    }\n\n    Move(pos) {\n        this.mainCamera.translateX(pos.x);\n        this.mainCamera.translateY(pos.y);\n        this.mainCamera.translateZ(pos.z);\n    }\n\n    Rotate(rot) {\n        this.rotation = Quaternion.FromEuler(rot.x, rot.y, rot.z);\n        this.mainCamera.rotation.set(rot.x, rot.y, rot.z);\n    }\n\n    SetPosition(pos) {\n        this.position = pos;\n        this.mainCamera.position.set(pos.x, pos.y, pos.z);\n    }\n\n    GetCamera() {\n        return this.mainCamera;\n    }\n\n    update(){\n        if (this.controller !== null)\n        this.controller.update();\n    }\n\n    lateUpdate() {\n        if (this.controller !== null)\n            this.controller.lateUpdate();\n    }\n}\n\nconst Camera = new CameraManager();\n\nexport default Camera;","import * as THREE from 'three';\n\nclass Renderer {\n    constructor() {\n        this.renderer = null;\n    }\n\n    InitRenderer(canvas, width, height, loopCallback) {\n\n        return new Promise((resolve, reject) => {\n            this.renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: false, antialias: true, precision: 'highp', powerPreference:'high-performance' });\n            this.renderer.setSize(width, height);\n            this.renderer.shadowMap.enabled = true;\n            this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n            this.renderer.cullFace = THREE.CullFaceBack;\n          \n            this.renderer.outputEncoding = THREE.GammaEncoding;\n       \n            this.renderer.autoClear = true;\n    \n            this.renderer.setClearColor('skyblue', 1.0);\n            this.renderer.clearAlpha = 1;\n            this.renderer.setAnimationLoop(loopCallback);\n            \n            if (this.renderer !== null)\n                resolve(this.renderer);\n            else\n                reject('Error creating renderer');\n        });\n    }\n\n    Render(scene, camera){\n        this.renderer.render(scene, camera);\n    }\n}\n\nexport default Renderer;","import Camera from './Camera';\nimport * as THREE from 'three';\nimport Time from './Time';\nimport Scene from './Scene';\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass';\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader';\nimport { BokehPass } from 'three/examples/jsm/postprocessing/BokehPass';\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\n\nclass PostProcessingManager {\n    init(renderer) {\n        this.composer = new EffectComposer(renderer);\n        this.renderPass = new RenderPass(Scene.getScene(), Camera.mainCamera);\n        this.renderPass.clearColor = new THREE.Color('skyblue');\n        this.renderPass.clearAlpha = 1;\n\n        this.composer.addPass(this.renderPass);\n\n        this.bokeh = null;\n        this.bloom = null;\n        this.ffxa = null;\n        this.renderer = renderer;\n    }\n\n    isUsingEffects() {\n        return this.bokeh || this.bloom || this.fxaa;\n    }\n\n    addFXAA() {\n        this.ffxa = new ShaderPass(FXAAShader);\n        this.ffxa.uniforms['resolution'].value.set(1 / Scene.screenWidth, 1 / Scene.screenHeight);\n        this.composer.addPass(this.ffxa);\n    }\n\n    addBokeh() {\n        this.bokeh = new BokehPass(Scene.scene, Camera.mainCamera, {\n            focus: 3000.0,\n            aperture: 0.002,\n            maxblur: 0.0025,\n\n            width: Scene.width,\n            height: Scene.height\n        });\n        this.composer.addPass(this.bokeh);\n    }\n\n    addBloom() {\n        this.bloom = new UnrealBloomPass(\n            new THREE.Vector2(Scene.screenWidth, Scene.screenHeight),\n            .3,\n            0.4,\n            .8);\n\n        this.composer.addPass(this.bloom)\n    }\n\n    render() {\n        this.renderPass.camera = Camera.mainCamera;\n        this.composer.render(Time.deltaTime);\n    }\n}\n\nconst PostProcessing = new PostProcessingManager();\n\nexport default PostProcessing;","import MathTools from './MathTools';\n\nexport default class Vector2 {\n\n    constructor(x = 0.0, y = 0.0) {\n        this.x = x;\n        this.y = y;\n    }\n\n    static get zero() { return new Vector2(0.0, 0.0); }\n    static get one() { return new Vector2(1.0, 1.0); }\n    static get up() { return new Vector2(0.0, 1.0); }\n    static get down() { return new Vector2(0.0, -1.0); }\n    static get left() { return new Vector2(-1.0, 0.0); }\n    static get right() { return new Vector2(1.0, 0.0); }\n\n    static add(v1, v2) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x + v2.x;\n        v.y = v1.y + v2.y;\n\n        return v;\n    }\n\n    static subtract(v1, v2) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x - v2.x;\n        v.y = v1.y - v2.y;\n\n        return v;\n    }\n\n    static multiply(v1, v2) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x * v2.x;\n        v.y = v1.y * v2.y;\n\n        return v;\n    }\n\n    static addScalar(v1, scalar) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x + scalar;\n        v.y = v1.y + scalar;\n\n        return v;\n    }\n\n    static subtractScalar(v1, scalar) {\n        let v = new Vector2(0.0, 0.0, 0.0);\n        v.x = v1.x - scalar;\n        v.y = v1.y - scalar;\n\n        return v;\n    }\n\n    static multiplyScalar(v1, scalar) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x * scalar;\n        v.y = v1.y * scalar;\n\n        return v;\n    }\n\n    static distance(v1, v2) {\n        let delta = Vector2.subtract(v2, v1);\n\n        let distance = Math.sqrt(delta.x * delta.x + delta.y * delta.y);\n\n        return distance;\n    }\n\n    static dot(v1, v2) {\n        return v1.x * v2.x + v1.y * v2.y;\n    }\n\n    static Equals(v1, v2) {\n        return (v1.x > v2.x - Number.EPSILON && v1.x < v2.x + Number.EPSILON) &&\n            (v1.y > v2.y - Number.EPSILON && v1.y < v2.y + Number.EPSILON);\n    }\n\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n\n    magnitude() {\n        return this.length();\n    }\n\n    normalize() {\n        let mag = this.magnitude();\n\n        if (MathTools.approximate(mag, 0.0)) {\n            this.x = 0.0;\n            this.y = 0.0;\n            this.z = 0.0;\n\n            return;\n        }\n\n        this.x /= mag;\n        this.y /= mag;\n        this.z /= mag;\n    }\n\n    toString() {\n        return '( x: ' + this.x + '  y: ' + this.y + ')';\n    }\n}","import GamepadManager from './GamepadManager';\n\nconst Gamepad = new GamepadManager();\n\nexport default Gamepad;","import Vector2 from './Vector2';\nimport Gamepads from 'gamepads';\n\nexport default class GamepadManager {\n\n    constructor(noListener = false) {\n\n        this.Buttons = {\n            BUTTON_BOTTOM: 0,\n            BUTTON_RIGHT: 1,\n            BUTTON_LEFT: 2,\n            BUTTON_TOP: 3,\n            BUMPER_LEFT: 4,\n            BUMPER_RIGHT: 5,\n            TRIGGER_LEFT: 6,\n            TRIGGER_RIGHT: 7,\n            BUTTON_CONTROL_LEFT: 8,\n            BUTTON_CONTROL_RIGHT: 9,\n            BUTTON_JOYSTICK_LEFT: 10,\n            BUTTON_JOYSTICK_RIGHT: 11,\n            D_PAD_UP: 12,\n            D_PAD_BOTTOM: 13,\n            D_PAD_LEFT: 14,\n            D_PAD_RIGHT: 15,\n            BUTTON_CONTROL_MIDDLE: 16,\n        };\n\n        this.statusCallback = null;\n\n        this.buttonsDown = new Map();\n        this.buttonsPressed = new Map();\n\n        this.connected = false;\n\n\n        this.inputAxisSmoothAmount = 10;\n        this.leftAxis = new Vector2(0, 0);\n\n        this.rightAxis = new Vector2(0, 0);\n\n        this.rightTriggerValue = 0.0;\n        this.leftTriggerValue = 0.0;\n\n        this.gamepad = null;\n       \n        if (!noListener) {\n            Gamepads.start();\n            Gamepads.addEventListener('connect', e => {\n                this.connected = true;\n                this.gamepad = e.gamepad;\n     \n                if (this.statusCallback !== null){\n                    this.statusCallback('connected');\n                }\n\n                e.gamepad.addEventListener('joystickmove', e => {\n                    // Multiply by 1.12 because axis values only reaching +/- 0.9 instead of 1.0\n                    this.leftAxis.x = e.horizontalValue * 1.12;\n                    this.leftAxis.y = e.verticalValue * 1.12;\n                   \n          \n                }, [0, 1]);\n\n                e.gamepad.addEventListener('joystickmove', e => {\n                    // Multiply by 1.12 because axis values only reaching +/- 0.9 instead of 1.0\n                    this.rightAxis.x = e.horizontalValue *  1.12;\n                    this.rightAxis.y = e.verticalValue * 1.12;\n                }, [2, 3]);\n\n                e.gamepad.addEventListener('buttonpress', e => {\n\n                    this.addButton(e.index);\n                });\n\n                e.gamepad.addEventListener('buttonvaluechange', e => {\n                    this.rightTriggerValue = e.value;\n\n                }, 7);\n\n                e.gamepad.addEventListener('buttonvaluechange', e => {\n                    this.leftTriggerValue = e.value;\n                }, 6);\n\n                e.gamepad.addEventListener('buttonpress', e => {\n                    this.addButton(e.index);\n                });\n                e.gamepad.addEventListener('buttonrelease', e => {\n                    this.removeButton(e.index);\n                });\n            });\n\n            Gamepads.addEventListener('disconnect', e => {\n                this.connected = false;\n                if (this.statusCallback !== null){\n                    this.statusCallback('disconnected');\n                }\n            });\n        }\n    }\n \n    leftStick() {\n        if (!this.connected) return Vector2.zero;\n      \n        return this.leftAxis;\n    }\n\n    rightStick() {\n        if (!this.connected) return Vector2.zero;\n    \n        return this.rightAxis;\n    }\n\n    addButton(button) {\n        this.buttonsDown.set(button, 1);\n        if (this.buttonsPressed.get(button) !== 2) {\n            this.buttonsPressed.set(button, 1);\n        }\n    }\n\n    removeButton(button) {\n        this.buttonsDown.delete(button);\n        this.buttonsPressed.delete(button);\n    }\n\n    isButtonDown(button) {\n        return this.buttonsDown.has(button);\n    }\n\n    isButtonPressed(button) {\n        if (this.buttonsPressed.has(button) && this.buttonsPressed.get(button) === 1) {\n            this.buttonsPressed.set(button, 2);\n            return true;\n        }\n\n        return false;\n    }\n\n    rightTrigger() {\n        return this.rightTriggerValue;\n    }\n\n    leftTrigger() {\n        return this.leftTriggerValue;\n    }\n\n    clearButtons() {\n        this.buttonsDown.clear();\n        this.buttonsPressed.clear();\n    \n    }\n\n    isConnected() {\n        return this.connected;\n    }\n\n    update() {}\n\n    json() {\n        return {\n            buttonsDown: this.buttonsDown,\n            buttonsPressed: this.buttonsPressed,\n            leftAxis: this.leftAxis,\n            rightAxis: this.rightAxis,\n            rightTrigger: this.rightTriggerValue,\n            leftTrigger: this.leftTriggerValue\n        }\n    }\n}\n","import Vector3 from './Vector3';\nimport GameObject from './GameObject';\nimport Quaternion from './Quaternion';\nimport Camera from './Camera';\nimport MathTools from './MathTools';\n\nclass VehicleController {\n    constructor() {\n        this.vehicles = [];\n        this.distFromVehicle = 3;\n        this.isReady = false;\n\n        this.ekey = new GameObject('ekey', null, false, false, true, true, new Vector3(-23.75, 2, -10), Quaternion.Identity());\n        this.rkey = new GameObject('rkey', null, false, false, true, true, new Vector3(-23.75, 2, -10), Quaternion.Identity());\n\n        this.ekey.LoadModel('ekey', './assets/models/ekey.glb', true)\n            .then(() => {\n                this.ekey.model.mesh.visible = false;\n            \n            });\n            this.rkey.LoadModel('rkey', './assets/models/rkey.glb', true)\n            .then(() => {\n                this.isReady = true;\n                this.rkey.model.mesh.visible = false;\n            });\n        this.inRangeVehicle = null;\n        this.vehicleInUse = null;\n    }\n\n    addVehicle(vehicle) {\n        this.vehicles.push(vehicle);\n    }\n\n    useVehicle(player) {\n        if (this.inRangeVehicle === null) return null;\n\n        this.inRangeVehicle.inUse = true;\n        Camera.target = this.inRangeVehicle;\n        this.vehicleInUse = this.inRangeVehicle;\n\n        return this.inRangeVehicle;\n    }\n\n    controllVehicle(vehicle) {\n        if (vehicle === null) return null;\n\n        vehicle.inUse = true;\n        Camera.target = vehicle;\n        this.vehicleInUse = vehicle;\n\n        return vehicle;\n    }\n\n    leaveVehicle(){\n        this.vehicleInUse = null;\n    }\n\n    updateEKey(){\n        if (this.inRangeVehicle !== null) {\n\n            let vehiclePos = this.inRangeVehicle.position;\n            this.ekey.setPosition(new Vector3(vehiclePos.x, vehiclePos.y + 1, vehiclePos.z));\n            this.ekey.model.mesh.visible = true;\n        }\n        else {\n            this.ekey.model.mesh.visible = false;\n        }\n\n        if (this.ekey.model.mesh.visible) {\n            let camPos = new Vector3(Camera.position.x, 0, Camera.position.z);\n            let eKeyPos = new Vector3(this.ekey.position.x, 0, this.ekey.position.z);\n            let lookAt = Quaternion.LookRotation(Vector3.Subtract(camPos, eKeyPos), Vector3.up);\n            this.ekey.setRotation(Vector3.MultiplyScalar(lookAt.Euler(), MathTools.deg2Rad));\n        }\n    }\n\n    updateRKey(){\n        if (this.vehicleInUse !== null) {\n\n            if (this.vehicleInUse.inUse && this.vehicleInUse.isUpsideDown()) {\n                let vehiclePos = this.vehicleInUse.position;\n                vehiclePos.y += 1;\n                this.rkey.setPosition(vehiclePos);\n                this.rkey.model.mesh.visible = true;\n            }\n            else {\n                this.rkey.model.mesh.visible = false;\n            }\n        }\n        else{\n            this.rkey.model.mesh.visible = false;\n        }\n    }\n\n    findInRangeVehicle(pos){\n        this.inRangeVehicle = null;\n        let closest = this.distFromVehicle + 1;\n\n        for (let i = 0; i < this.vehicles.length; i++) {\n            let vehiclePos = this.vehicles[i].position;\n\n            const dist = Vector3.Distance(pos, vehiclePos);\n            if (dist < closest && dist <= 3 && !this.vehicles[i].inUse) {\n                closest = dist;\n                this.inRangeVehicle = this.vehicles[i];\n            }\n        }\n    }\n    \n    checkVehicleInRange(pos) {\n        if (!this.isReady) return;\n\n        this.findInRangeVehicle(pos);\n        this.updateEKey();\n        this.updateRKey();\n    }\n}\n\nconst VehicleManager = new VehicleController();\nexport default VehicleManager; ","\nimport GameObject from '../engine/GameObject';\nimport Input from '../engine/Input';\nimport Vector3 from '../engine/Vector3';\nimport VehicleManager from '../engine/VehicleManager';\nimport Quaternion from '../engine/Quaternion';\nimport Camera from '../engine/Camera';\nimport Vector2 from '../engine/Vector2';\nimport Gamepad from '../engine/Gamepad';\nimport Ammo from 'ammo.js';\n\nexport default class Player extends GameObject {\n\n    constructor(name = null, meshPath = null, skinnedMesh = false, castShadow = false, recieveShadow = false, flatShading = false, position = Vector3.zero, rotation = Quaternion.Identity()) {\n        super(name, meshPath, skinnedMesh, castShadow, recieveShadow, flatShading, position, rotation);\n        this.vehicle = null;\n        this.moveDir = new Vector3(0, 0, 0);\n        this.euler = new Vector3(0, 0, 0);\n        this.btMoveVec3 = new Ammo.btVector3(0, 0, 0);\n    }\n\n    changeAnimation(animation) {\n        this.moveSpeed = 5.0;\n\n        if (this.model !== null)\n            this.model.playAnimation(animation);\n    }\n\n    update() {\n\n        const ePressed = Input.isKeyPressed('e') || Gamepad.isButtonPressed(Gamepad.Buttons.BUTTON_TOP);\n        if (ePressed && this.vehicle === null)\n            this.vehicle = VehicleManager.useVehicle();\n        else\n            if (ePressed && this.vehicle !== null) {\n                this.vehicle.inUse = false;\n                VehicleManager.leaveVehicle();\n                let pos = this.vehicle.position;\n                Camera.target = this;\n                this.vehicle = null;\n                this.setPosition(pos.set(pos.x + 2, 1, pos.z));\n\n            }\n\n        if (this.vehicle !== null && this.vehicle !== 'undefined' && this.position.y > -90) {\n            this.setPosition(new Vector3(0.0, -100, 0.0));\n\n            super.update();\n            return;\n        }\n\n        if (this.model && this.model.hasOwnProperty('mixer') && this.model.mixer !== null)\n            this.model.mixer.timeScale = 1.0;\n\n        let zMove = 0;\n        let xMove = 0;\n\n        if (Input.isKeyDown('w') || Input.isKeyDown('ArrowUp'))\n            zMove = -1;\n\n        if (Input.isKeyDown('s') || Input.isKeyDown('ArrowDown'))\n            zMove = 1;\n\n        if (Input.isKeyDown('a') || Input.isKeyDown('ArrowLeft'))\n            xMove = -1;\n\n        if (Input.isKeyDown('d') || Input.isKeyDown('ArrowRight'))\n            xMove = 1;\n\n    //    if (Input.isKeyPressed('l')){\n    //        this.model.ragdollActive = !this.model.ragdollActive;\n    //        this.model.SetRagdollActive(this.model.ragdollActive);\n    //    }\n\n        let stick = Gamepad.leftStick();\n\n        if (!Vector2.Equals(stick, Vector2.zero)) {\n     \n            xMove = stick.x;\n            zMove = stick.y;\n        }\n\n        this.moveDir.x = xMove ;\n        this.moveDir.z = zMove ;\n        this.moveDir.normalize();\n        \n        if (!Vector3.Equals(this.moveDir, Vector3.zero)) {\n            this.forward = this.moveDir.normalize();\n       \n            this.moveDir.x = this.forward.x * 3 ;\n            this.moveDir.z = this.forward.z * 3 ;\n            \n            this.euler.y = Vector3.Angle(Vector3.back, this.forward);\n            this.changeAnimation('Walk');\n        }\n        else {\n            this.changeAnimation('Rest');\n        }\n        \n        this.movePlayer();\n        this.setRotation(this.euler);\n\n        super.update();\n    }\n\n    movePlayer() {\n        const moveVec = new Vector3(this.moveDir.x, this.moveDir.y, this.moveDir.z);\n        moveVec.y = this.rigidBody.GetLinearVelocity().y;\n        this.btMoveVec3.setValue(moveVec.x, moveVec.y, moveVec.z);\n        this.rigidBody.body.setLinearVelocity(this.btMoveVec3);\n    }\n\n    collision(col) {\n        // Need to implement collision callbacks\n    }\n}","import * as THREE from \"three\";\nimport Camera from './Camera';\n\nclass AudioManager {\n    constructor() {\n        this.InitAudio();   \n        this.sounds = [];\n    }\n\n    InitAudio(){\n        this.listener = new THREE.AudioListener();\n        Camera.mainCamera.add(this.listener);\n    }\n\n    LoadSound(path, loop = false, volume = 0.5) {\n        return new Promise((resolve, reject) => {\n            const loader = new THREE.AudioLoader();\n            let sound = new THREE.PositionalAudio(this.listener);\n\n            try {\n                loader.load(path, (buffer) => {\n\n                    if (buffer === null) reject('Error loading sound');\n\n                    sound.setBuffer(buffer);\n                    sound.setLoop(loop);\n                    sound.setVolume(volume);\n                    sound.setRefDistance(20);\n\n                    this.sounds.push({audio: sound, volume: volume});\n                    resolve(sound);\n                });\n            }\n            catch (e) {\n                resolve(e);\n            }\n        });\n    }\n\n    PlaySoundsMuted(){\n        for (let i = 0; i < this.sounds.length; i++){\n            this.sounds[i].audio.setVolume(0);\n            this.sounds[i].audio.play();\n            this.sounds[i].audio.stop();\n            this.sounds[i].audio.setVolume(this.sounds[i].volume);\n        }\n    }\n}\n\nconst Audio = new AudioManager();\nObject.freeze(Audio);\nexport default Audio;","import Scene from '../engine/Scene';\nimport Physics from '../engine/Physics';\nimport GameObject from '../engine/GameObject';\nimport Quaternion from '../engine/Quaternion';\nimport Vector3 from '../engine/Vector3';\nimport Input from '../engine/Input';\nimport Time from '../engine/Time';\nimport MathTools from '../engine/MathTools';\nimport Camera from '../engine/Camera';\nimport Audio from '../engine/Audio';\nimport Content from '../engine/Content';\nimport Ammo from 'ammo.js';\nimport VehicleManager from '../engine/VehicleManager';\nimport Gamepad from '../engine/Gamepad';\nimport Vector2 from '../engine/Vector2';\n\nexport default class Vehicle extends GameObject {\n    constructor(options) {\n        super();\n\n        this.inUse = false;\n        this.castShadow = true;\n        this.recieveShadow = true;\n        this.skinnedMesh = false;\n\n        this.btPos = new Ammo.btVector3(0, 0, 0);\n        this.btQuat = new Ammo.btQuaternion(0, 0, 0, 1);\n        this.btDownForce = new Ammo.btVector3(0, 0, 0);\n        this.topSpeed = options.topSpeed;\n        this.steeringRate = 25.0;\n        this.accelRate = options.accelRate;\n        this.breakForce = options.breakForce;\n        this.accelForceFront = options.accelForceFront;\n        this.accelForceBack = options.accelForceBack;\n        this.reverse = false;\n        this.engineSound = null;\n        this.tireSquealSound = null;\n        this.enginePitch = options.enginePitch;\n        this.centerOfMass = options.centerOfMass;\n        this.downForce = options.downForce;\n        this.options = options;\n        this.speed = 0;\n        this.constantDownforce = options.constantDownforce;\n        this.downForceVel = new Vector3(0, -(Math.abs(this.speed) * this.downForce), 0);\n\n        Audio.LoadSound('./assets/sounds/engine.wav', true, 0.1)\n            .then(sound => {\n                this.engineSound = sound;\n                Content.LoadMesh(options.bodyModel, options.bodyModel, false, true, true, false)\n                    .then(model => {\n                        this.model = model;\n                        this.engineSound.parrent = this.model;\n                        this.setPosition(this.position);\n                        this.setRotation(this.rotation);\n\n                    })\n                    .catch(e => {\n                        console.log(e);\n                    });\n\n            })\n            .catch(e => {\n                console.log(e)\n            });\n\n        Audio.LoadSound('./assets/sounds/tiresqueal.wav', true, 0.5)\n            .then(sound => {\n                this.tireSquealSound = sound;\n            })\n            .catch(e => {\n                console.log(e)\n            });\n\n        this.bodyShape = Physics.createBoxShape(new Vector3(options.bodyWidth, options.bodyHeight, options.bodyLength));\n\n        let transform = new Ammo.btTransform();\n        transform.setIdentity();\n        transform.setOrigin(new Ammo.btVector3(options.position.x, options.position.y, options.position.z));\n        transform.setRotation(new Ammo.btQuaternion(options.rotation.x, options.rotation.y, options.rotation.z, options.rotation.w));\n        let motionState = new Ammo.btDefaultMotionState(transform);\n        let localInertia = new Ammo.btVector3(0, 0, 0);\n        this.bodyShape.calculateLocalInertia(options.mass, localInertia);\n        this.body = new Ammo.btRigidBody(new Ammo.btRigidBodyConstructionInfo(options.mass, motionState, this.bodyShape, localInertia));\n        this.body.setActivationState(4);\n        this.body.setRestitution(0.5);\n        Physics.world.addRigidBody(this.body);\n        this.tuning = new Ammo.btVehicleTuning();\n\n        this.raycaster = new Ammo.btDefaultVehicleRaycaster(Physics.world);\n        this.vehicle = new Ammo.btRaycastVehicle(this.tuning, this.body, this.raycaster);\n\n        this.vehicle.setCoordinateSystem(0, 1, 2);\n\n        Physics.world.addAction(this.vehicle);\n        Scene.addGameObject(this);\n\n        this.wheelModels = [];\n        this.wheelModels.push(new GameObject(options.wheelLeftModel, options.wheelLeftModel, false, true, true));\n        this.wheelModels.push(new GameObject(options.wheelRightModel, options.wheelRightModel, false, true, true));\n        this.wheelModels.push(new GameObject(options.wheelRightModel, options.wheelRightModel, false, true, true));\n        this.wheelModels.push(new GameObject(options.wheelLeftModel, options.wheelLeftModel, false, true, true));\n\n        for (let i = 0; i < this.wheelModels.length; i++) {\n            this.wheelModels[i].allowUpdate = false;\n        }\n\n        this.wheelInfo = [];\n        this.wheelInfo.push(this.createWheel(options, true, options.frontLeftPos, new Vector3(0, -1, 0), new Vector3(-1, 0, 0)));\n        this.wheelInfo.push(this.createWheel(options, true, options.frontRightPos, new Vector3(0, -1, 0), new Vector3(-1, 0, 0)));\n        this.wheelInfo.push(this.createWheel(options, false, options.backRightPos, new Vector3(0, -1, 0), new Vector3(-1, 0, 0)));\n        this.wheelInfo.push(this.createWheel(options, false, options.backLeftPos, new Vector3(0, -1, 0), new Vector3(-1, 0, 0)));\n\n        this.tuning = new Ammo.btVehicleTuning();\n        this.currentAccelFront = 0;\n        this.currentAccelBack = 0;\n        this.currentBrakingFront = 0;\n        this.currentBrakingBack = 0;\n        this.steeringAngle = 0;\n\n        VehicleManager.addVehicle(this);\n    }\n\n    createWheel(options, front, wheelPos, wheelDir, wheelAxle) {\n        let wheel = this.vehicle.addWheel(wheelPos.to_btVector3(), wheelDir.to_btVector3(), wheelAxle.to_btVector3(), options.suspensionLen, options.radius, this.tuning, front);\n\n        wheel.set_m_suspensionStiffness(options.stiffness);\n        wheel.set_m_wheelsDampingRelaxation(options.damping);\n        wheel.set_m_wheelsDampingCompression(options.compression);\n\n        const friction = front ? options.frontFriction : options.backFriction;\n        wheel.set_m_frictionSlip(friction);\n        wheel.set_m_rollInfluence(options.roll);\n\n        return wheel;\n    }\n\n    isUpsideDown() {\n        const rot = this.rotation.Euler();\n\n        return (Math.abs(rot.x) * MathTools.rad2Deg >= 40 || Math.abs(rot.z) * MathTools.rad2Deg >= 40);\n    }\n\n    updateInput() {\n        if (this.isUpsideDown() && this.inUse) {\n            if (Input.isKeyDown('r') || Gamepad.isButtonPressed(Gamepad.Buttons.BUMPER_RIGHT)) {\n                const position = new Vector3(this.position.x, this.position.y + 1.5, this.position.z);\n                const rotation = new Quaternion(0.0, this.rotation.y, 0.0, this.rotation.w);\n                const quat = new Ammo.btQuaternion(rotation.x, rotation.y, rotation.z, rotation.w);\n\n                this.body.setLinearVelocity(new Ammo.btVector3(0, 0, 0));\n                this.body.setAngularVelocity(new Ammo.btVector3(0, 0, 0));\n\n                this.body.getWorldTransform().setOrigin(position.to_btVector3());\n                this.body.getWorldTransform().setRotation(quat);\n                this.body.getMotionState().setWorldTransform(this.body.getWorldTransform());\n            }\n        }\n\n        if (!this.inUse && MathTools.approximate(this.speed, 0.0)) {\n            if (this.engineSound !== null && this.engineSound.isPlaying)\n                this.engineSound.stop();\n        }\n\n        if (!this.inUse) return;\n\n        if (Gamepad.isConnected()) {\n            let axis = Gamepad.leftStick();\n\n            if (!Vector2.Equals(axis, Vector2.zero))\n                this.steeringAngle = -30 * axis.x;\n        }\n\n        if (this.engineSound !== null && !this.engineSound.isPlaying)\n            this.engineSound.play();\n\n        this.reverse = false;\n\n        if ((Input.isKeyDown('w') || Input.isKeyDown('ArrowUp') || Gamepad.rightTrigger() > 0) && this.speed <= this.topSpeed) {\n\n            const accel = (Gamepad.rightTrigger() > 0) ? Gamepad.rightTrigger() : 1;\n            this.currentBrakingFront = 0;\n            this.currentBrakingBack = 0;\n            this.currentAccelBack = (this.accelForceBack * this.accelRate) * accel;\n            this.currentAccelFront = (this.accelForceFront * this.accelRate) * accel;\n        }\n        else {\n            this.currentAccelBack = 0;\n            this.currentAccelFront = 0;\n            this.currentBrakingFront = 0.5;\n            this.currentBrakingBack = 0.5;\n        }\n\n        if (Input.isKeyDown('s') || Input.isKeyDown('ArrowDown') || Gamepad.leftTrigger() > 0) {\n            this.reverse = true;\n            const breaking = (Gamepad.leftTrigger() > 0) ? Gamepad.leftTrigger() : 1;\n            if (this.speed <= 0) {\n                this.currentBrakingFront = 0;\n                this.currentBrakingBack = 0;\n                this.currentAccelBack = -((this.accelForceBack * 0.5) * this.accelRate) * breaking;\n                this.currentAccelFront = -((this.accelForceFront * 0.5) * this.accelRate) * breaking;\n            }\n            else {\n                this.currentBrakingFront = this.breakForce * 0.25 * breaking;\n                this.currentBrakingBack = this.breakForce * 0.25 * breaking;\n            }\n        }\n\n        if (Input.isKeyDown('a') || Input.isKeyDown('ArrowLeft')) {\n            this.steeringAngle += 15 * this.steeringRate * Time.deltaTime;\n        }\n        else\n            if (Input.isKeyDown('d') || Input.isKeyDown('ArrowRight')) {\n                this.steeringAngle -= 15 * this.steeringRate * Time.deltaTime;\n            }\n            else {\n                this.steeringAngle = MathTools.moveTowards(this.steeringAngle, 0.0, this.steeringRate * Time.deltaTime);\n            }\n\n        this.steeringAngle = MathTools.clamp(this.steeringAngle, -25, 25);\n    }\n\n    updateSound() {\n        if (Math.abs(this.body.getAngularVelocity().y()) > 1) {\n\n            if (this.tireSquealSound !== null && this.model !== null) {\n\n                if (!this.tireSquealSound.isPlaying)\n                    this.tireSquealSound.play();\n\n                this.tireSquealSound.panner.setPosition(this.model.mesh.position.x, this.model.mesh.position.y, this.model.mesh.position.z);\n\n                this.tireSquealSound.setPlaybackRate(0.7);\n                this.tireSquealSound.setDetune(-250);\n            }\n        }\n        else {\n            if (this.tireSquealSound !== null && this.tireSquealSound.isPlaying)\n                this.tireSquealSound.stop();\n        }\n\n        if (this.engineSound !== null && this.model !== null) {\n\n            if (this.engineSound.isPlaying && this.model.mesh) {\n\n                this.engineSound.setDetune((Math.abs(this.speed) + this.enginePitch) * 10);\n                this.engineSound.panner.setPosition(this.model.mesh.position.x, this.model.mesh.position.y, this.model.mesh.position.z);\n            }\n        }\n    }\n\n    updateWheels() {\n        for (let i = 0; i < this.vehicle.getNumWheels(); i++) {\n\n            this.vehicle.updateWheelTransform(i, false);\n\n            const tm = this.vehicle.getWheelTransformWS(i);\n            const p = tm.getOrigin();\n            const q = tm.getRotation();\n\n            if (this.wheelModels[i].model && this.wheelModels[i].model.mesh) {\n                this.wheelModels[i].model.mesh.position.set(p.x(), p.y(), p.z());\n                this.wheelModels[i].model.mesh.quaternion.set(q.x(), q.y(), q.z(), q.w());\n            }\n        }\n    }\n\n    updateRigidBody() {\n        const tm = this.body.getWorldTransform();\n        const p = tm.getOrigin();\n        const q = tm.getRotation();\n        this.rotation.set(q.x(), q.y(), q.z(), q.w());\n        this.position.set(p.x(), p.y(), p.z());\n        let euler = this.rotation.Euler();\n        euler.x *= MathTools.deg2Rad;\n        euler.y *= MathTools.deg2Rad;\n        euler.z *= MathTools.deg2Rad;\n        this.rotation = Quaternion.FromEuler(euler.x, euler.y, euler.z);\n\n        if (this.model && this.model.mesh) {\n            this.model.mesh.position.set(p.x(), p.y(), p.z());\n            this.model.mesh.quaternion.set(q.x(), q.y(), q.z(), q.w());\n        }\n    }\n\n    updateSpeed() {\n        let vel = (this.vehicle.getRigidBody().getLinearVelocity().length() - 0.163);\n\n        if (vel < 0.009)\n            vel = 0;\n\n        const dir = this.reverse && this.speed < 0.05 ? -1 : 1;\n        this.speed = vel * 9.8 * dir;\n    }\n\n    updateMovement() {\n        this.vehicle.applyEngineForce(this.currentAccelFront, 0);\n        this.vehicle.applyEngineForce(this.currentAccelFront, 1);\n        this.vehicle.applyEngineForce(this.currentAccelBack, 2);\n        this.vehicle.applyEngineForce(this.currentAccelBack, 3);\n\n        this.vehicle.setBrake(this.currentBrakingFront, 0);\n        this.vehicle.setBrake(this.currentBrakingFront, 1);\n        this.vehicle.setBrake(this.currentBrakingBack / 2, 2);\n        this.vehicle.setBrake(this.currentBrakingBack / 2, 3);\n    }\n\n    updateSteering() {\n        this.vehicle.setSteeringValue(0, 3);\n        this.vehicle.setSteeringValue(0, 2);\n        this.vehicle.setSteeringValue(this.steeringAngle * MathTools.deg2Rad, 0);\n        this.vehicle.setSteeringValue(this.steeringAngle * MathTools.deg2Rad, 1);\n    }\n\n    applyDownforce() {\n        const downForce = this.constantDownforce ? -this.downForce : -(Math.abs(this.speed) * this.downForce);\n        this.downForceVel = new Vector3(0, downForce, 0);\n        this.btDownForce.setValue(this.downForceVel.x, this.downForceVel.y, this.downForceVel.z);\n        this.body.applyCentralImpulse(this.btDownForce);\n    }\n    \n    resetMovementWhenNotInUse() {\n        if (!this.inUse) {\n            this.currentBrakingFront = this.breakForce * 0.25;\n            this.currentBrakingBack = this.breakForce * 0.25;\n            this.currentAccelBack = 0;\n            this.currentAccelFront = 0;\n        }\n    }\n\n    update() {\n        Camera.mainCamera.add(Audio.listener);\n        this.applyDownforce();\n        this.resetMovementWhenNotInUse();\n        this.updateInput();\n        this.updateSound();\n        this.updateMovement();\n        this.updateSteering();\n        this.updateWheels();\n        this.updateRigidBody();\n        this.updateSpeed();\n    }\n}\n","import Vector3 from '../engine/Vector3';\nimport GameEngine from '../engine/GameEngine';\nimport Input from '../engine/Input';\n\nclass InfoStationsController {\n    constructor() {\n        this.infoStations = [];\n        this.activationDistance = 0.75;\n        this.inUse = false;\n    }\n\n    addInfoStation(position, stationName) {\n        this.infoStations.push({ position: position, name: stationName });\n    }\n\n    update(pos) {\n        let activate = false;\n        let openModal = '';\n        let closestDistance = 10;\n\n        for (let i = 0; i < this.infoStations.length; i++) {\n            const dist = Vector3.Distance(this.infoStations[i].position, pos);\n\n            if (dist < closestDistance) closestDistance = dist;\n\n            if (dist <= this.activationDistance && !this.inUse) {\n                this.inUse = true;\n                activate = true;\n                openModal = this.infoStations[i].name;\n                break;\n            }\n        }\n\n        if (closestDistance > this.activationDistance)\n            this.inUse = false;\n\n        if (activate) {\n            Input.clearKeys();\n            GameEngine.openModal(openModal);\n        }\n    }\n}\n\nconst InfoStationManager = new InfoStationsController();\nexport default InfoStationManager; ","import * as THREE from 'three';\nimport GameObject from './GameObject';\nimport Scene from './Scene';\nimport Camera from './Camera';\nimport { Vector3 } from 'three';\nimport MathTools from './MathTools';\n\nexport default class Light extends GameObject {\n\n    static LightType = {\n        DIRECTIONAL: 0,\n        POINT: 1,\n        SPOT: 2,\n        AMBIENT: 3,\n    }\n\n    constructor(options = { lightType: Light.LightType.DirectionalLight, \n                            color: 0xffffff, \n                            intensity: 1, \n                            castShadow: true, \n                            shadowMapWidth: 2048, \n                            shadowMapHeight: 2048, \n                            cameraNear: 0.1, \n                            cameraFar: 50, \n                            shadowBias: -0.00025, \n                            shadowCameraSize: 50,\n                            target: new Vector3(0 , -1, 0),\n                            position: new Vector3(0, 1, 0),\n                            distance: 100,\n                            decay: 2,\n                            angle: 30 * MathTools.deg2Rad,\n                            penumbra: 0.03\n                            }) {\n        super();\n        this.options = options;\n        this.light = null;\n\n        if (this.options.position === undefined)\n            this.options.position = new Vector3(0, 1, 0);\n\n        switch (options.lightType) {\n            case Light.LightType.DIRECTIONAL:\n                this.createDirectionalLight();\n                break;\n            case Light.LightType.POINT:\n                this.createPointLight();\n                break;\n            case Light.LightType.SPOT:\n                this.createSpotLight();\n                break;\n            case Light.LightType.AMBIENT:\n                this.createAmbientLight();\n                break;\n            default:\n                console.log('Unknown light type')\n        }\n    }\n\n    createDirectionalLight() {\n        this.light = new THREE.DirectionalLight(this.options.color, this.options.intensity);\n\n        if (this.options.castShadow)\n            this.enableShadows();\n\n        this.light.target = new THREE.Object3D();\n\n        Scene.add(this.light.target);\n        Scene.add(this.light);\n    }\n\n    createAmbientLight() {\n        this.light = new THREE.AmbientLight(this.options.color, this.options.intensity);\n        Scene.add(this.light);\n    }\n\n    createPointLight(){\n        this.light = new THREE.PointLight(this.position.color, this.options.intensity, this.options.distance);\n        this.light.decay = this.options.decay;\n        const pos = this.options.position;\n        this.light.position.set(pos.x, pos.y, pos.z);\n\n        if (this.options.castShadow)\n            this.enableShadows();\n\n        Scene.add(this.light);\n    }\t \n    createSpotLight(){\n        this.light = new THREE.SpotLight(this.options.color, this.options.intensity, this.options.distance, this.options.angle, this.options.penumbra, this.options.decay);\n\n        const pos = this.options.position;\n        const target = this.options.target;\n        \n        this.light.position.set(pos.x, pos.y, pos.z);\n        \n        this.light.target.position.set(target.x, target.y, target.z);\n        \n        if (this.options.castShadow)\n            this.enableShadows();\n            \n        Scene.add(this.light.target);\n        Scene.add(this.light);\n    }\n\n    enableShadows(){\n        this.light.castShadow = this.options.castShadow;\n\n        this.light.shadow.mapSize.width = this.options.shadowMapWidth;\n        this.light.shadow.mapSize.height = this.options.shadowMapHeight;\n        this.light.shadow.camera.near = this.options.cameraNear;\n        this.light.shadow.camera.far = this.options.cameraFar;\n        this.light.shadow.bias = this.options.shadowBias;\n\n        this.light.shadow.camera.top = this.options.shadowCameraSize;\n        this.light.shadow.camera.bottom = -this.options.shadowCameraSize;\n        this.light.shadow.camera.left = -this.options.shadowCameraSize;\n        this.light.shadow.camera.right = this.options.shadowCameraSize;\n    }\n\n    update() {\n        if (this.light === null) return;\n\n        if (this.options.lightType === Light.LightType.DIRECTIONAL) {\n            const camPos = Camera.position;\n            this.light.position.set(camPos.x, 1, camPos.z + 5);\n            this.light.target.position.set(this.options.target.x + camPos.x, this.options.target.y, this.options.target.z + camPos.z);\n        }\n        else\n        if(this.options.lightType === Light.LightType.SPOT){\n            this.light.position.set(this.options.position.x, this.options.position.y, this.options.position.z);\n            this.light.target.position.set(this.options.target.x , this.options.target.y, this.options.target.z);\n        }\n    }\n}","import Scene from './Scene';\nimport Physics from './Physics';\nimport GameObject from './GameObject';\nimport Vector3 from './Vector3';\nimport Ammo from 'ammo.js';\nimport Quaternion from './Quaternion';\nimport  Vector2  from './Vector2';\n\nexport default class Ball extends GameObject {\n    constructor(options = { position: Vector3.zero, rotation: Quaternion.Identity(), mass: 1, friction: 1, rollingFriction: 0.8, damping: new Vector2(0.2, 0.1), restitution: 0.8, radius: 1,  model: ''}) {\n        super(options.model, null, false, true, true, false, Vector3.zero, Quaternion.Identity());\n\n        this.inUse = false;\n        this.castShadow = true;\n        this.recieveShadow = true;\n        this.skinnedMesh = false;\n\n        this.options = options;\n        this.shape = Physics.createSphereShape(options.radius);\n        this.body = null;\n        this.tag = options.tag;\n\n        this.LoadModel(options.model, options.model, false, false)\n        .then(() => {\n            \n            let transform = new Ammo.btTransform();\n            transform.setIdentity();\n            transform.setOrigin(new Ammo.btVector3(this.options.position.x, this.options.position.y, this.options.position.z));\n            transform.setRotation(new Ammo.btQuaternion(this.options.rotation.x, this.options.rotation.y, this.options.rotation.z, this.options.rotation.w));\n            let motionState = new Ammo.btDefaultMotionState(transform);\n            let localInertia = new Ammo.btVector3(0, 0, 0);\n            this.shape.calculateLocalInertia(this.options.mass, localInertia);\n            this.body = new Ammo.btRigidBody(new Ammo.btRigidBodyConstructionInfo(this.options.mass, motionState, this.shape, localInertia));\n            this.body.setActivationState(4);\n\n            this.body.setFriction(this.options.friction);\n            this.body.setRestitution(this.options.restitution);\n            this.body.setRollingFriction(this.options.rollingFriction);\n            this.body.setDamping(this.options.damping.x, this.options.damping.y);\n            \n            Physics.world.addRigidBody(this.body);\n            Scene.addGameObject(this);\n        });\n    }\n\n    update() {\n        if (this.body === null) return;\n            const p = this.body.getWorldTransform().getOrigin();\n            const q = this.body.getWorldTransform().getRotation();\n\n            if (this.model && this.model.mesh) {\n                this.model.mesh.position.set(p.x(), p.y(), p.z());\n                this.model.mesh.quaternion.set(q.x(), q.y(), q.z(), q.w());\n                this.position.set(p.x(), p.y(), p.z());\n                this.rotation.set(q.x(), q.y(), q.z(), q.w());\n            }\n    }\n}\n","import Vector3 from '../engine/Vector3';\nimport Camera from '../engine/Camera';\nimport Quaternion from '../engine/Quaternion';\nimport MathTools from '../engine/MathTools';\nimport Input from '../engine/Input';\nimport Gamepad from '../engine/Gamepad';\nimport Time from '../engine/Time';\n\nexport default class CameraController {\n    constructor(offset) {\n        this.offset = offset;\n        this.fixedCameraMode = true;\n        this.locked = true;\n        this.followDistance = 3;\n        this.followHeight = 1;\n    }\n\n    update() {\n        if (Input.isKeyPressed('c') || Gamepad.isButtonPressed(Gamepad.Buttons.BUMPER_LEFT))\n            this.fixedCameraMode = !this.fixedCameraMode;\n    }\n\n    lateUpdate() {\n        if (this.fixedCameraMode)\n            this.fixedCamera();\n        else\n            this.followCamera();\n    }\n\n    fixedCamera() {\n        if (Camera.target === null) return;\n\n        const newPos = Vector3.Add(Camera.target.position, this.offset);\n\n        if (Vector3.Distance(Camera.position, newPos) > 0.2 && !this.locked)\n            Camera.position = Vector3.MoveTowards(Camera.position, newPos,   0.1);\n        else\n        {\n            this.locked = true;\n            Camera.position = newPos;\n        }\n \n        Camera.SetPosition(Camera.position);\n        Camera.mainCamera.lookAt(Camera.target.position.x, Camera.target.position.y, Camera.target.position.z);\n    }\n\n    followCamera() {\n        if (Camera.target === null) return;\n\n        this.locked = false;\n\n         let euler = Camera.target.rotation.Euler();\n        euler.x *= MathTools.rad2Deg;\n        euler.y *= MathTools.rad2Deg;\n        euler.z *= MathTools.rad2Deg;\n\n        const quat = Quaternion.FromEuler(euler.x, euler.y, euler.z);\n        let forward = new Vector3(0, 0, -1);\n        forward.rotate(quat);\n        \n        forward = Vector3.MultiplyScalar(forward, 4);\n        forward.y = Camera.target.position.y + 1;\n\n        const dist = Vector3.Distance(Camera.target.position, Camera.position);\n        let camPos = Vector3.MoveTowards(Camera.position, Vector3.Add(Camera.target.position, forward), (0.5 * dist) * Time.smoothDelta);\n       \n        Camera.SetPosition(camPos);\n\n        Camera.mainCamera.lookAt(Camera.target.position.x, Camera.target.position.y, Camera.target.position.z);\n    }\n}","import Player from './Player';\nimport Scene from '../engine/Scene';\nimport Camera from '../engine/Camera';\nimport Vector3 from '../engine/Vector3';\nimport Vector2 from '../engine/Vector2';\nimport Physics from '../engine/Physics';\nimport GameObject from '../engine/GameObject';\nimport Vehicle from './Vehicle';\nimport Quaternion from '../engine/Quaternion';\nimport InfoStationManager from './InfoStationManager';\nimport Light from '../engine/Light';\nimport Ball from '../engine/Ball';\nimport VehicleManager from '../engine/VehicleManager';\nimport CameraController from './CameraController';\n\nexport default class MainGame {\n    Init() {\n\n        this.ball = new Ball({\n            position: new Vector3(0.0, 2.0, -20.0),\n            rotation: Quaternion.Identity(),\n            mass: 0.2,\n            friction: 0.5,\n            rollingFriction: 0.3,\n            restitution: 1.5,\n            damping: new Vector2(0.2, 0.1),\n            radius: 0.175,\n            model: './assets/models/soccerball.glb'\n        });\n\n        Scene.setExpoFog('skyblue', 0.0075);\n\n        this.light = new Light({\n            lightType: Light.LightType.DIRECTIONAL,\n            color: 0xffffff,\n            intensity: 1,\n            castShadow: true,\n            shadowMapWidth: 8192,\n            shadowMapHeight: 8192,\n            cameraNear: 0.1,\n            cameraFar: 500,\n            shadowBias: -0.00025,\n            shadowCameraSize: 75,\n            target: new Vector3(-5, -5, -5)\n        });\n\n        this.ambientLight = new Light({\n            lightType: Light.LightType.AMBIENT,\n            color: 0xffffff,\n            intensity: 0.5\n        });\n\n        this.Load().then(() => { });\n    }\n\n    Load = async () => {\n        return await new Promise((resolve, reject) => {\n            this.player = new Player('player', null, true, true, true, new Vector3(0, 1, 0), Quaternion.FromEuler(0, 180, 0));\n            this.player.LoadModel('player', './assets/models/chris.glb', true)\n                .then(() => {\n                    this.player.addRigidBody({\n                        friction: 0.5,\n                        rollingFriction: 0,\n                        restitution: 0.5,\n                        mass: 1\n                    }, Physics.createCapsuleShape(0.23, 0.5, Vector3.up), new Vector3(0, 1, 0));\n                });\n\n            this.ground = new GameObject('ground', './assets/models/ground.glb', false, false, true,);\n            this.ground.addRigidBody({\n                friction: 0.5,\n                rollingFriction: 1,\n                restitution: 0.5,\n                mass: 0\n            }, Physics.createPlaneShape(Vector3.up), new Vector3(0, 0.0, 0));\n\n            this.grass = new GameObject('grass', './assets/models/grass.glb', false, true, true, true, new Vector3(0, 0, -10));\n\n            this.moundSign = new GameObject('moundsign', './assets/models/moundsign.glb', false, true, true,);\n            this.moundSign.setPosition(new Vector3(0, 0, -10));\n\n            this.road = new GameObject('road', null, false, true, true, true);\n            this.road.LoadModel('road', './assets/models/road.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.road.model.mesh)\n                        .then(shape => {\n                            this.road.addRigidBody(\n                                {\n                                    friction: 1,\n                                    rollingFriction: 1,\n                                    restitution: 0.0,\n                                    mass: 0\n                                }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.parkinglot = new GameObject('parkinglot', null, false, true, true, true);\n            this.parkinglot.LoadModel('parkinglot', './assets/models/parkinglot.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.parkinglot.model.mesh)\n                        .then(shape => {\n                            this.parkinglot.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.infostation = new GameObject('infostation', './assets/models/infostation.glb', false, false, true, false, new Vector3(0, 0, -10));\n\n            this.infostationbase = new GameObject('infostationbase', null, false, false, true, false, new Vector3(0, 0, -10));\n            this.infostationbase.LoadModel('infostation', './assets/models/infostationbase.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.infostationbase.model.mesh)\n                        .then(shape => {\n                            this.infostationbase.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.mightychicken = new GameObject('mightychicken', null, false, true, true, true);\n            this.mightychicken.LoadModel('mightychicken', './assets/models/mightychicken.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.mightychicken.model.mesh)\n                        .then(shape => {\n                            this.mightychicken.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.mightychickensign = new GameObject('mightychickensign', null, false, true, true, true);\n            this.mightychickensign.LoadModel('mightychickensign', './assets/models/mightychickensign.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.mightychickensign.model.mesh)\n                        .then(shape => {\n                            this.mightychickensign.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            InfoStationManager.addInfoStation(new Vector3(-19.921, 0, -7.5799), 'roadracer');\n            InfoStationManager.addInfoStation(new Vector3(-41.183, 0, -0.5502), 'mightychicken');\n            InfoStationManager.addInfoStation(new Vector3(28.144, 0, -10.426), 'pawsnfind');\n            InfoStationManager.addInfoStation(new Vector3(37.3217, 0, -7.9411), 'auctionbento');\n            InfoStationManager.addInfoStation(new Vector3(-77.743, 0, 6.29), 'skullvalley');\n            InfoStationManager.addInfoStation(new Vector3(41.966, 0, -3.468), 'portfolio');\n\n            this.pawsnfind = new GameObject('pawsnfind', null, false, true, true, false);\n            this.pawsnfind.LoadModel('pawsnfind', './assets/models/pawsnfind.glb', false)\n                .then(() => {\n                    Physics.createMeshShape(this.pawsnfind.model.mesh)\n                        .then(shape => {\n                            this.pawsnfind.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n            this.bentogirl = new GameObject('bentogirl', null, false, true, true, false);\n            this.bentogirl.LoadModel('bentogirl', './assets/models/bentogirl.glb', false)\n                .then(() => {\n                    Physics.createMeshShape(this.bentogirl.model.mesh)\n                        .then(shape => {\n                            this.bentogirl.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n            this.portfolio = new GameObject('portfolio', null, false, true, true, false);\n            this.portfolio.LoadModel('portfolio', './assets/models/portfolio.glb', false)\n                .then(() => {\n                    Physics.createMeshShape(this.portfolio.model.mesh)\n                        .then(shape => {\n                            this.portfolio.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n            this.barrier = new GameObject('barrier', null, false, true, true, false);\n            this.barrier.LoadModel('barrier', './assets/models/barrier.glb', false)\n                .then(() => {\n                    Physics.createMeshShape(this.barrier.model.mesh)\n                        .then(shape => {\n                            this.barrier.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n            this.constructionsign = new GameObject('constructionsign', null, false, true, true, false, new Vector3(0, 0.0, -10));\n            this.constructionsign.LoadModel('constructionsign', './assets/models/constructionsign.glb', false);\n\n            this.temple = new GameObject('temple', null, false, true, true, true);\n            this.temple.LoadModel('temple', './assets/models/temple.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.temple.model.mesh)\n                        .then(shape => {\n                            this.temple.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n            this.svlogo = new GameObject('svlogo', null, false, true, true, true);\n            this.svlogo.LoadModel('svlogo', './assets/models/svlogo.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.svlogo.model.mesh)\n                        .then(shape => {\n                            this.svlogo.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n            this.svlogoarrows = new GameObject('svlogoarrows', null, false, true, true, true);\n            this.svlogoarrows.LoadModel('svlogoarrows', './assets/models/svlogoarrows.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.svlogoarrows.model.mesh)\n                        .then(shape => {\n                            this.svlogoarrows.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n            this.templewateredge = new GameObject('templewateredge', null, false, true, true, true);\n            this.templewateredge.LoadModel('templewateredge', './assets/models/templewateredge.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.templewateredge.model.mesh)\n                        .then(shape => {\n                            this.templewateredge.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.05, -10));\n                        });\n                });\n\n            this.templewater = new GameObject('templewater', null, false, true, true, true);\n            this.templewater.LoadModel('templerock', './assets/models/templewater.glb', true)\n                .then(() => {\n                    this.templewater.setPosition(new Vector3(0, 0.05, -10));\n                });\n\n            this.templerock = new GameObject('templerock', null, false, true, true, true);\n            this.templerock.LoadModel('templerock', './assets/models/templerock.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.templerock.model.mesh)\n                        .then(shape => {\n                            this.templerock.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n            this.racetrack = new GameObject('racetrack', null, false, false, true, true);\n            this.racetrack.LoadModel('racetrack', './assets/models/racetrack.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.racetrack.model.mesh)\n                        .then(shape => {\n                            this.racetrack.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -38));\n                        });\n                });\n\n            this.racetrackstart = new GameObject('racetrackstart', null, false, true, true, false);\n            this.racetrackstart.LoadModel('racetrackstart', './assets/models/racetrackstart.glb', false)\n                .then(() => {\n                    Physics.createMeshShape(this.racetrackstart.model.mesh)\n                        .then(shape => {\n                            this.racetrackstart.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.075, -38));\n                        });\n                });\n\n            this.parkinglotcurb = new GameObject('parkinglotcurb', null, false, true, true, true);\n            this.parkinglotcurb.LoadModel('parkinglotcurb', './assets/models/parkinglotcurb.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.parkinglotcurb.model.mesh)\n                        .then(shape => {\n                            this.parkinglotcurb.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.garage = new GameObject('garage', null, false, true, true, true);\n            this.garage.LoadModel('garage', './assets/models/garage.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.garage.model.mesh)\n                        .then(shape => {\n                            this.garage.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.garagedoor = new GameObject('garagedoor', null, false, true, true, true);\n            this.garagedoor.LoadModel('garagedoor', './assets/models/garagedoor.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.garagedoor.model.mesh)\n                        .then(shape => {\n                            this.garagedoor.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.rrsign = new GameObject('rrsign', null, false, true, true, true);\n            this.rrsign.LoadModel('rrsign', './assets/models/rrsign.glb', true, false)\n                .then(() => {\n                    Physics.createMeshShape(this.rrsign.model.mesh)\n                        .then(shape => {\n                            this.rrsign.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.mound = new GameObject('mound', null, false, true, true, true);\n            this.mound.LoadModel('mound', './assets/models/mound.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.mound.model.mesh)\n                        .then(shape => {\n                            this.mound.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.fence = new GameObject('fence', null, false, true, true, true);\n            this.fence.LoadModel('fence', './assets/models/fence.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.fence.model.mesh)\n                        .then(shape => {\n                            this.fence.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.cameraController = new CameraController(new Vector3(0, 3.0, 5.0));\n            Camera.controller = this.cameraController;\n            Camera.target = this.player;\n\n            this.vehicle2 = new Vehicle({\n                breakForce: 25,\n                accelForceFront: 20,\n                accelForceBack: 100,\n                accelRate: 3,\n                downForce: 0.02,\n                topSpeed: 120,\n                bodyWidth: 0.956,\n                bodyHeight: 0.738,\n                bodyLength: 2.28,\n                mass: 100,\n                enginePitch: 25,\n                position: new Vector3(-38.62, 0.56, -9.23),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/classicbug.glb',\n                wheelLeftModel: './assets/models/classicbugwheelLeft.glb',\n                wheelRightModel: './assets/models/classicbugwheelRight.glb',\n                stiffness: 50.0,\n                damping: 1.75,\n                compression: 2.4,\n                backFriction: 0.95,\n                frontFriction: 1,\n                roll: .25,\n                radius: 0.25,\n                suspensionLen: 0.095,\n                backLeftPos: new Vector3(-0.4, -0.35, -0.654),\n                backRightPos: new Vector3(0.4, -0.35, -0.654),\n                frontRightPos: new Vector3(0.38, -0.35, 0.719),\n                frontLeftPos: new Vector3(-0.38, -0.35, 0.719),\n            });\n\n            this.vehicle = new Vehicle({\n                breakForce: 25,\n                accelForceFront: 50,\n                accelForceBack: 150,\n                downForce: 0.15,\n                accelRate: 3,\n                topSpeed: 250,\n                bodyWidth: 1.25,\n                bodyHeight: 0.6,\n                bodyLength: 2.128,\n                mass: 150,\n                enginePitch: -100,\n                position: new Vector3(-24.438, 0.624, -10.447),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/hotrod.glb',\n                wheelLeftModel: './assets/models/hotrodwheelLeft.glb',\n                wheelRightModel: './assets/models/hotrodwheelRight.glb',\n                stiffness: 125.0,\n                damping: 3,\n                compression: 2.5,\n                backFriction: 1,\n                frontFriction: 1,\n                roll: 0.35,\n                radius: 0.25,\n                suspensionLen: 0.1,\n                backLeftPos: new Vector3(-0.524, -0.309, -0.654),\n                backRightPos: new Vector3(0.524, -0.309, -0.654),\n                frontRightPos: new Vector3(0.524, -0.309, 0.719),\n                frontLeftPos: new Vector3(-0.524, -0.309, 0.719),\n            });\n\n            this.vehicle3 = new Vehicle({\n                breakForce: 25,\n                accelForceFront: 180,\n                accelForceBack: 250,\n                accelRate: 1,\n                downForce: 0.05,\n                topSpeed: 200,\n                bodyWidth: 1.15,\n                bodyHeight: 0.5,\n                bodyLength: 2.128,\n                mass: 200,\n                enginePitch: -50,\n                position: new Vector3(-27.407, 0.59, -9.5),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/sportscar.glb',\n                wheelLeftModel: './assets/models/sportscarwheelLeft.glb',\n                wheelRightModel: './assets/models/sportscarwheelRight.glb',\n                stiffness: 100.0,\n                damping: 10,\n                compression: 1.4,\n                backFriction: 0.95,\n                frontFriction: 1,\n                roll: 0.2,\n                radius: 0.25,\n                suspensionLen: 0.075,\n                backLeftPos: new Vector3(-0.45, -0.23, -0.62),\n                backRightPos: new Vector3(0.45, -0.23, -0.62),\n                frontRightPos: new Vector3(0.45, -0.23, 0.69),\n                frontLeftPos: new Vector3(-0.45, -0.23, 0.69),\n            });\n\n            this.vehicle4 = new Vehicle({\n                breakForce: 35,\n                accelForceFront: 0,\n                accelForceBack: 500,\n                accelRate: 1,\n                downForce: 0.15,\n                topSpeed: 322,\n                bodyWidth: 1.03,\n                bodyHeight: 0.395,\n                bodyLength: 2.21,\n                mass: 100,\n                enginePitch: 50,\n                position: new Vector3(-35.883, 0.295, -6.466),\n                rotation: new Quaternion(0, 0.545, 0, 0.8383),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/racecar.glb',\n                wheelLeftModel: './assets/models/racecarwheelLeft.glb',\n                wheelRightModel: './assets/models/racecarwheelRight.glb',\n                stiffness: 500.0,\n                damping: 2.3,\n                compression: 2.4,\n                backFriction: 1.95,\n                frontFriction: 2,\n                roll: 0.2,\n                radius: 0.25,\n                suspensionLen: 0.01,\n                backLeftPos: new Vector3(-0.4, -0.05, -0.8),\n                backRightPos: new Vector3(0.4, -0.05, -0.8),\n                frontRightPos: new Vector3(0.4, -0.05, 0.67),\n                frontLeftPos: new Vector3(-0.4, -0.05, 0.67),\n            });\n\n            this.vehicle5 = new Vehicle({\n                breakForce: 10,\n                accelForceFront: 0,\n                accelForceBack: 250,\n                accelRate: 1,\n                downForce: 0.01,\n                topSpeed: 100,\n                bodyWidth: 1.0,\n                bodyHeight: 1.5,\n                bodyLength: 2.128,\n                mass: 500,\n                enginePitch: -100,\n                position: new Vector3(-33.75, 0.649, -10.43),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/truck.glb',\n                wheelLeftModel: './assets/models/truckwheelLeft.glb',\n                wheelRightModel: './assets/models/truckwheelRight.glb',\n                stiffness: 250.0,\n                damping: 2.3,\n                compression: 1.4,\n                backFriction: 0.95,\n                frontFriction: 0.95,\n                roll: .25,\n                radius: 0.25,\n                suspensionLen: 0.1,\n                backLeftPos: new Vector3(-0.45, -0.5, -0.6),\n                backRightPos: new Vector3(0.45, -0.5, -0.6),\n                frontRightPos: new Vector3(0.45, -0.5, 0.95),\n                frontLeftPos: new Vector3(-0.45, -0.5, 0.95),\n            });\n\n            this.vehicle5 = new Vehicle({\n                breakForce: 20,\n                accelForceFront: 0,\n                accelForceBack: 225,\n                accelRate: 3,\n                downForce: 0.2,\n                topSpeed: 160,\n                bodyWidth: 1,\n                bodyHeight: 0.747,\n                bodyLength: 2.45,\n                mass: 300,\n                enginePitch: -100,\n                position: new Vector3(-30.404, 0.649, -8.43),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/pickup.glb',\n                wheelLeftModel: './assets/models/pickupwheelLeft.glb',\n                wheelRightModel: './assets/models/pickupwheelRight.glb',\n                stiffness: 100.0,\n                damping: 2.3,\n                compression: 1.4,\n                backFriction: 0.95,\n                frontFriction: 0.95,\n                roll: .25,\n                radius: 0.25,\n                suspensionLen: 0.125,\n                backLeftPos: new Vector3(-0.425, -0.32, -0.79),\n                backRightPos: new Vector3(0.425, -0.32, -0.79),\n                frontRightPos: new Vector3(0.425, -0.32, 0.71),\n                frontLeftPos: new Vector3(-0.425, -0.32, 0.71),\n            });\n            resolve(true);  // This needs to be better\n        });\n    }\n\n    update() {\n\n        VehicleManager.checkVehicleInRange(this.player.position);\n        InfoStationManager.update(this.player.position);\n    }\n}","import Scene from './Scene';\nimport Camera from './Camera';\nimport Time from './Time';\nimport Physics from './Physics';\nimport Renderer from './Renderer';\nimport PostProcessing from './PostProcessing';\nimport Input from './Input';\nimport Gamepad from './Gamepad';\nimport MainGame from '../maingame/MainGame';\n//import StadiumGame from '../stadiumgame/StadiumGame';\n\nclass Engine {\n    constructor() {\n        this.fps = 0;\n        this.fpsTime = 0;\n        this.frameRate = 0;\n        this.mainGame = new MainGame();\n        this.mainGame.Init();\n    }\n\n    Init(){\n        requestAnimationFrame(this.Animate);\n    }\n\n    SetOpenModalCallback(openModal, isModalOpen) {\n        this.openModal = openModal;\n        this.isModalOpen = isModalOpen;\n    }\n\n    InitRenderer = (canvas, width, height) => {\n        this.renderer = new Renderer();\n        this.renderer.InitRenderer(canvas, width, height, this.Animate).then(renderer => {\n           // PostProcessing.init(renderer);\n           //  PostProcessing.addFXAA();\n           //  PostProcessing.addBloom();\n            // PostProcessing.addBokeh(); \n        })\n            .then(() => {\n                //    this.renderer.compile(Scene.scene, Camera.mainCamera); \n            });\n    }\n\n    GetRenderer() {\n        return this.renderer.renderer;\n    }\n\n    Animate = (elapsed) => {\n\n        if (this.isModalOpen()) {\n            Gamepad.clearButtons();\n            Input.clearKeys();\n        }\n\n        Gamepad.update();\n        Time.Update();\n        this.mainGame.update();\n        Scene.update();\n\n        this.fpsTime += Time.deltaTime;\n        this.fps++;\n        if (this.fpsTime >= 1) {\n               document.title = this.fps + ' fps';\n            this.frameRate = parseFloat(this.fps);\n            this.fps = 0;\n            this.fpsTime = 0;\n        }\n        \n        Physics.update();\n        \n        if (PostProcessing.isUsingEffects())\n            PostProcessing.render();\n        else\n            this.renderer.Render(Scene.getScene(), Camera.mainCamera);\n    }\n}\n\nconst GameEngine = new Engine();\n\nexport default GameEngine;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport roadracerbanner from '../../images/roadracerlogo.png';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            width: 'auto',\n            transform: `translate(-${top}%, -${left}%)`,\n        },\n        image: {\n            backgroundImage: \"url(\" + roadracerbanner + \")\",\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'contain',\n            width: \"100%\",\n            minWidth: '80%',\n            height: \"30%\",\n            margin: '10px'\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            minWidth: '400px',\n            height: '75%',\n            backgroundColor: 'rgb(40.9%, 38.5%, 52.3%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: 'rgb(29.9%, 28.2%, 37.8%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n\n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.image}></div>\n\n                <div style={styles.promoText}>\n                    Tilt to steer, swipe to jump over obstacles, buy cars to unlock Powerups and collect coins to upgrade them, collect gears for rewinds and see how far you can race!\n                </div>\n\n                <div style={styles.promoText}>\n                    <ul>\n                        <li style={styles.contentText}> Custom C++ engine on iOS </li>\n                        <li style={styles.contentText}> Unity 3D on Android and Windows Phone </li>\n                        <li style={styles.contentText}> PHP and MYSQL backend to facilitate in game events and app usage insight </li>\n                        <li style={styles.contentText}> Firebase integration </li>\n                        <li style={styles.contentText}> Admob for interstitial ads and reward ads </li>\n                        <li style={styles.contentText}> Game Center integration on iOS and Google Play Services integration on Android </li>\n                        <li style={styles.contentText}> Push notification </li>\n                        <li style={styles.contentText}> In App Purchases (consumable and non-consumable) </li>\n                        <li style={styles.contentText}> Procedurally generated levels </li>\n                    </ul>\n                </div>\n\n                <div style={{ width: '100%' }}>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Apple App Store:</span> <a href='https://itunes.apple.com/us/app/road-racer/id575817068?mt=8' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Road Racer</a>\n                    </div>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Google Play Store:</span>  <a href='https://play.google.com/store/apps/details?id=com.intoxic8studio.roadracer' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Road Racer 168</a>\n                    </div>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Website:</span>  <a href='http://intoxic8studio.com/' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Intoxic8 Studio LLC</a>\n                    </div>\n\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport mightychickenbanner from '../../images/mightychickenlogo.png';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            transform: `translate(-${top}%, -${left}%)`,\n            width: 'auto',\n        },\n        image: {\n            backgroundImage: \"url(\" + mightychickenbanner + \")\",\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'contain',\n            width: \"100%\",\n            height: \"30%\",\n            margin: '10px'\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            height: '65%',\n            backgroundColor: 'rgb(100%, 54.9%, 0%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none',\n            minWidth: '400px'\n        },\n        button: {\n            backgroundColor: 'rgb(78.8%, 43.4%, 0.2%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n\n\n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.image}></div>\n\n                <div style={styles.promoText}>\n                    Dodge the mutant robo fish, killer bomb, spinning blades and poisonous arrow! Avoid getting sliced in half in the spear cave.\n                </div>\n\n                <div style={styles.promoText}>\n                    <ul>\n                        <li style={styles.contentText}> Unity 3D on Android and iOS </li>\n                        <li style={styles.contentText}> Firebase integration </li>\n                        <li style={styles.contentText}> Admob and Unity Ads for interstitial ads and reward ads </li>\n                        <li style={styles.contentText}> Game Center integration on iOS and Google Play Services integration on Android </li>\n                        <li style={styles.contentText}> Push notification </li>\n                        <li style={styles.contentText}> In App Purchases </li>\n                    </ul>\n                </div>\n\n                <div style={{ width: '100%' }}>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Apple App Store:</span> <a href='https://itunes.apple.com/us/app/mighty-chicken-and-friends/id1422459374?ls=1' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Mighty Chicken iOS</a>\n                    </div>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Google Play Store:</span>  <a href='https://play.google.com/store/apps/details?id=com.intoxic8studio.mightychicken' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Mighty Chicken Android</a>\n                    </div>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Website:</span>  <a href='http://www.themightychicken.com/' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Mighty Chicken</a>\n                    </div>\n\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport pawsnfindBanner from '../../images/pawsnfind.png';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            transform: `translate(-${top}%, -${left}%)`,\n            width: 'auto',\n        },\n        image: {\n            backgroundImage: \"url(\" + pawsnfindBanner + \")\",\n            backgroundSize: \"contain\",\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            width: \"100%\",\n            height: \"30%\",\n            margin: '0px'\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            minWidth: '400px',\n            height: '65%',\n            backgroundColor: '#235775',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: '#558a9d',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n\n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.image}></div>\n\n                <div style={styles.promoText}>\n                    Animal Rescue organizations have so much to manage, but their biggest concern is making sure pets go to a great home.\n                    Pawsnfind allows rescues to manage their operations while making it easier for adopters to find their perfect pet and connect with the rescue.\n                </div>\n\n                <div style={styles.promoText}>\n                    <ul>\n                        <li style={styles.contentText}> React frontend with MaterialUI</li>\n                        <li style={styles.contentText}> Redux </li>\n                        <li style={styles.contentText}> Serparate dashboard for animal rescues and adopters </li>\n                        <li style={styles.contentText}> Express.js backend with a Postgres database </li>\n                        <li style={styles.contentText}> Stripe integration for rescues to receive donations. </li>\n                        <li style={styles.contentText}> Bank accounts can be verified with stripe directly from Pawsnfind's dashboard </li>\n                        <li style={styles.contentText}> Image hosting (Uploading and retrieval of images) using PHP and MySQL </li>\n                        <li style={styles.contentText}> React frontend for image hosting for the creation of new accounts and api keys </li>\n                    </ul>\n                </div>\n\n                <div style={{ width: '100%' }}>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Website:</span>  <a href='https://pawsnfind.com' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>www.pawsnfind.com</a>\n                    </div>\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Github:</span> <a href='https://github.com/Pawsnfind' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>https://github.com/Pawsnfind</a>\n                    </div>\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport auctionBentoBanner from '../../images/auctionbentologo.png';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            transform: `translate(-${top}%, -${left}%)`,\n            width: 'auto',\n        },\n        image: {\n            backgroundImage: \"url(\" + auctionBentoBanner + \")\",\n            backgroundSize: \"contain\",\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            width: \"100%\",\n            height: \"30%\",\n            margin: '0px'\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            minWidth: '400px',\n            height: '65%',\n            backgroundColor: '#247d79',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: '#558a9d',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n\n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.image}></div>\n\n                <div style={styles.promoText}>\n                    <p>Auction Bento - eBay Sellers Fee calculator for iPhone and iPad.</p>\n                    <div>eBay Sellers Fee calculator was an iOS app that allowed users to quickly </div>\n                    <div> calculate profitablity by calculating eBay and paypal fees.</div>\n                </div>\n\n                <div style={styles.promoText}>\n                    <div>Mobile App</div>\n                    <ul>\n                        <li style={styles.contentText}> - Objective C</li>\n                        <li style={styles.contentText}> - UIKit </li>\n                    </ul>\n                    <div>Backend</div>\n                    <ul>\n                        <li style={styles.contentText}> PHP backend with MySQL </li>\n                        <li style={styles.contentText}> Serve in-house ads and affiliate ads </li>\n                        <li style={styles.contentText}> Dashboard to manage ads made with HTML, Javascript and CSS</li>\n                    </ul>\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport skullvalleybanner from '../../images/skullvalleylogo.png';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            transform: `translate(-${top}%, -${left}%)`,\n            width: 'auto',\n        },\n        image: {\n            backgroundImage: \"url(\" + skullvalleybanner + \")\",\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'contain',\n            width: \"100%\",\n            height: \"30%\",\n            margin: '10px'\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            height: '65%',\n            backgroundColor: '#247d79',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none',\n            minWidth: '400px'\n        },\n        button: {\n            backgroundColor: '#134c49',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n\n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.image}></div>\n\n                <div style={styles.promoText}>\n                    Skull Valley is an iOS and Android game currently in development.  Dodge obstacles and traps to escape a clumbsy death.\n                </div>\n\n                <div style={styles.promoText}>\n                    <ul>\n                        <li style={styles.contentText}> Unity 3D on Android and iOS </li>\n                        <li style={styles.contentText}> Firebase integration </li>\n                        <li style={styles.contentText}> Admob and Unity Ads for interstitial ads and reward ads </li>\n                        <li style={styles.contentText}> Game Center integration on iOS and Google Play Services integration on Android </li>\n                        <li style={styles.contentText}> Push notification </li>\n                        <li style={styles.contentText}> In App Purchases </li>\n                        <li style={styles.contentText}> Procedurally generated levels </li>\n                        <li style={styles.contentText}> Native plugins coded in C++ and Objective C </li>\n                        <li style={styles.contentText}> Timed reward events </li>\n                    </ul>\n                </div>\n\n                <div style={{ width: '100%' }}>\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Website:</span>  <a href='http://www.skullvalleygame.com' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Skull Valley</a>\n                    </div>\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            transform: `translate(-${top}%, -${left}%)`,\n            width: '30vw',\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            height: '65%',\n            backgroundColor: '#247d79',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none',\n            minWidth: '400px'\n        },\n        button: {\n            backgroundColor: '#134c49',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n\n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.promoText}>\n                    <div style={styles.contentText}> Frontend </div>\n                    <ul>\n                        <li style={styles.contentText}> React </li>\n                        <li style={styles.contentText}> Three.js </li>\n                        <li style={styles.contentText}> Ammo.js </li>\n                        <li style={styles.contentText}> Gamepad Support </li>\n                    </ul>\n                    <div style={styles.contentText}> Backend</div>\n                    <ul>\n                        <li style={styles.contentText}> Express </li>\n                        <li style={styles.contentText}> Socket.io </li>\n                    </ul>\n                    <div style={styles.contentText}> Tools Used </div>\n                    <ul>\n                        <li style={styles.contentText}> Blender </li>\n                        <li style={styles.contentText}> Gimp </li>\n                        <li style={styles.contentText}> Inkscape </li>\n                    </ul>\n                </div>\n\n                <div style={{ width: '100%' }}>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Github:</span> <a href='https://github.com/criffle629/portfolio' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>https://github.com/criffle629/portfolio</a>\n                    </div>\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Portfolio:</span>  <a href='http://www.chrisriffle.dev' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Portfolio</a>\n                    </div>\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            width: '100vw',\n            height: '100vh',\n        },\n        title: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n            fontSize: '60px',\n            textAlign: 'center',\n            position: 'absolute'\n        },\n        buttonGroup: {\n            display: 'flex',\n            flexDirection: 'column',\n            marginTop: '10px',\n            color: 'white',\n            justifyContent: 'center'\n        },\n        buttons: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: 600,\n            height: '75%',\n            backgroundColor: 'rgb(100%, 100%, 100%, 0%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: 'rgb(29.9%, 28.2%, 37.8%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            width: '25%',\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n    }));\n\n    const classes = useStyles();\n\n    function practiceClicked(){\n        closeModal();\n    }\n\n    function multiplayerClicked(){}\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n        >\n            <div>\n                <div style={styles.title}>\n                    Road Racer League\n                </div>\n                <div style={styles.modal} className={classes.main}>\n                    <div style={styles.buttonGroup}>\n                        <Button style={styles.buttons} className={classes.button} onClick={practiceClicked}>Practice</Button>\n                        <Button style={styles.buttons} className={classes.button} onClick={multiplayerClicked}>Multiplayer</Button>\n                    </div>\n                </div>\n            </div>\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            width: 'auto',\n            transform: `translate(-${top}%, -${left}%)`,\n        },\n        title: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        buttons: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: 600,\n            height: '75%',\n            backgroundColor: 'rgb(40.9%, 38.5%, 52.3%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: 'rgb(29.9%, 28.2%, 37.8%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n        >\n            <div style={styles.modal} className={classes.main}>\n                <div style={styles.title}>\n                    Road Racer League\n                </div>\n                <Button style={styles.buttons} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n        </Modal>\n    );\n}","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faGamepad } from '@fortawesome/free-solid-svg-icons'\nimport styled, { keyframes } from \"styled-components\";\nimport Gamepad from '../../../engine/Gamepad';\n\nexport default class GamepadUI extends React.Component {\n\n    constructor(props) {\n        super();\n        this.state = {\n            popup: 'none'\n        };\n        this.animCount = 0;\n        Gamepad.statusCallback = this.setStatus;\n    }\n\n    setStatus = (status) => {\n        this.animCount = 0;\n        this.setState({ popup: status });\n    }\n\n    onAnimationEnd = () => {\n        this.animCount++;\n\n        if (this.animCount >= 2) {\n            this.animCount = 0;\n            this.setState({ popup: 'none' });\n        }\n    }\n\n    render() {\n        let render = false;\n\n        if (this.state.popup === 'connected' || this.state.popup === 'disconnected')\n            render = true;\n\n        const style = {\n            gamepadUI: {\n                position: 'fixed', width: '100vw', height: '100vh', padding: 0, margin: 0, overflow: 'hidden', zIndex: 1,\n            }\n        };\n        return (\n            <div style={style.gamepadUI}>\n                {render ? this.renderComponent() : null}\n            </div>\n        );\n    }\n\n    renderComponent() {\n\n        const popin = keyframes`\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top:150%; }\n            to  { top: 80%; }       \n            \n        `;\n\n        const wait = keyframes`\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top: 80%; }\n            to { top: 80%; } \n        `;\n\n\n        const drop = keyframes`\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top: 80%; }\n            to { top: 150%; }\n        `;\n\n        const PopUp = styled.span`\n            background-color: white;\n            border-radius: 25px;\n            border: 3px solid black;\n            padding: 10px;\n            position: relative;\n            height: 130px;\n            width: 250px;\n             \n            translateZ(0);\n            z-index: 150;\n            backface-visibility: hidden;\n            perspective: 1000;\n            animation:  ${popin} 0.5s, ${wait} 2s,  ${drop} 0.5s;\n            animation-delay: 0s, 0.5s, 2s;\n            animation-timing-function: ease-out, linear, ease-in;\n        `;\n\n        return (\n            <PopUp onAnimationEnd={this.onAnimationEnd}>\n                <FontAwesomeIcon color=\"##495057\" size='lg' icon={faGamepad} /> Gamepad {this.state.popup}\n            </PopUp>\n        );\n    }\n}\n","import React from 'react';\nimport Gamepad from '../../engine/Gamepad';\nimport GamepadUI from './components/GamepadUI';\nimport Scene from '../../engine/Scene';\nimport Camera from '../../engine/Camera';\nimport GameEngine from '../../engine/GameEngine';\n\nexport default class MainGameUI extends React.Component {\n\n    constructor(props) {\n        super();\n        this.canvas = null;\n        this.isLoaded = false;\n        this.state = {}\n        Gamepad.connectedCallback = this.gamepadConnected;\n        window.addEventListener('resize', this.ScreenResize);\n    }\n\n    gamepadConnected = () => {\n        this.setState({ gamepadConnected: true });\n    }\n\n    ScreenResize() {\n        Scene.setScreenSize(document.body.clientWidth, document.body.clientHeight);\n        Camera.Configure(60, Scene.aspectRatio, 0.1, 1000.0);\n\n        GameEngine.GetRenderer().setSize(Scene.screenWidth, Scene.screenHeight);\n    }\n\n    gamepadConnected(e) {\n        console.log(e);\n    }\n\n    gamepadeDisconnected(e) {\n        console.log(e);\n    }\n\n\n    closeModal = () => {\n        this.setState({ currentModal: 'none' });\n    }\n\n    openModal = (modal) => {\n        this.setState({ currentModal: modal });\n    }\n\n    isModalOpen = () => {\n        return this.state.currentModal !== 'none';\n    }\n\n    render() {\n        return (\n            <div style={{ position: 'absolute', width: '100vw', height: '100vh', padding: 0, margin: 0, overflow: 'hidden', zIndex: 1 }}>\n                <GamepadUI />\n                <div style={{ position: 'relative', width: '100vw', height: '100vh', padding: 0, margin: 0, overflow: 'hidden', zIndex: 1 }}>\n\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport Input from '../engine/Input';\nimport GameEngine from '../engine/GameEngine';\nimport Scene from '../engine/Scene';\nimport Camera from '../engine/Camera';\n\nimport RoadRacerModal from './modal/RoadRacerModal';\nimport MightyChickenModal from './modal/MightyChickenModal';\nimport PawsnfindModal from './modal/PawsnfindModal';\nimport AuctionBentoModal from './modal/AuctionBentoModal';\nimport SkullValleyModal from './modal/SkullValleyModal';\nimport PortfolioModal from './modal/PortfolioModal';\n\nimport MainMenuStadium from '../stadiumgame/ui/mainmenu';\nimport StadiumGameUI from '../stadiumgame/ui/gameui';\nimport MainGameUI from './MainGameUI/MainGameUI';\n\nexport default class Game extends React.Component {\n\n    constructor(props) {\n        super();\n        this.canvas = null;\n        this.isLoaded = false;\n        this.state = {\n            currentModal: 'none'\n        }\n\n        document.addEventListener('keydown', this.HandleKeyPress);\n        document.addEventListener('keyup', this.HandleKeyUp);\n    }\n\n    componentDidMount(){\n        GameEngine.SetOpenModalCallback(this.openModal, this.isModalOpen);\n        GameEngine.Init();\n    }\n\n    Load = () => {\n        if (this.isLoaded) return;\n\n        this.isLoaded = true;\n        Scene.setScreenSize(document.body.clientWidth, document.body.clientHeight );\n        Camera.Configure(60, Scene.aspectRatio, 0.1, 1000.0);\n        GameEngine.InitRenderer(this.canvas, Scene.screenWidth, Scene.screenHeight);\n\n        this.canvas.focus();\n    }\n\n    gamepadConnected(e) {\n        console.log(e);\n    }\n\n    gamepadeDisconnected(e) {\n        console.log(e);\n    }\n    HandleKeyPress(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        Input.addKey(e.key);\n    }\n\n    HandleKeyUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        Input.removeKey(e.key);\n    }\n\n    clearInput = () => {\n        Input.clearKeys();\n    }\n\n    closeModal = () => {\n        this.setState({currentModal: 'none'});\n    }\n\n    openModal = (modal) => {\n        this.setState({currentModal: modal});\n    }\n\n    isModalOpen = () => {\n        return this.state.currentModal !== 'none';\n    }\n\n    render() {\n        return (\n            <div  style={{   width: '100vw', height:'100vh', padding:0, margin:0, overflow:'hidden' }}>\n                <MainGameUI />\n                <canvas style={{ outline: 'none', display: 'block', width: '100vw', height: '100vh', position:'fixed'}} tabIndex=\"0\" ref={(c) => { this.canvas = c; this.Load(); }} onBlur={this.clearInput}></canvas>\n             \n                <RoadRacerModal isOpen={this.state.currentModal === 'roadracer'} closeModal={this.closeModal}/>\n                <MightyChickenModal isOpen={this.state.currentModal === 'mightychicken'} closeModal={this.closeModal}/>\n                <PawsnfindModal isOpen={this.state.currentModal === 'pawsnfind'} closeModal={this.closeModal}/>\n                <AuctionBentoModal isOpen={this.state.currentModal === 'auctionbento'} closeModal={this.closeModal} />\n                <SkullValleyModal isOpen={this.state.currentModal === 'skullvalley'} closeModal={this.closeModal} />\n                <PortfolioModal isOpen={this.state.currentModal === 'portfolio'} closeModal={this.closeModal} />\n                <StadiumGameUI isOpen={this.state.currentModal === 'stadiumui'} closeModal={this.closeModal} openModel={this.openModal}/>\n                <MainMenuStadium isOpen={this.state.currentModal === 'stadiummenu'} closeModal={this.closeModal} openModel={this.openModal}/>\n               \n            </div>\n        )\n    }\n}\n ","import React from 'react';\nimport Audio from '../engine/Audio';\nimport Scene from '../engine/Scene';\nimport styled, { keyframes } from \"styled-components\";\nimport Time from '../engine/Time';\n\nexport default class Loading extends React.Component {\n\n    constructor(props) {\n        super();\n        this.state = {\n            loadingCounter: 0,\n            loaded: false,\n            finished: false,\n            fade: false\n        };\n        this.enterWasClicked = false;\n        this.timer = 0.0;\n    }\n\n    componentDidMount() {\n        window.requestAnimationFrame(this.loading);\n    }\n\n    loading = () => {\n        if (Scene.isLoaded()) {\n            this.setState({ loaded: true });\n            clearInterval(this.loadingInterval);\n        }\n\n        this.timer += Time.deltaTime;\n\n        if (this.timer >= 0.5) {\n            this.timer = 0.0;\n            let count = this.state.loadingCounter;\n            count = (count + 1) % 4;\n\n            this.setState({ loadingCounter: count });\n\n        }\n        if (!Scene.isLoaded())\n            window.requestAnimationFrame(this.loading);\n    }\n\n    playSound = () => {\n        Audio.PlaySoundsMuted();\n    }\n\n    renderLoading() {\n        const period = '.';\n\n        return (\n            <div style={{ background: 'white', width: '100%', height: '100%', position: 'absolute', top: 0, left: 0 }}>\n                <div style={{ background: 'white', width: '300px', height: '100px', position: 'absolute', top: 0, left: 0, bottom: 0, right: 0, margin: 'auto', fontSize: '4em', overflow: 'hidden' }}>\n                    loading {period.repeat(this.state.loadingCounter)}\n                </div>\n            </div>\n        );\n    }\n\n    onAnimationEnd = (e) => {\n        e.stopPropagation();\n        this.setState({ finished: true });\n    }\n\n    enterClicked = (e) => {\n        e.stopPropagation();\n        if (this.enterWasClicked) return;\n        this.enterWasClicked = true;\n        this.playSound(); // Must play sound muted on user interaction to prevent browser from blocking audio.\n        this.setState({ fade: true });\n    }\n\n    renderFade() {\n        const fadeOut = keyframes`\n            from { opacity: 1; }\n            to { opacity: 0; }    \n        `;\n\n        const Fade = styled.div`\n        background: white;\n        position:absolute;\n        top:0;\n        left:0;\n        width: 100%;\n        height: 100%;\n        translateZ(0);\n        z-index: 150;\n        backface-visibility: hidden;\n        perspective: 1000;\n        animation:  ${this.state.fade ? fadeOut : null} 0.5s;\n        animation-timing-function: linear;\n    `;\n        const Button = styled.button`\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n            margin: auto;\n            height: 100px;\n            width: 180px;\n            font-size: 48px;\n            background-color: white;\n            border: 2px solid black;\n            border-radius: 20px;\n            outline: none;\n        `;\n\n        return (\n            <Fade onAnimationEnd={this.onAnimationEnd}>\n                <Button onClick={this.enterClicked}> Enter </Button>\n            </Fade>\n        );\n    }\n\n    render() {\n        return !this.state.loaded ? this.renderLoading() : !this.state.finished ? this.renderFade() : null;\n    }\n}","import React from 'react';\nimport './App.css';\nimport Game from './components/Game';\nimport Loading from './components/Loading';\n\nclass App extends React.Component {\n\n  render() {\n    return (\n      <div>\n         <Game/> \n         <Loading style={{position: 'absolute', zIndex:1}}/>  \n      </div>\n \n    )\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}