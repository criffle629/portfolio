(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{53:function(e,t,n){e.exports=n.p+"static/media/roadracerlogo.bc79bb73.png"},54:function(e,t,n){e.exports=n.p+"static/media/mightychickenlogo.58923630.png"},55:function(e,t,n){e.exports=n.p+"static/media/pawsnfind.3a4c06f8.png"},66:function(e,t,n){e.exports=n(96)},71:function(e,t,n){},72:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(14),s=n.n(a),r=(n(71),n(2)),l=n(3),c=n(5),h=n(6),d=(n(72),null);null===d&&(d=new(function(){function e(){Object(r.a)(this,e),this.keyDown=new Map,this.keyPressed=new Map}return Object(l.a)(e,[{key:"addKey",value:function(e){this.keyDown.set(e.toLowerCase(),1),2!==this.keyPressed.get(e.toLowerCase())&&this.keyPressed.set(e.toLowerCase(),1)}},{key:"removeKey",value:function(e){this.keyDown.delete(e.toLowerCase()),this.keyPressed.delete(e.toLowerCase())}},{key:"isKeyDown",value:function(e){return this.keyDown.has(e.toLowerCase())}},{key:"isKeyPressed",value:function(e){return!(!this.keyPressed.has(e.toLowerCase())||1!==this.keyPressed.get(e.toLowerCase()))&&(this.keyPressed.set(e.toLowerCase(),2),!0)}},{key:"clearKeys",value:function(){this.keyDown.clear(),this.keyPressed.clear()}},{key:"json",value:function(){return{keyDown:this.keyDown,keyPressed:this.keyPressed}}}]),e}()));var u=d,g=n(1),y=function(){function e(){Object(r.a)(this,e),this.scene=new g.pb,this.enabledObjects={},this.disabledObjects={},this.screenWidth=1024,this.screenHeight=600,this.aspectRatio=1024/600,this.objectLoading=0,this.objectLoaded=0}return Object(l.a)(e,[{key:"add",value:function(e){this.scene.add(e)}},{key:"addGameObject",value:function(e){e.objID in this.disabledObjects?this.enableObject(e):e.objID in this.enableObject||(this.enabledObjects[e.objID]=e)}},{key:"getScene",value:function(){return this.scene}},{key:"enableObject",value:function(e){e.objID in this.disabledObjects&&(this.enabledObjects[e.objID]=e,delete this.disabledObjects[e.objID])}},{key:"disableObject",value:function(e){e.objID in this.enableObjects&&(this.disabledObjects[e.objID]=e,delete this.enabledObjects[e.objID])}},{key:"deleteObject",value:function(e){}},{key:"update",value:function(){for(var e in this.enabledObjects)this.enabledObjects[e].update();for(var t in void 0!==this.ball&&null!==this.ball&&(this.cameraController.ball=this.ball),this.enabledObjects)this.enabledObjects[t].lateUpdate();for(var n in this.enabledObjects)this.enabledObjects[n].render()}},{key:"setScreenSize",value:function(e,t){this.screenWidth=e,this.screenHeight=t,this.aspectRatio=e/t}},{key:"setLinearFog",value:function(e,t,n){this.scene.fog=new g.s(e,t,n)}},{key:"setExpoFog",value:function(e,t){this.scene.fog=new g.t(e,t)}},{key:"isLoaded",value:function(){return this.objectLoaded===this.objectLoading&&0!==this.objectLoading}}]),e}();y.FOG_TYPE={LINEAR:0,EXPONENTIAL:1};var p=new y,f=n(12),m=function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,null,[{key:"approximate",value:function(e,t){return e>t-Number.EPSILON&&e<t+Number.EPSILON}},{key:"clamp",value:function(e,t,n){var i=t,o=n;return t>n&&(i=n,o=t),e<i?i:e>o?o:e}},{key:"moveTowards",value:function(e,t,n){return Math.abs(e-t)<=n?e:e+(t-e)*n}},{key:"rad2Deg",get:function(){return 180/Math.PI}},{key:"deg2Rad",get:function(){return Math.PI/180}}]),e}(),b=n(7),v=n.n(b),w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(r.a)(this,e),this.x=t,this.y=n,this.z=i}return Object(l.a)(e,[{key:"set",value:function(e,t,n){return this.x=e,this.y=t,this.z=n,this}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"magnitude",value:function(){return this.length()}},{key:"rotate",value:function(t){var n=new e(t.x,t.y,t.z),i=2*e.Dot(n,this),o=t.w*t.w-e.Dot(n,n),a=new e;a.x=i*n.x,a.y=i*n.y,a.z=i*n.z,a.x+=o*this.x,a.y+=o*this.y,a.z+=o*this.z;var s=e.Cross(n,this);a.x+=2*t.w*s.x,a.y+=2*t.w*s.y,a.z+=2*t.w*s.z,this.x=a.x,this.y=a.y,this.z=a.z}},{key:"normalize",value:function(){var e=this.magnitude();return m.approximate(e,0)?(this.x=0,this.y=0,void(this.z=0)):(this.x/=e,this.y/=e,this.z/=e,this)}},{key:"negate",value:function(){this.x*=-1,this.y*=-1,this.z*=-1}},{key:"to3jsV3",value:function(){return new g.Bb(this.x,this.y,this.z)}},{key:"to_btVector3",value:function(){return new v.a.btVector3(this.x,this.y,this.z)}},{key:"toString",value:function(){return"( x: "+this.x+"  y: "+this.y+"  z: "+this.z+" )"}}],[{key:"Add",value:function(t,n){var i=new e(0,0,0);return i.x=t.x+n.x,i.y=t.y+n.y,i.z=t.z+n.z,i}},{key:"Subtract",value:function(t,n){var i=new e(0,0,0);return i.x=t.x-n.x,i.y=t.y-n.y,i.z=t.z-n.z,i}},{key:"Multiply",value:function(t,n){var i=new e(0,0,0);return i.x=t.x*n.x,i.y=t.y*n.y,i.z=t.z*n.z,i}},{key:"AddScalar",value:function(t,n){var i=new e(0,0,0);return i.x=t.x+n,i.y=t.y+n,i.z=t.z+n,i}},{key:"SubtractScalar",value:function(t,n){var i=new e(0,0,0);return i.x=t.x-n,i.y=t.y-n,i.z=t.z-n,i}},{key:"MultiplyScalar",value:function(t,n){var i=new e(0,0,0);return i.x=t.x*n,i.y=t.y*n,i.z=t.z*n,i}},{key:"Cross",value:function(t,n){var i=new e(0,0,0);return i.x=t.y*n.z-t.z*n.y,i.y=t.z*n.x-t.x*n.z,i.z=t.x*n.y-t.y*n.x,i}},{key:"Distance",value:function(t,n){var i=e.Subtract(n,t);return Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z)}},{key:"Lerp",value:function(e,t,n){var i=t;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i.x*=m.clamp(n,0,1),i.y*=m.clamp(n,0,1),i.y*=m.clamp(n,0,1),e.x+=i.x,e.y+=i.y,e.z+=i.z,e}},{key:"Dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"Normalize",value:function(e){return e.normalize(),e}},{key:"Equals",value:function(e,t){return e.x>t.x-Number.EPSILON&&e.x<t.x+Number.EPSILON&&e.y>t.y-Number.EPSILON&&e.y<t.y+Number.EPSILON&&e.z>t.z-Number.EPSILON&&e.z<t.z+Number.EPSILON}},{key:"Angle",value:function(t,n){var i=e.Cross(t,n),o=Math.atan2(i.length(),e.Dot(t,n));return e.Dot(i,e.up)<0?-o:o}},{key:"Negate",value:function(e){var t=e;return t.x*=-1,t.y*=-1,t.z*=-1,t}},{key:"toBTV3",value:function(e){return new v.a.btVector3(e.x,e.y,e.z)}},{key:"toJSV3",value:function(e){return new g.Bb(e.x,e.y,e.z)}},{key:"zero",get:function(){return new e(0,0,0)}},{key:"one",get:function(){return new e(1,1,1)}},{key:"up",get:function(){return new e(0,1,0)}},{key:"down",get:function(){return new e(0,-1,0)}},{key:"forward",get:function(){return new e(0,0,-1)}},{key:"back",get:function(){return new e(0,0,1)}},{key:"left",get:function(){return new e(-1,0,0)}},{key:"right",get:function(){return new e(1,0,0)}}]),e}(),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(r.a)(this,e),this.x=t,this.y=n,this.z=i,this.w=o,this.euler=new w(0,0,0)}return Object(l.a)(e,[{key:"set",value:function(e,t,n,i){this.x=e,this.y=t,this.z=n,this.w=i}},{key:"Normalize",value:function(){var e=1/this.Length();this.x*=e,this.y*=e,this.z*=e,this.w*=e}},{key:"Inverse",value:function(){return new e(this.x,this.y,this.z,-this.w)}},{key:"Negate",value:function(){return new e(-this.x,-this.y,-this.z,this.w)}},{key:"Euler",value:function(){return this.euler.y=Math.atan2(2*this.w*this.y+2*this.z*this.x,1-2*(this.x*this.x+this.y*this.y))*m.rad2Deg,this.euler.x=Math.asin(2*(this.w*this.x-this.y*this.z))*m.rad2Deg,this.euler.z=Math.atan2(2*this.w*this.z+2*this.x*this.y,1-2*(this.z*this.z+this.x*this.x))*m.rad2Deg,this.euler}},{key:"Length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"LengthSquared",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}}],[{key:"LookAt",value:function(t,n,i){var o=w.Normalize(w.Subtract(n,t)),a=w.Dot(w.forward,o);if(Math.abs(a- -1)<1e-6)return new e(w.up.x,w.up.y,w.up.z,Math.PI);if(Math.abs(a-1)<1e-6)return e.Identity();var s=Math.acos(a),r=w.Cross(w.forward,o);return r=w.Normalize(r),e.CreateFromAxisAngle(r,s)}},{key:"LookRotation",value:function(t,n){var i=w.Normalize(t),o=w.Normalize(i),a=w.Normalize(w.Cross(n,o)),s=w.Cross(o,a),r=a.x,l=a.y,c=a.z,h=s.x,d=s.y,u=s.z,g=o.x,y=o.y,p=o.z,f=r+d+p,m=new e;if(f>0){var b=Math.sqrt(f+1);return m.w=.5*b,b=.5/b,m.x=(u-y)*b,m.y=(g-c)*b,m.z=(l-h)*b,m}if(r>=d&&r>=p){var v=Math.sqrt(1+r-d-p),k=.5/v;return m.x=.5*v,m.y=(l+h)*k,m.z=(c+g)*k,m.w=(u-y)*k,m}if(d>p){var x=Math.sqrt(1+d-r-p),S=.5/x;return m.x=(h+l)*S,m.y=.5*x,m.z=(y+u)*S,m.w=(g-c)*S,m}var M=Math.sqrt(1+p-r-d),O=.5/M;return m.x=(g+c)*O,m.y=(y+u)*O,m.z=.5*M,m.w=(l-h)*O,m}},{key:"RotatePointAroundPivot",value:function(t,n,i){return e.LookRotation(w.Subtract(t,n),w.up)*t}},{key:"RotateAround",value:function(t,n){var i=t-n;return(i=e.LookRotation(i,w.up)*i)+n}},{key:"CreateFromAxisAngle",value:function(t,n){var i=.5*n,o=Math.sin(i),a=new e;return a.x=t.x*o,a.y=t.y*o,a.z=t.z*o,a.w=Math.cos(i),a}},{key:"FromEuler",value:function(t,n,i){var o=n*m.deg2Rad,a=t*m.deg2Rad,s=.5*(i*m.deg2Rad),r=Math.sin(s),l=Math.cos(s),c=.5*a,h=Math.sin(c),d=Math.cos(c),u=.5*o,g=Math.sin(u),y=Math.cos(u),p=new e;return p.w=y*d*l+g*h*r,p.x=y*h*l+g*d*r,p.y=g*d*l-y*h*r,p.z=y*d*r-g*h*l,p}},{key:"Dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}},{key:"Normalize",value:function(e){var t=e,n=1/t.Length();return t.x*=n,t.y*=n,t.z*=n,t.w*=n,t}},{key:"Identity",value:function(){return new e(0,0,0,1)}}]),e}(),x=n(19),S=n.n(x),M=n(23),O=new(function(){function e(){Object(r.a)(this,e),this.clock=new g.m(!0),this.deltaTime=0}return Object(l.a)(e,[{key:"Update",value:function(){this.deltaTime=this.clock.getDelta()}},{key:"DeltaTime",value:function(){return this.deltaTime}}]),e}()),R=function(){function e(){Object(r.a)(this,e),this.collisionConfig=new v.a.btDefaultCollisionConfiguration,this.dispatcher=new v.a.btCollisionDispatcher(this.collisionConfig),this.broadphase=new v.a.btDbvtBroadphase,this.solver=new v.a.btSequentialImpulseConstraintSolver,this.world=new v.a.btDiscreteDynamicsWorld(this.dispatcher,this.broadphase,this.solver,this.collisionConfig),this.world.setGravity(new v.a.btVector3(0,-9.8,0)),this.rigidBodies=[]}return Object(l.a)(e,[{key:"setGravity",value:function(e){this.world.setGravity(new v.a.btVector3(e.x,e.y,e.z))}},{key:"addRigidBody",value:function(e){if(null!==e)return this.world.addRigidBody(e),this.rigidBodies.push(e),this.rigidBodies[this.rigidBodies.length-1]}},{key:"removeRigidBody",value:function(e){this.world.removeRigidBody(e)}},{key:"createSphereShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new v.a.btSphereShape(e);return t.setMargin(.05),t}},{key:"createBoxShape",value:function(e){return new v.a.btBoxShape(new v.a.btVector3(.5*e.x,.5*e.y,.5*e.z))}},{key:"createPlaneShape",value:function(e){return new v.a.btStaticPlaneShape(new v.a.btVector3(e.x,e.y,e.z),1e-4)}},{key:"createCapsuleShape",value:function(e,t,n){var i=new v.a.btCapsuleShape(e,t,new v.a.btVector3(n.x,n.y,n.z));return i.setMargin(.05),i}},{key:"createCylinderShape",value:function(e,t,n){var i=new v.a.btCylinderShape(e,t,new v.a.btVector3(n.x,n.y,n.z));return i.setMargin(.05),i}},{key:"createConeShape",value:function(e,t,n){var i=new v.a.btConeShape(e,t,new v.a.btVector3(n.x,n.y,n.z));return i.setMargin(.05),i}},{key:"createMeshShape",value:function(e){return new Promise((function(t,n){var i=[],o=[];e.children.forEach((function(e){if(e.hasOwnProperty("children")&&e.children.length>0)e.children.forEach((function(e){if(e.hasOwnProperty("geometry")){for(var t=e.geometry.index.array,n=e.geometry.attributes.position.array,a=0;a<t.length;a+=3)o.push(t[a]);for(var s=0;s<n.length;s+=3)i.push(new v.a.btVector3(n[s],n[s+1],n[s+2]))}}));else if(e.hasOwnProperty("geometry")){o=e.geometry.index.array;for(var t=e.geometry.attributes.position.array,n=0;n<t.length;n+=3)i.push(new v.a.btVector3(t[n],t[n+1],t[n+2]))}}));for(var a=new v.a.btTriangleMesh,s=0;s<o.length;s+=3)a.addTriangle(i[o[s]],i[o[s+1]],i[o[s+2]]);t(new v.a.btBvhTriangleMeshShape(a,!0))}))}},{key:"update",value:function(){this.world.stepSimulation(O.deltaTime,10)}}]),e}();R.PhysicShapes={SPHERE:0,BOX:1,PLANE:2,CAPSULE:3,CYLINDER:4,CONE:5};var z=new R,L=n(117),E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new w(0,0,0),n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Identity(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{mass:0,friction:1,rollingFriction:1,restitution:.8};Object(r.a)(this,e),this.isKinematic=!1,this.active=!0,this.mass=o.mass,this.shape=n,this.friction=o.friction,this.rollingFriction=o.rollingFriction,this.restitution=o.restitution,this.ragdollActive=!1,this.btPos=new v.a.btVector3(t.x,t.y,t.z),this.btQuat=new v.a.btQuaternion(i.x,i.y,i.z,i.w),this.id=Object(L.a)(),this.cachedbtVec3=new v.a.btVector3(0,0,0),this.transform=new v.a.btTransform,this.transform.setIdentity(),this.transform.setOrigin(this.btPos),this.transform.setRotation(this.btQuat),this.motionState=new v.a.btDefaultMotionState(this.transform);var a=new v.a.btVector3(0,0,0);a=this.shape.calculateLocalInertia(this.mass,a);var s=new v.a.btRigidBodyConstructionInfo(this.mass,this.motionState,this.shape,a);this.position=t,this.rotation=i,this.body=new v.a.btRigidBody(s),this.body.setFriction(this.friction),this.body.setDamping(.25,.25),this.body.setCcdMotionThreshold(1),this.body.setCcdSweptSphereRadius(.2),this.body.setRestitution(this.restitution),this.SetKinematic(m.approximate(this.mass,0)),z.addRigidBody(this.body)}return Object(l.a)(e,[{key:"setMass",value:function(e){this.body&&(this.mass=e,this.body.setMassProps(e,new v.a.btVector3(0,0,0)))}},{key:"SetKinematic",value:function(e){this.isKinematic=e,e?(this.body.setMassProps(0,new v.a.btVector3(0,0,0)),this.body.setCollisionFlags(2),this.body.setActivationState(4)):(this.body.setMassProps(this.mass,new v.a.btVector3(0,0,0)),this.body.setCollisionFlags(0),this.body.setActivationState(4))}},{key:"AddForce",value:function(e){this.body.applyCentralForce(e.to_btVector3())}},{key:"AddForceAt",value:function(e,t){this.body.applyForce(e.to_btVector3(),t.to_btVector3())}},{key:"SetLinearFactor",value:function(e){this.body.setLinearFactor(e.to_btVector3())}},{key:"SetSleepingThreshold",value:function(e,t){this.body.setSleepingThresholds(e,t)}},{key:"ApplyTorque",value:function(e){this.body.applyTorque(e.to_btVector3())}},{key:"ApplyCentralImpulse",value:function(e){this.body.applyCentralImpulse(e.to_btVector3())}},{key:"ApplyTorqueImpulse",value:function(e){this.body.applyTorqueImpulse(e.to_btVector3())}},{key:"ApplyImpulse",value:function(e){this.body.applyImpulse(e.to_btVector3(),new v.a.btVector3(0,0,0))}},{key:"ApplyImpulseAt",value:function(e,t){this.body.applyImpulse(e.to_btVector3(),t.to_btVector3())}},{key:"ClearForces",value:function(){this.body.clearForces()}},{key:"GetOrentation",value:function(){var e=this.body.getOrientation();return new k(e.x(),e.y(),e.z(),e.w())}},{key:"GetLinearVelocity",value:function(){var e=this.body.getLinearVelocity();return new w(e.x(),e.y(),e.z())}},{key:"GetAngularVelocity",value:function(){var e=this.body.getAngularVelocity();return new w(e.x(),e.y(),e.z())}},{key:"SetLinearVelocity",value:function(e){this.bodysetLinearVelocity(e.to_btVector3())}},{key:"setAngularVelocity",value:function(e){this.body.setAngularVelocity(e.to_btVector3())}},{key:"translate",value:function(e){this.body.translate(e.to_btVector3())}},{key:"setPosition",value:function(e){this.btPos.setValue(e.x,e.y,e.z),this.body.getWorldTransform().setOrigin(this.btPos)}},{key:"Move",value:function(e){this.body.translate(e.to_btVector3())}},{key:"setRotation",value:function(e){this.btQuat.setValue(e.x,e.y,e.z,e.w),this.body.getWorldTransform().setRotation(this.btQuat),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}},{key:"setQuaternion",value:function(e){this.body.getWorldTransform().setRotation(e),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}},{key:"WantsSleep",value:function(){return this.body.wantsSleeping()}},{key:"GetMotionState",value:function(){return this.body.getMotionState()}},{key:"SetMotionState",value:function(e){this.body.setMotionState(e)}},{key:"SetAngularFactor",value:function(e){z.removeRigidBody(this.body),this.body.setAngularFactor(e.to_btVector3()),z.addRigidBody(this.body)}},{key:"GetAngularFactor",value:function(){var e=this.body.getAngularFactor();return new w(e.x(),e.y(),e.z())}},{key:"IsInWorld",value:function(){return this.body.isInWorld()}},{key:"AddContraint",value:function(e){this.addConstraintRef(e)}},{key:"RemoveContraint",value:function(e){this.removeConstraintRef(e)}},{key:"SetFlags",value:function(e){this.setFlags(e)}},{key:"GetFlags",value:function(){return this.getFlags()}},{key:"GetLocalInertia",value:function(){var e=this.body.getLocalInertia();return new w(e.x(),e.y(),e.z())}},{key:"IsActive",value:function(){return this.active}},{key:"GetCollisionShape",value:function(){return this.body.getCollisionShape()}},{key:"SetCollisionShape",value:function(e){this.body.setCollisionShape(e)}},{key:"SetRollingFriction",value:function(e){z.removeRigidBody(this.body),this.body.setRollingFriction(e),z.addRigidBody(this.body)}},{key:"SetRestitution",value:function(e){z.removeRigidBody(this.body),this.body.setRestitution(e),z.addRigidBody(this.body)}},{key:"GetCollisionFlags",value:function(){return this.body.getCollisionFlags()}},{key:"SetCollisionFlags",value:function(e){this.body.setCollisionFlags(e)}},{key:"GetPosition",value:function(){var e=this.body.getWorldTransform().getOrigin();return this.position.set(e.x(),e.y(),e.z()),this.position}},{key:"GetRotation",value:function(){var e=this.body.getWorldTransform().getRotation();return this.rotation.set(e.x(),e.y(),e.z(),e.w()),this.rotation}},{key:"SetActivationState",value:function(e){this.body.setActivationState(e)}},{key:"SetBounciness",value:function(e){this.body.setRestitution(e)}},{key:"IsKinematic",value:function(){return this.isKinematic}},{key:"SetFriction",value:function(e){this.body.setFriction(e)}}]),e}(),T=n(38),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];Object(r.a)(this,e),this.mixer=null,this.action=null,this.meshData=null,this.mesh=null,this.scene=null,this.culling=a,this.castShadow=n,this.receiveShadow=i,this.flatShading=o,null!==t&&this.LoadMesh(t)}return Object(l.a)(e,[{key:"setShadows",value:function(){var e=this;this.scene.traverse((function(t){t.isMesh&&(t.castShadow=e.castShadow,t.receiveShadow=e.receiveShadow)}))}},{key:"castShadow",value:function(e){this.castShadow=e}},{key:"receiveShadow",value:function(e){this.receiveShadow=e}},{key:"LoadMesh",value:function(e){var t=this;return p.objectLoading++,new Promise((function(n,i){(new T.a).load(e,(function(e){e.scene.traverse((function(e){e.isMesh&&(e.castShadow=t.castShadow,e.receiveShadow=t.receiveShadow,t.culling&&(e.material.side=g.u),t.flatShading&&(e.material.flatShading=t.flatShading))})),t.scene=e.scene,t.meshData=e.scene.children,t.mesh=e.scene,t.mesh.doubleSided=!1,p.add(e.scene),p.objectLoaded++,n(t)}),void 0,(function(e){console.error(e),p.objectLoading--,i("error")}))}))}},{key:"isLoaded",value:function(){return null===this.mesh}}]),e}(),C=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(r.a)(this,e),this.mixer=null,this.action=null,this.meshData=null,this.mesh=null,this.anim=null,this.scene=null,this.currentAnimation="",this.bones=[],this.ragdollActivated=!1,this.castShadow=n,this.receiveShadow=i,this.flatShading=o,this.LoadMesh(t,o)}return Object(l.a)(e,[{key:"setShadows",value:function(){var e=this;this.scene.traverse((function(t){t.isMesh&&(t.castShadow=e.castShadow,t.receiveShadow=e.receiveShadow)}))}},{key:"castShadow",value:function(e){this.castShadow=e,this.updateScene()}},{key:"receiveShadow",value:function(e){this.receiveShadow=e,this.updateScene()}},{key:"updateScene",value:function(){var e=this;this.scene.traverse((function(t){t.isMesh&&(t.castShadow=e.castShadow,t.receiveShadow=e.receiveShadow,e.flatShading&&(t.material.flatShading=e.flatShading))}))}},{key:"LoadMesh",value:function(){var e=Object(M.a)(S.a.mark((function e(t){var n,i,o=this,a=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],p.objectLoading++,i=new T.a,this.flatShading=n,e.next=6,i.load(t,(function(e){o.meshData=new g.sb(e),o.mixer=new g.d(e.scene),o.mixer.timeScale=1,e.scene.traverse((function(e){e.isMesh&&(e.castShadow=o.castShadow,e.receiveShadow=o.receiveShadow,n&&(e.material.flatShading=n))})),o.scene=e.scene,o.meshData=e.scene.children,o.mesh=e.scene,o.anim=e,p.objectLoaded++,p.add(e.scene)}),void 0,(function(e){p.objectLoading--,console.error(e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAnimation",value:function(e){if(null!==this.meshData&&this.currentAnimation!==e){this.currentAnimation=e;var t=g.c.findByName(this.anim,e);null!==this.action&&this.action.stop(),this.action=this.mixer.clipAction(t),null!==this.action&&this.action.play()}}},{key:"SetRagdollActive",value:function(e){this.ragdollActivated=e;for(var t=0;t<this.bones.length;t++)if(null!==this.bones[t].body){var n=e?.25:0;this.bones[t].body.setMass(n)}}},{key:"Animate",value:function(){null===this.mixer||this.ragdollActivated||this.mixer.update(O.deltaTime)}}]),e}(),F=new function e(){var t=this;Object(r.a)(this,e),this.LoadMesh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return null===e&&console.log("LoadMesh requires name"),null===n&&console.log("LoadMesh requires a path"),new Promise((function(l,c){if(i){var h=new C(n,o,a,s);t.meshes[e]=h,l(h)}else{var d=new P(null,o,a,s,r);d.LoadMesh(n).then((function(n){t.meshes[e]=d,l(d)})).catch((function(e){c(e)}))}}))},this.meshes={},this.sounds={}};Object.freeze(F);var B=F,j=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:w.zero,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:k.Identity();Object(r.a)(this,e),this.LoadModel=function(){var e=Object(M.a)(S.a.mark((function e(n,i){var o,a,s=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=s.length>2&&void 0!==s[2]&&s[2],a=!(s.length>3&&void 0!==s[3])||s[3],null!==i){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,B.LoadMesh(n,i,t.skinnedMesh,t.castShadow,t.recieveShadow,o,a).then((function(e){t.model=e,t.setPosition(t.position),t.setRotation(t.rotation)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.position=c,this.rotation=h,this.scale=new w(0,0,0),this.isEnabled=!0,this.texture=null,this.model=null,this.skinnedMesh=o,this.forward=w.forward,this.objID=Object(L.a)(),this.rigidBody=null,this.castShadow=a,this.recieveShadow=s,this.allowUpdate=!0,this.name=n,this.tag={},this.LoadModel(n,i,l),p.addGameObject(this)}return Object(l.a)(e,[{key:"setEnabled",value:function(e){this.isEnabled=e,this.isEnabled?p.enableObject(this):p.disableObject(this)}},{key:"setRotation",value:function(e){this.rotation=k.FromEuler(e.x,e.y,e.z),null!==this.rigidBody&&this.rigidBody.setRotation(this.rotation)}},{key:"setQuaternion",value:function(e){this.rotation=e,null!==this.rigidBody&&this.rigidBody.setQuaternion(new v.a.btQauternion(e.x,e.y,e.z,e.w))}},{key:"rotate",value:function(e){if(null!==this.rigidBody){var t=w.zero;this.rigidBody.setRotation(t);var n=w.Add(e,new w(t.x,t.y,t.z));this.rotation=k.FromEuler(n.x,n.y,n.z),this.rigidBody.setRotation(this.rotation)}else this.rotation=w.Add(this.rotation,e)}},{key:"setPosition",value:function(e){this.position=e,null!==this.rigidBody&&this.rigidBody.setPosition(this.position)}},{key:"move",value:function(e){null!==this.rigidBody?(this.position=this.rigidBody.GetPosition(),this.position=w.Add(this.position,e),this.rigidBody.setPosition(this.position)):this.position=w.Add(this.position,e)}},{key:"setScale",value:function(e){this.scale=e}},{key:"changeScale",value:function(e){this.scale.x+=e.x,this.scale.y+=e.y,this.scale.z+=e.z}},{key:"update",value:function(){if(this.allowUpdate&&(null!==this.rigidBody&&(this.position=this.rigidBody.GetPosition(),this.rotation=this.rigidBody.GetRotation()),null!==this.model&&this.model.hasOwnProperty("mesh")&&null!==this.model.mesh)){var e=this.rotation.Euler();this.model.mesh.position.set(this.position.x,this.position.y,this.position.z),this.model.mesh.rotation.set(e.x,e.y,e.z)}}},{key:"lateUpdate",value:function(){}},{key:"addRigidBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mass:0,friction:1,rollingFriction:1,restitution:.8},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.zero,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Identity();this.rigidBody=new E(n,t,i,e)}},{key:"render",value:function(){this.skinnedMesh&&this.model&&this.model.Animate()}},{key:"collision",value:function(e){}}]),e}(),A=new(function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).mainCamera=new g.db(60,1024/600,.1,1e3),e.target=null,e.position=w.zero,e.controller=null,p.addGameObject(Object(f.a)(e)),e}return Object(l.a)(n,[{key:"Configure",value:function(e,t,n,i){this.mainCamera=new g.db(e,t,n,i)}},{key:"SetController",value:function(e){this.controller=e}},{key:"Move",value:function(e){this.mainCamera.translateX(e.x),this.mainCamera.translateY(e.y),this.mainCamera.translateZ(e.z)}},{key:"Rotate",value:function(e){this.rotation=k.FromEuler(e.x,e.y,e.z),this.mainCamera.rotation.set(e.x,e.y,e.z)}},{key:"SetPosition",value:function(e){this.position=e,this.mainCamera.position.set(e.x,e.y,e.z)}},{key:"GetCamera",value:function(){return this.mainCamera}},{key:"update",value:function(){null!==this.controller&&this.controller.update()}},{key:"lateUpdate",value:function(){null!==this.controller&&this.controller.lateUpdate()}}]),n}(j)),D=function(){function e(){Object(r.a)(this,e),this.renderer=null}return Object(l.a)(e,[{key:"InitRenderer",value:function(e,t,n,i){var o=this;return new Promise((function(a,s){o.renderer=new g.Eb({canvas:e,alpha:!1,antialias:!0,precision:"highp",powerPreference:"high-performance"}),o.renderer.setSize(t,n),o.renderer.shadowMap.enabled=!0,o.renderer.shadowMap.type=g.cb,o.renderer.cullFace=g.o,o.renderer.outputEncoding=g.v,o.renderer.autoClear=!0,o.renderer.setClearColor("skyblue",1),o.renderer.clearAlpha=1,o.renderer.setAnimationLoop(i),null!==o.renderer?a(o.renderer):s("Error creating renderer")}))}},{key:"Render",value:function(e,t){this.renderer.render(e,t)}}]),e}(),I=n(61),V=n(51),N=n(62),_=n(29),U=n(52),W=n(63),G=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"init",value:function(e){this.composer=new W.a(e),this.renderPass=new U.a(p.getScene(),A.mainCamera),this.renderPass.clearColor=new g.n("skyblue"),this.renderPass.clearAlpha=1,this.composer.addPass(this.renderPass),this.bokeh=null,this.bloom=null,this.ffxa=null,this.renderer=e}},{key:"isUsingEffects",value:function(){return this.bokeh||this.bloom||this.fxaa}},{key:"addFXAA",value:function(){this.ffxa=new _.a(V.a),this.ffxa.uniforms.resolution.value.set(1/p.screenWidth,1/p.screenHeight),this.composer.addPass(this.ffxa)}},{key:"addBokeh",value:function(){this.bokeh=new N.a(p.scene,A.mainCamera,{focus:3e3,aperture:.002,maxblur:.0025,width:p.width,height:p.height}),this.composer.addPass(this.bokeh)}},{key:"addBloom",value:function(){this.bloom=new I.a(new g.Ab(p.screenWidth,p.screenHeight),.3,.4,.8),this.composer.addPass(this.bloom)}},{key:"render",value:function(){this.renderPass.camera=A.mainCamera,this.composer.render(O.deltaTime)}}]),e}()),K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r.a)(this,e),this.x=t,this.y=n}return Object(l.a)(e,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"magnitude",value:function(){return this.length()}},{key:"normalize",value:function(){var e=this.magnitude();if(m.approximate(e,0))return this.x=0,this.y=0,void(this.z=0);this.x/=e,this.y/=e,this.z/=e}},{key:"toString",value:function(){return"( x: "+this.x+"  y: "+this.y+")"}}],[{key:"add",value:function(t,n){var i=new e(0,0);return i.x=t.x+n.x,i.y=t.y+n.y,i}},{key:"subtract",value:function(t,n){var i=new e(0,0);return i.x=t.x-n.x,i.y=t.y-n.y,i}},{key:"multiply",value:function(t,n){var i=new e(0,0);return i.x=t.x*n.x,i.y=t.y*n.y,i}},{key:"addScalar",value:function(t,n){var i=new e(0,0);return i.x=t.x+n,i.y=t.y+n,i}},{key:"subtractScalar",value:function(t,n){var i=new e(0,0,0);return i.x=t.x-n,i.y=t.y-n,i}},{key:"multiplyScalar",value:function(t,n){var i=new e(0,0);return i.x=t.x*n,i.y=t.y*n,i}},{key:"distance",value:function(t,n){var i=e.subtract(n,t),o=Math.sqrt(i.x*i.x+i.y*i.y);return o}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"Equals",value:function(e,t){return e.x>t.x-Number.EPSILON&&e.x<t.x+Number.EPSILON&&e.y>t.y-Number.EPSILON&&e.y<t.y+Number.EPSILON}},{key:"zero",get:function(){return new e(0,0)}},{key:"one",get:function(){return new e(1,1)}},{key:"up",get:function(){return new e(0,1)}},{key:"down",get:function(){return new e(0,-1)}},{key:"left",get:function(){return new e(-1,0)}},{key:"right",get:function(){return new e(1,0)}}]),e}(),q=n(44),H=n.n(q),Q=new(function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(r.a)(this,e),this.Buttons={BUTTON_BOTTOM:0,BUTTON_RIGHT:1,BUTTON_LEFT:2,BUTTON_TOP:3,BUMPER_LEFT:4,BUMPER_RIGHT:5,TRIGGER_LEFT:6,TRIGGER_RIGHT:7,BUTTON_CONTROL_LEFT:8,BUTTON_CONTROL_RIGHT:9,BUTTON_JOYSTICK_LEFT:10,BUTTON_JOYSTICK_RIGHT:11,D_PAD_UP:12,D_PAD_BOTTOM:13,D_PAD_LEFT:14,D_PAD_RIGHT:15,BUTTON_CONTROL_MIDDLE:16},this.statusCallback=null,this.buttonsDown=new Map,this.buttonsPressed=new Map,this.connected=!1,this.inputAxisSmoothAmount=10,this.leftAxis=new K(0,0),this.rightAxis=new K(0,0),this.rightTriggerValue=0,this.leftTriggerValue=0,this.gamepad=null,n||(H.a.start(),H.a.addEventListener("connect",(function(e){t.connected=!0,t.gamepad=e.gamepad,null!==t.statusCallback&&t.statusCallback("connected"),e.gamepad.addEventListener("joystickmove",(function(e){t.leftAxis.x=1.12*e.horizontalValue,t.leftAxis.y=1.12*e.verticalValue}),[0,1]),e.gamepad.addEventListener("joystickmove",(function(e){t.rightAxis.x=1.12*e.horizontalValue,t.rightAxis.y=1.12*e.verticalValue}),[2,3]),e.gamepad.addEventListener("buttonpress",(function(e){t.addButton(e.index)})),e.gamepad.addEventListener("buttonvaluechange",(function(e){t.rightTriggerValue=e.value}),7),e.gamepad.addEventListener("buttonvaluechange",(function(e){t.leftTriggerValue=e.value}),6),e.gamepad.addEventListener("buttonpress",(function(e){t.addButton(e.index)})),e.gamepad.addEventListener("buttonrelease",(function(e){t.removeButton(e.index)}))})),H.a.addEventListener("disconnect",(function(e){t.connected=!1,null!==t.statusCallback&&t.statusCallback("disconnected")})))}return Object(l.a)(e,[{key:"leftStick",value:function(){return this.connected?this.leftAxis:K.zero}},{key:"rightStick",value:function(){return this.connected?this.rightAxis:K.zero}},{key:"addButton",value:function(e){this.buttonsDown.set(e,1),2!==this.buttonsPressed.get(e)&&this.buttonsPressed.set(e,1)}},{key:"removeButton",value:function(e){this.buttonsDown.delete(e),this.buttonsPressed.delete(e)}},{key:"isButtonDown",value:function(e){return this.buttonsDown.has(e)}},{key:"isButtonPressed",value:function(e){return!(!this.buttonsPressed.has(e)||1!==this.buttonsPressed.get(e))&&(this.buttonsPressed.set(e,2),!0)}},{key:"rightTrigger",value:function(){return this.rightTriggerValue}},{key:"leftTrigger",value:function(){return this.leftTriggerValue}},{key:"clearButtons",value:function(){this.buttonsDown.clear(),this.buttonsPressed.clear()}},{key:"isConnected",value:function(){return this.connected}},{key:"update",value:function(){}},{key:"json",value:function(){return{buttonsDown:this.buttonsDown,buttonsPressed:this.buttonsPressed,leftAxis:this.leftAxis,rightAxis:this.rightAxis,rightTrigger:this.rightTriggerValue,leftTrigger:this.leftTriggerValue}}}]),e}()),Y=n(15),J=n(11),X=new(function(){function e(){var t=this;Object(r.a)(this,e),this.vehicles=[],this.distFromVehicle=3,this.isReady=!1,this.ekey=new j("ekey",null,!1,!1,!0,!0,new w(-23.75,2,-10),k.Identity()),this.rkey=new j("rkey",null,!1,!1,!0,!0,new w(-23.75,2,-10),k.Identity()),this.ekey.LoadModel("ekey","./assets/models/ekey.glb",!0).then((function(){t.ekey.model.mesh.visible=!1})),this.rkey.LoadModel("rkey","./assets/models/rkey.glb",!0).then((function(){t.isReady=!0,t.rkey.model.mesh.visible=!1})),this.inRangeVehicle=null,this.vehicleInUse=null}return Object(l.a)(e,[{key:"addVehicle",value:function(e){this.vehicles.push(e)}},{key:"useVehicle",value:function(e){return null===this.inRangeVehicle?null:(this.inRangeVehicle.inUse=!0,A.target=this.inRangeVehicle,this.vehicleInUse=this.inRangeVehicle,this.inRangeVehicle)}},{key:"controllVehicle",value:function(e){return null===e?null:(e.inUse=!0,A.target=e,this.vehicleInUse=e,e)}},{key:"leaveVehicle",value:function(){this.vehicleInUse=null}},{key:"updateEKey",value:function(){if(null!==this.inRangeVehicle){var e=this.inRangeVehicle.position;this.ekey.setPosition(new w(e.x,e.y+1,e.z)),this.ekey.model.mesh.visible=!0}else this.ekey.model.mesh.visible=!1;if(this.ekey.model.mesh.visible){var t=new w(A.position.x,0,A.position.z),n=new w(this.ekey.position.x,0,this.ekey.position.z),i=k.LookRotation(w.Subtract(t,n),w.up);this.ekey.setRotation(w.MultiplyScalar(i.Euler(),m.deg2Rad))}}},{key:"updateRKey",value:function(){if(null!==this.vehicleInUse)if(this.vehicleInUse.inUse&&this.vehicleInUse.isUpsideDown()){var e=this.vehicleInUse.position;e.y+=1,this.rkey.setPosition(e),this.rkey.model.mesh.visible=!0}else this.rkey.model.mesh.visible=!1}},{key:"findInRangeVehicle",value:function(e){this.inRangeVehicle=null;for(var t=this.distFromVehicle+1,n=0;n<this.vehicles.length;n++){var i=this.vehicles[n].position,o=w.Distance(e,i);o<t&&o<=3&&!this.vehicles[n].inUse&&(t=o,this.inRangeVehicle=this.vehicles[n])}}},{key:"checkVehicleInRange",value:function(e){this.isReady&&(this.findInRangeVehicle(e),this.updateEKey(),this.updateRKey())}}]),e}()),Z=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:w.zero,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:k.Identity();return Object(r.a)(this,n),(e=t.call(this,i,o,a,s,l,c,h,d)).vehicle=null,e.moveDir=new w(0,0,0),e.euler=new w(0,0,0),e.btMoveVec3=new v.a.btVector3(0,0,0),e}return Object(l.a)(n,[{key:"changeAnimation",value:function(e){this.moveSpeed=5,null!==this.model&&this.model.playAnimation(e)}},{key:"update",value:function(){var e=u.isKeyPressed("e")||Q.isButtonPressed(Q.Buttons.BUTTON_TOP);if(e&&null===this.vehicle)this.vehicle=X.useVehicle();else if(e&&null!==this.vehicle){this.vehicle.inUse=!1,X.leaveVehicle();var t=this.vehicle.position;A.target=this,this.vehicle=null,this.setPosition(t.set(t.x+2,1,t.z))}if(null!==this.vehicle&&"undefined"!==this.vehicle&&this.position.y>-90)return this.setPosition(new w(0,-100,0)),void Object(Y.a)(Object(J.a)(n.prototype),"update",this).call(this);this.model&&this.model.hasOwnProperty("mixer")&&null!==this.model.mixer&&(this.model.mixer.timeScale=1);var i=0,o=0;(u.isKeyDown("w")||u.isKeyDown("ArrowUp"))&&(i=-1),(u.isKeyDown("s")||u.isKeyDown("ArrowDown"))&&(i=1),(u.isKeyDown("a")||u.isKeyDown("ArrowLeft"))&&(o=-1),(u.isKeyDown("d")||u.isKeyDown("ArrowRight"))&&(o=1);var a=Q.leftStick();K.Equals(a,K.zero)||(o=a.x,i=a.y),this.moveDir.x=o,this.moveDir.z=i,this.moveDir.normalize(),w.Equals(this.moveDir,w.zero)?this.changeAnimation("Rest"):(this.forward=this.moveDir.normalize(),this.moveDir.x=3*this.forward.x,this.moveDir.z=3*this.forward.z,this.euler.y=w.Angle(w.back,this.forward),this.changeAnimation("Walk")),this.movePlayer(),this.setRotation(this.euler),Object(Y.a)(Object(J.a)(n.prototype),"update",this).call(this)}},{key:"movePlayer",value:function(){var e=new w(this.moveDir.x,this.moveDir.y,this.moveDir.z);e.y=this.rigidBody.GetLinearVelocity().y,this.btMoveVec3.setValue(e.x,e.y,e.z),this.rigidBody.body.setLinearVelocity(this.btMoveVec3)}},{key:"collision",value:function(e){}}]),n}(j),$=new(function(){function e(){Object(r.a)(this,e),this.InitAudio(),this.sounds=[]}return Object(l.a)(e,[{key:"InitAudio",value:function(){this.listener=new g.e,A.mainCamera.add(this.listener)}},{key:"LoadSound",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return new Promise((function(o,a){var s=new g.f,r=new g.ib(t.listener);try{s.load(e,(function(e){null===e&&a("Error loading sound"),r.setBuffer(e),r.setLoop(n),r.setVolume(i),r.setRefDistance(20),t.sounds.push({audio:r,volume:i}),o(r)}))}catch(l){o(l)}}))}},{key:"PlaySoundsMuted",value:function(){for(var e=0;e<this.sounds.length;e++)this.sounds[e].audio.setVolume(0),this.sounds[e].audio.play(),this.sounds[e].audio.stop(),this.sounds[e].audio.setVolume(this.sounds[e].volume)}}]),e}());Object.freeze($);var ee=$,te=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var i;Object(r.a)(this,n),(i=t.call(this)).inUse=!1,i.castShadow=!0,i.recieveShadow=!0,i.skinnedMesh=!1,i.btPos=new v.a.btVector3(0,0,0),i.btQuat=new v.a.btQuaternion(0,0,0,1),i.btDownForce=new v.a.btVector3(0,0,0),i.topSpeed=e.topSpeed,i.steeringRate=25,i.accelRate=e.accelRate,i.breakForce=e.breakForce,i.accelForceFront=e.accelForceFront,i.accelForceBack=e.accelForceBack,i.reverse=!1,i.engineSound=null,i.tireSquealSound=null,i.enginePitch=e.enginePitch,i.centerOfMass=e.centerOfMass,i.downForce=e.downForce,i.options=e,i.speed=0,i.constantDownforce=e.constantDownforce,i.downForceVel=new w(0,-Math.abs(i.speed)*i.downForce,0),ee.LoadSound("./assets/sounds/engine.wav",!0,.1).then((function(t){i.engineSound=t,B.LoadMesh(e.bodyModel,e.bodyModel,!1,!0,!0,!1).then((function(e){i.model=e,i.engineSound.parrent=i.model,i.setPosition(i.position),i.setRotation(i.rotation)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),ee.LoadSound("./assets/sounds/tiresqueal.wav",!0,.5).then((function(e){i.tireSquealSound=e})).catch((function(e){console.log(e)})),i.bodyShape=z.createBoxShape(new w(e.bodyWidth,e.bodyHeight,e.bodyLength));var o=new v.a.btTransform;o.setIdentity(),o.setOrigin(new v.a.btVector3(e.position.x,e.position.y,e.position.z)),o.setRotation(new v.a.btQuaternion(e.rotation.x,e.rotation.y,e.rotation.z,e.rotation.w));var a=new v.a.btDefaultMotionState(o),s=new v.a.btVector3(0,0,0);i.bodyShape.calculateLocalInertia(e.mass,s),i.body=new v.a.btRigidBody(new v.a.btRigidBodyConstructionInfo(e.mass,a,i.bodyShape,s)),i.body.setActivationState(4),i.body.setRestitution(.5),z.world.addRigidBody(i.body),i.tuning=new v.a.btVehicleTuning,i.raycaster=new v.a.btDefaultVehicleRaycaster(z.world),i.vehicle=new v.a.btRaycastVehicle(i.tuning,i.body,i.raycaster),i.vehicle.setCoordinateSystem(0,1,2),z.world.addAction(i.vehicle),p.addGameObject(Object(f.a)(i)),i.wheelModels=[],i.wheelModels.push(new j(e.wheelLeftModel,e.wheelLeftModel,!1,!0,!0)),i.wheelModels.push(new j(e.wheelRightModel,e.wheelRightModel,!1,!0,!0)),i.wheelModels.push(new j(e.wheelRightModel,e.wheelRightModel,!1,!0,!0)),i.wheelModels.push(new j(e.wheelLeftModel,e.wheelLeftModel,!1,!0,!0));for(var l=0;l<i.wheelModels.length;l++)i.wheelModels[l].allowUpdate=!1;return i.wheelInfo=[],i.wheelInfo.push(i.createWheel(e,!0,e.frontLeftPos,new w(0,-1,0),new w(-1,0,0))),i.wheelInfo.push(i.createWheel(e,!0,e.frontRightPos,new w(0,-1,0),new w(-1,0,0))),i.wheelInfo.push(i.createWheel(e,!1,e.backRightPos,new w(0,-1,0),new w(-1,0,0))),i.wheelInfo.push(i.createWheel(e,!1,e.backLeftPos,new w(0,-1,0),new w(-1,0,0))),i.tuning=new v.a.btVehicleTuning,i.currentAccelFront=0,i.currentAccelBack=0,i.currentBrakingFront=0,i.currentBrakingBack=0,i.steeringAngle=0,X.addVehicle(Object(f.a)(i)),i}return Object(l.a)(n,[{key:"createWheel",value:function(e,t,n,i,o){var a=this.vehicle.addWheel(n.to_btVector3(),i.to_btVector3(),o.to_btVector3(),e.suspensionLen,e.radius,this.tuning,t);a.set_m_suspensionStiffness(e.stiffness),a.set_m_wheelsDampingRelaxation(e.damping),a.set_m_wheelsDampingCompression(e.compression);var s=t?e.frontFriction:e.backFriction;return a.set_m_frictionSlip(s),a.set_m_rollInfluence(e.roll),a}},{key:"isUpsideDown",value:function(){var e=this.rotation.Euler();return Math.abs(e.x)*m.rad2Deg>=40||Math.abs(e.z)*m.rad2Deg>=40}},{key:"updateInput",value:function(){if(this.isUpsideDown()&&this.inUse&&(u.isKeyDown("r")||Q.isButtonPressed(Q.Buttons.BUMPER_RIGHT))){var e=new w(this.position.x,this.position.y+1.5,this.position.z),t=new k(0,this.rotation.y,0,this.rotation.w);this.btPos.setValue(e.x,e.y,e.z),this.btQuat.setValue(t.x,t.y,t.z,t.w),this.body.getWorldTransform().setOrigin(this.btPos),this.body.getWorldTransform().setRotation(this.btQuat),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}if(!this.inUse&&m.approximate(this.speed,0)&&null!==this.engineSound&&this.engineSound.isPlaying&&this.engineSound.stop(),this.inUse){if(Q.isConnected()){var n=Q.leftStick();K.Equals(n,K.zero)||(this.steeringAngle=-30*n.x)}if(null===this.engineSound||this.engineSound.isPlaying||this.engineSound.play(),this.reverse=!1,(u.isKeyDown("w")||u.isKeyDown("ArrowUp")||Q.rightTrigger()>0)&&this.speed<=this.topSpeed){var i=Q.rightTrigger()>0?Q.rightTrigger():1;this.currentBrakingFront=0,this.currentBrakingBack=0,this.currentAccelBack=this.accelForceBack*this.accelRate*i,this.currentAccelFront=this.accelForceFront*this.accelRate*i}else this.currentAccelBack=0,this.currentAccelFront=0,this.currentBrakingFront=.5,this.currentBrakingBack=.5;if(u.isKeyDown("s")||u.isKeyDown("ArrowDown")||Q.leftTrigger()>0){this.reverse=!0;var o=Q.leftTrigger()>0?Q.leftTrigger():1;this.speed<=0?(this.currentBrakingFront=0,this.currentBrakingBack=0,this.currentAccelBack=-.5*this.accelForceBack*this.accelRate*o,this.currentAccelFront=-.5*this.accelForceFront*this.accelRate*o):(this.currentBrakingFront=.25*this.breakForce*o,this.currentBrakingBack=.25*this.breakForce*o)}u.isKeyDown("a")||u.isKeyDown("ArrowLeft")?this.steeringAngle+=15*this.steeringRate*O.deltaTime:u.isKeyDown("d")||u.isKeyDown("ArrowRight")?this.steeringAngle-=15*this.steeringRate*O.deltaTime:this.steeringAngle=m.moveTowards(this.steeringAngle,0,this.steeringRate*O.deltaTime),this.steeringAngle=m.clamp(this.steeringAngle,-25,25)}}},{key:"updateSound",value:function(){Math.abs(this.body.getAngularVelocity().y())>1?null!==this.tireSquealSound&&null!==this.model&&(this.tireSquealSound.isPlaying||this.tireSquealSound.play(),this.tireSquealSound.panner.setPosition(this.model.mesh.position.x,this.model.mesh.position.y,this.model.mesh.position.z),this.tireSquealSound.setPlaybackRate(.7),this.tireSquealSound.setDetune(-250)):null!==this.tireSquealSound&&this.tireSquealSound.isPlaying&&this.tireSquealSound.stop(),null!==this.engineSound&&null!==this.model&&this.engineSound.isPlaying&&this.model.mesh&&(this.engineSound.setDetune(10*(Math.abs(this.speed)+this.enginePitch)),this.engineSound.panner.setPosition(this.model.mesh.position.x,this.model.mesh.position.y,this.model.mesh.position.z))}},{key:"updateWheels",value:function(){for(var e=0;e<this.vehicle.getNumWheels();e++){this.vehicle.updateWheelTransform(e,!1);var t=this.vehicle.getWheelTransformWS(e),n=t.getOrigin(),i=t.getRotation();this.wheelModels[e].model&&this.wheelModels[e].model.mesh&&(this.wheelModels[e].model.mesh.position.set(n.x(),n.y(),n.z()),this.wheelModels[e].model.mesh.quaternion.set(i.x(),i.y(),i.z(),i.w()))}}},{key:"updateRigidBody",value:function(){var e=this.body.getWorldTransform(),t=e.getOrigin(),n=e.getRotation();this.rotation.set(n.x(),n.y(),n.z(),n.w()),this.position.set(t.x(),t.y(),t.z());var i=this.rotation.Euler();i.x*=m.deg2Rad,i.y*=m.deg2Rad,i.z*=m.deg2Rad,this.rotation=k.FromEuler(i.x,i.y,i.z),this.model&&this.model.mesh&&(this.model.mesh.position.set(t.x(),t.y(),t.z()),this.model.mesh.quaternion.set(n.x(),n.y(),n.z(),n.w()))}},{key:"updateSpeed",value:function(){var e=this.vehicle.getRigidBody().getLinearVelocity().length()-.163;e<.009&&(e=0);var t=this.reverse&&this.speed<.05?-1:1;this.speed=9.8*e*t}},{key:"updateMovement",value:function(){this.vehicle.applyEngineForce(this.currentAccelFront,0),this.vehicle.applyEngineForce(this.currentAccelFront,1),this.vehicle.applyEngineForce(this.currentAccelBack,2),this.vehicle.applyEngineForce(this.currentAccelBack,3),this.vehicle.setBrake(this.currentBrakingFront,0),this.vehicle.setBrake(this.currentBrakingFront,1),this.vehicle.setBrake(this.currentBrakingBack/2,2),this.vehicle.setBrake(this.currentBrakingBack/2,3)}},{key:"updateSteering",value:function(){this.vehicle.setSteeringValue(0,3),this.vehicle.setSteeringValue(0,2),this.vehicle.setSteeringValue(this.steeringAngle*m.deg2Rad,0),this.vehicle.setSteeringValue(this.steeringAngle*m.deg2Rad,1)}},{key:"applyDownforce",value:function(){var e=this.constantDownforce?-this.downForce:-Math.abs(this.speed)*this.downForce;this.downForceVel=new w(0,e,0),this.btDownForce.setValue(this.downForceVel.x,this.downForceVel.y,this.downForceVel.z),this.body.applyCentralImpulse(this.btDownForce)}},{key:"resetMovementWhenNotInUse",value:function(){this.inUse||(this.currentBrakingFront=.25*this.breakForce,this.currentBrakingBack=.25*this.breakForce,this.currentAccelBack=0,this.currentAccelFront=0)}},{key:"update",value:function(){A.mainCamera.add(ee.listener),this.applyDownforce(),this.resetMovementWhenNotInUse(),this.updateInput(),this.updateSound(),this.updateMovement(),this.updateSteering(),this.updateWheels(),this.updateRigidBody(),this.updateSpeed()}}]),n}(j),ne=new(function(){function e(){Object(r.a)(this,e),this.infoStations=[],this.activationDistance=.75,this.inUse=!1}return Object(l.a)(e,[{key:"addInfoStation",value:function(e,t){this.infoStations.push({position:e,name:t})}},{key:"update",value:function(e){for(var t=!1,n="",i=10,o=0;o<this.infoStations.length;o++){var a=w.Distance(this.infoStations[o].position,e);if(a<i&&(i=a),a<=this.activationDistance&&!this.inUse){this.inUse=!0,t=!0,n=this.infoStations[o].name;break}}i>this.activationDistance&&(this.inUse=!1),t&&(u.clearKeys(),re.openModal(n))}}]),e}()),ie=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lightType:n.LightType.DirectionalLight,color:16777215,intensity:1,castShadow:!0,shadowMapWidth:2048,shadowMapHeight:2048,cameraNear:.1,cameraFar:50,shadowBias:-25e-5,shadowCameraSize:50,target:new g.Bb(0,-1,0),position:new g.Bb(0,1,0),distance:100,decay:2,angle:30*m.deg2Rad,penumbra:.03};switch(Object(r.a)(this,n),(e=t.call(this)).options=i,e.light=null,void 0===e.options.position&&(e.options.position=new g.Bb(0,1,0)),i.lightType){case n.LightType.DIRECTIONAL:e.createDirectionalLight();break;case n.LightType.POINT:e.createPointLight();break;case n.LightType.SPOT:e.createSpotLight();break;case n.LightType.AMBIENT:e.createAmbientLight();break;default:console.log("Unknown light type")}return e}return Object(l.a)(n,[{key:"createDirectionalLight",value:function(){this.light=new g.p(this.options.color,this.options.intensity),this.options.castShadow&&this.enableShadows(),this.light.target=new g.ab,p.add(this.light.target),p.add(this.light)}},{key:"createAmbientLight",value:function(){this.light=new g.b(this.options.color,this.options.intensity),p.add(this.light)}},{key:"createPointLight",value:function(){this.light=new g.fb(this.position.color,this.options.intensity,this.options.distance),this.light.decay=this.options.decay;var e=this.options.position;this.light.position.set(e.x,e.y,e.z),this.options.castShadow&&this.enableShadows(),p.add(this.light)}},{key:"createSpotLight",value:function(){this.light=new g.ub(this.options.color,this.options.intensity,this.options.distance,this.options.angle,this.options.penumbra,this.options.decay);var e=this.options.position,t=this.options.target;this.light.position.set(e.x,e.y,e.z),this.light.target.position.set(t.x,t.y,t.z),this.options.castShadow&&this.enableShadows(),p.add(this.light.target),p.add(this.light)}},{key:"enableShadows",value:function(){this.light.castShadow=this.options.castShadow,this.light.shadow.mapSize.width=this.options.shadowMapWidth,this.light.shadow.mapSize.height=this.options.shadowMapHeight,this.light.shadow.camera.near=this.options.cameraNear,this.light.shadow.camera.far=this.options.cameraFar,this.light.shadow.bias=this.options.shadowBias,this.light.shadow.camera.top=this.options.shadowCameraSize,this.light.shadow.camera.bottom=-this.options.shadowCameraSize,this.light.shadow.camera.left=-this.options.shadowCameraSize,this.light.shadow.camera.right=this.options.shadowCameraSize}},{key:"update",value:function(){if(null!==this.light)if(this.options.lightType===n.LightType.DIRECTIONAL){var e=A.position;this.light.position.set(e.x,1,e.z+5),this.light.target.position.set(this.options.target.x+e.x,this.options.target.y,this.options.target.z+e.z)}else this.options.lightType===n.LightType.SPOT&&(this.light.position.set(this.options.position.x,this.options.position.y,this.options.position.z),this.light.target.position.set(this.options.target.x,this.options.target.y,this.options.target.z))}}]),n}(j);ie.LightType={DIRECTIONAL:0,POINT:1,SPOT:2,AMBIENT:3};var oe=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:w.zero,rotation:k.Identity(),mass:1,friction:1,rollingFriction:.8,damping:new K(.2,.1),restitution:.8,radius:1,model:""};return Object(r.a)(this,n),(e=t.call(this,i.model,null,!1,!0,!0,!1,w.zero,k.Identity())).inUse=!1,e.castShadow=!0,e.recieveShadow=!0,e.skinnedMesh=!1,e.options=i,e.shape=z.createSphereShape(i.radius),e.body=null,e.tag=i.tag,e.LoadModel(i.model,i.model,!1,!1).then((function(){var t=new v.a.btTransform;t.setIdentity(),t.setOrigin(new v.a.btVector3(e.options.position.x,e.options.position.y,e.options.position.z)),t.setRotation(new v.a.btQuaternion(e.options.rotation.x,e.options.rotation.y,e.options.rotation.z,e.options.rotation.w));var n=new v.a.btDefaultMotionState(t),i=new v.a.btVector3(0,0,0);e.shape.calculateLocalInertia(e.options.mass,i),e.body=new v.a.btRigidBody(new v.a.btRigidBodyConstructionInfo(e.options.mass,n,e.shape,i)),e.body.setActivationState(4),e.body.setFriction(e.options.friction),e.body.setRestitution(e.options.restitution),e.body.setRollingFriction(e.options.rollingFriction),e.body.setDamping(e.options.damping.x,e.options.damping.y),z.world.addRigidBody(e.body),p.addGameObject(Object(f.a)(e))})),e}return Object(l.a)(n,[{key:"update",value:function(){if(null!==this.body){var e=this.body.getWorldTransform().getOrigin(),t=this.body.getWorldTransform().getRotation();this.model&&this.model.mesh&&(this.model.mesh.position.set(e.x(),e.y(),e.z()),this.model.mesh.quaternion.set(t.x(),t.y(),t.z(),t.w()),this.position.set(e.x(),e.y(),e.z()),this.rotation.set(t.x(),t.y(),t.z(),t.w()))}}}]),n}(j),ae=function(){function e(t){Object(r.a)(this,e),this.offset=t,this.fixedCameraMode=!0}return Object(l.a)(e,[{key:"update",value:function(){(u.isKeyPressed("c")||Q.isButtonPressed(Q.Buttons.BUMPER_LEFT))&&(this.fixedCameraMode=!this.fixedCameraMode)}},{key:"lateUpdate",value:function(){this.fixedCameraMode?this.fixedCamera():this.followCamera()}},{key:"fixedCamera",value:function(){if(null!==A.target){A.position=w.Add(A.target.position,this.offset),A.rotation=k.LookAt(A.position,A.target.position,w.up),A.SetPosition(A.position);var e=A.rotation.Euler();e.x*=m.deg2Rad,e.y*=m.deg2Rad,e.z*=m.deg2Rad,A.Rotate(e)}}},{key:"followCamera",value:function(){if(null!==A.target){A.rotation=k.LookAt(A.position,A.target.position,w.up);var e=A.target.rotation.Euler();e.x*=m.rad2Deg,e.y*=m.rad2Deg,e.z*=m.rad2Deg;var t=k.FromEuler(e.x,e.y,e.z),n=new w(0,0,-4);n.rotate(t),n.y=A.target.position.y+1,A.SetPosition(w.Add(A.target.position,n)),A.mainCamera.lookAt(A.target.position.x,A.target.position.y,A.target.position.z)}}}]),e}(),se=function(){function e(){var t=this;Object(r.a)(this,e),this.Load=Object(M.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.player=new Z("player",null,!0,!0,!0,new w(0,1,0),k.FromEuler(0,180,0)),t.player.LoadModel("player","./assets/models/chris.glb",!0).then((function(){t.player.addRigidBody({friction:.5,rollingFriction:0,restitution:.5,mass:1},z.createCapsuleShape(.25,.5,w.up),new w(0,1,0))})),t.ground=new j("ground","./assets/models/ground.glb",!1,!1,!0),t.ground.addRigidBody({friction:1,rollingFriction:1,restitution:.5,mass:0},z.createPlaneShape(w.up),new w(0,0,0)),t.grass=new j("grass","./assets/models/grass.glb",!1,!0,!0,!0,new w(0,0,-10)),t.moundSign=new j("moundsign","./assets/models/moundsign.glb",!1,!0,!0),t.moundSign.setPosition(new w(0,0,-10)),t.road=new j("road",null,!1,!0,!0,!0),t.road.LoadModel("road","./assets/models/road.glb",!0).then((function(){z.createMeshShape(t.road.model.mesh).then((function(e){t.road.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.parkinglot=new j("parkinglot",null,!1,!0,!0,!0),t.parkinglot.LoadModel("parkinglot","./assets/models/parkinglot.glb",!0).then((function(){z.createMeshShape(t.parkinglot.model.mesh).then((function(e){t.parkinglot.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.infostation=new j("infostation","./assets/models/infostation.glb",!1,!1,!0,!1,new w(0,0,-10)),t.infostationbase=new j("infostationbase",null,!1,!1,!0,!1,new w(0,0,-10)),t.infostationbase.LoadModel("infostation","./assets/models/infostationbase.glb",!0).then((function(){z.createMeshShape(t.infostationbase.model.mesh).then((function(e){t.infostationbase.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.mightychicken=new j("mightychicken",null,!1,!0,!0,!0),t.mightychicken.LoadModel("mightychicken","./assets/models/mightychicken.glb",!0).then((function(){z.createMeshShape(t.mightychicken.model.mesh).then((function(e){t.mightychicken.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.mightychickensign=new j("mightychickensign",null,!1,!0,!0,!0),t.mightychickensign.LoadModel("mightychickensign","./assets/models/mightychickensign.glb",!0).then((function(){z.createMeshShape(t.mightychickensign.model.mesh).then((function(e){t.mightychickensign.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),ne.addInfoStation(new w(-19.921,0,-7.5799),"roadracer"),ne.addInfoStation(new w(-41.183,0,-.5502),"mightychicken"),ne.addInfoStation(new w(28.144,0,-10.426),"pawsnfind"),ne.addInfoStation(new w(37.3217,0,-7.9411),"pawsnfind"),t.pawsnfind=new j("pawsnfind",null,!1,!0,!0,!1),t.pawsnfind.LoadModel("pawsnfind","./assets/models/pawsnfind.glb",!1).then((function(){z.createMeshShape(t.pawsnfind.model.mesh).then((function(e){t.pawsnfind.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.bentogirl=new j("bentogirl",null,!1,!0,!0,!1),t.bentogirl.LoadModel("bentogirl","./assets/models/bentogirl.glb",!1).then((function(){z.createMeshShape(t.bentogirl.model.mesh).then((function(e){t.bentogirl.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.racetrack=new j("racetrack",null,!1,!1,!0,!0),t.racetrack.LoadModel("racetrack","./assets/models/racetrack.glb",!0).then((function(){z.createMeshShape(t.racetrack.model.mesh).then((function(e){t.racetrack.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-25))}))})),t.racetrackstart=new j("racetrackstart",null,!1,!0,!0,!1),t.racetrackstart.LoadModel("racetrackstart","./assets/models/racetrackstart.glb",!1).then((function(){z.createMeshShape(t.racetrackstart.model.mesh).then((function(e){t.racetrackstart.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new w(0,.075,-25))}))})),t.parkinglotcurb=new j("parkinglotcurb",null,!1,!0,!0,!0),t.parkinglotcurb.LoadModel("parkinglotcurb","./assets/models/parkinglotcurb.glb",!0).then((function(){z.createMeshShape(t.parkinglotcurb.model.mesh).then((function(e){t.parkinglotcurb.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.garage=new j("garage",null,!1,!0,!0,!0),t.garage.LoadModel("garage","./assets/models/garage.glb",!0).then((function(){z.createMeshShape(t.garage.model.mesh).then((function(e){t.garage.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.garagedoor=new j("garagedoor",null,!1,!0,!0,!0),t.garagedoor.LoadModel("garagedoor","./assets/models/garagedoor.glb",!0).then((function(){z.createMeshShape(t.garagedoor.model.mesh).then((function(e){t.garagedoor.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.rrsign=new j("rrsign",null,!1,!0,!0,!0),t.rrsign.LoadModel("rrsign","./assets/models/rrsign.glb",!0,!1).then((function(){z.createMeshShape(t.rrsign.model.mesh).then((function(e){t.rrsign.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.mound=new j("mound",null,!1,!0,!0,!0),t.mound.LoadModel("mound","./assets/models/mound.glb",!0).then((function(){z.createMeshShape(t.mound.model.mesh).then((function(e){t.mound.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.fenceleft=new j("fenceleft",null,!1,!0,!0,!0),t.fenceleft.LoadModel("fenceleft","./assets/models/fenceleft.glb",!0).then((function(){z.createMeshShape(t.fenceleft.model.mesh).then((function(e){t.fenceleft.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new w(0,0,-10))}))})),t.cameraController=new ae(new w(0,3,5)),A.controller=t.cameraController,A.target=t.player,t.vehicle2=new te({breakForce:25,accelForceFront:20,accelForceBack:100,accelRate:3,downForce:.02,topSpeed:120,bodyWidth:.956,bodyHeight:.738,bodyLength:2.28,mass:100,enginePitch:25,position:new w(-38.62,.56,-9.23),rotation:new k(0,.191,0,.982),centerOfMass:new w(0,-1,0),bodyModel:"./assets/models/classicbug.glb",wheelLeftModel:"./assets/models/classicbugwheelLeft.glb",wheelRightModel:"./assets/models/classicbugwheelRight.glb",stiffness:50,damping:1.75,compression:2.4,backFriction:.95,frontFriction:1,roll:.25,radius:.25,suspensionLen:.095,backLeftPos:new w(-.4,-.35,-.654),backRightPos:new w(.4,-.35,-.654),frontRightPos:new w(.38,-.35,.719),frontLeftPos:new w(-.38,-.35,.719)}),t.vehicle=new te({breakForce:25,accelForceFront:50,accelForceBack:150,downForce:.15,accelRate:3,topSpeed:250,bodyWidth:1.25,bodyHeight:.6,bodyLength:2.128,mass:150,enginePitch:-100,position:new w(-24.438,.624,-10.447),rotation:new k(0,.191,0,.982),centerOfMass:new w(0,-1,0),bodyModel:"./assets/models/hotrod.glb",wheelLeftModel:"./assets/models/hotrodwheelLeft.glb",wheelRightModel:"./assets/models/hotrodwheelRight.glb",stiffness:125,damping:3,compression:2.5,backFriction:1,frontFriction:1,roll:.35,radius:.25,suspensionLen:.1,backLeftPos:new w(-.524,-.309,-.654),backRightPos:new w(.524,-.309,-.654),frontRightPos:new w(.524,-.309,.719),frontLeftPos:new w(-.524,-.309,.719)}),t.vehicle3=new te({breakForce:25,accelForceFront:180,accelForceBack:250,accelRate:1,downForce:.15,topSpeed:200,bodyWidth:1.15,bodyHeight:.5,bodyLength:2.128,mass:200,enginePitch:-50,position:new w(-27.407,.59,-9.5),rotation:new k(0,.191,0,.982),centerOfMass:new w(0,-1,0),bodyModel:"./assets/models/sportscar.glb",wheelLeftModel:"./assets/models/sportscarwheelLeft.glb",wheelRightModel:"./assets/models/sportscarwheelRight.glb",stiffness:250,damping:10,compression:2.5,backFriction:1,frontFriction:1,roll:.1,radius:.25,suspensionLen:.075,backLeftPos:new w(-.45,-.23,-.62),backRightPos:new w(.45,-.23,-.62),frontRightPos:new w(.45,-.23,.69),frontLeftPos:new w(-.45,-.23,.69)}),t.vehicle4=new te({breakForce:35,accelForceFront:0,accelForceBack:500,accelRate:1,downForce:.15,topSpeed:322,bodyWidth:1.15,bodyHeight:.35,bodyLength:2.128,mass:100,enginePitch:50,position:new w(-35.883,.295,-6.466),rotation:new k(0,.545,0,.8383),centerOfMass:new w(0,-1,0),bodyModel:"./assets/models/racecar.glb",wheelLeftModel:"./assets/models/racecarwheelLeft.glb",wheelRightModel:"./assets/models/racecarwheelRight.glb",stiffness:500,damping:2.3,compression:2.4,backFriction:1.95,frontFriction:2,roll:0,radius:.25,suspensionLen:.01,backLeftPos:new w(-.4,0,-.8),backRightPos:new w(.4,0,-.8),frontRightPos:new w(.4,0,.67),frontLeftPos:new w(-.4,0,.67)}),t.vehicle5=new te({breakForce:10,accelForceFront:0,accelForceBack:250,accelRate:1,downForce:.01,topSpeed:100,bodyWidth:1,bodyHeight:1.5,bodyLength:2.128,mass:500,enginePitch:-100,position:new w(-33.75,.649,-10.43),rotation:new k(0,.191,0,.982),centerOfMass:new w(0,-1,0),bodyModel:"./assets/models/truck.glb",wheelLeftModel:"./assets/models/truckwheelLeft.glb",wheelRightModel:"./assets/models/truckwheelRight.glb",stiffness:250,damping:2.3,compression:1.4,backFriction:.95,frontFriction:.95,roll:.25,radius:.25,suspensionLen:.1,backLeftPos:new w(-.45,-.5,-.6),backRightPos:new w(.45,-.5,-.6),frontRightPos:new w(.45,-.5,.95),frontLeftPos:new w(-.45,-.5,.95)}),t.vehicle5=new te({breakForce:20,accelForceFront:0,accelForceBack:225,accelRate:3,downForce:.2,topSpeed:160,bodyWidth:1,bodyHeight:1,bodyLength:2.128,mass:300,enginePitch:-100,position:new w(-30.404,.649,-8.43),rotation:new k(0,.191,0,.982),centerOfMass:new w(0,-1,0),bodyModel:"./assets/models/pickup.glb",wheelLeftModel:"./assets/models/pickupwheelLeft.glb",wheelRightModel:"./assets/models/pickupwheelRight.glb",stiffness:50,damping:2.3,compression:1.4,backFriction:.95,frontFriction:.95,roll:.25,radius:.25,suspensionLen:.125,backLeftPos:new w(-.425,-.3,-.79),backRightPos:new w(.425,-.3,-.79),frontRightPos:new w(.425,-.3,.71),frontLeftPos:new w(-.425,-.3,.71)}),e(!0)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}return Object(l.a)(e,[{key:"Init",value:function(){this.ball=new oe({position:new w(0,2,-20),rotation:k.Identity(),mass:.2,friction:.5,rollingFriction:.3,restitution:1.5,damping:new K(.2,.1),radius:.175,model:"./assets/models/soccerball.glb"}),p.setExpoFog("skyblue",.0075),this.light=new ie({lightType:ie.LightType.DIRECTIONAL,color:16777215,intensity:1,castShadow:!0,shadowMapWidth:8192,shadowMapHeight:8192,cameraNear:.1,cameraFar:500,shadowBias:-25e-5,shadowCameraSize:75,target:new w(-5,-5,-5)}),this.ambientLight=new ie({lightType:ie.LightType.AMBIENT,color:16777215,intensity:.5}),this.Load().then((function(){}))}},{key:"update",value:function(){X.checkVehicleInRange(this.player.position),ne.update(this.player.position)}}]),e}(),re=new(function(){function e(){var t=this;Object(r.a)(this,e),this.InitRenderer=function(e,n,i){t.renderer=new D,t.renderer.InitRenderer(e,n,i,t.Animate).then((function(e){G.init(e)})).then((function(){}))},this.Animate=function(){t.isModalOpen()&&(Q.clearButtons(),u.clearKeys()),Q.update(),O.Update(),t.mainGame.update(),p.update(),G.isUsingEffects()?G.render():t.renderer.Render(p.getScene(),A.mainCamera),t.fpsTime+=O.deltaTime,t.fps++,t.fpsTime>=1&&(t.fps=0,t.fpsTime=0),z.update()},this.fps=0,this.fpsTime=0,this.mainGame=new se,this.mainGame.Init()}return Object(l.a)(e,[{key:"Init",value:function(){requestAnimationFrame(this.Animate)}},{key:"SetOpenModalCallback",value:function(e,t){this.openModal=e,this.isModalOpen=t}},{key:"GetRenderer",value:function(){return this.renderer.renderer}}]),e}()),le=n(112),ce=n(116),he=n(115),de=n(53),ue=n.n(de),ge=function(e){var t=e.isOpen,n=e.closeModal,i={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),width:"auto",transform:"translate(-".concat(50,"%, -").concat(50,"%)")},image:{backgroundImage:"url("+ue.a+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"100%",minWidth:"80%",height:"30%",margin:"10px"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},a=Object(le.a)((function(e){return{main:{position:"absolute",width:"600px",minWidth:"400px",height:"75%",backgroundColor:"rgb(40.9%, 38.5%, 52.3%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"rgb(29.9%, 28.2%, 37.8%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return o.a.createElement(ce.a,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement("div",{style:i.modal,className:a.main},o.a.createElement("div",{style:i.image}),o.a.createElement("div",{style:i.promoText},"Tilt to steer, swipe to jump over obstacles, buy cars to unlock Powerups and collect coins to upgrade them, collect gears for rewinds and see how far you can race!"),o.a.createElement("div",{style:i.promoText},o.a.createElement("div",{style:i.contentText}," - Custom C++ engine on iOS "),o.a.createElement("div",{style:i.contentText}," - Unity 3D on Android and Windows Phone "),o.a.createElement("div",{style:i.contentText}," - PHP and MYSQL backend to facilitate in game events and app usage insight "),o.a.createElement("div",{style:i.contentText}," - Firebase integration "),o.a.createElement("div",{style:i.contentText}," - Admob for interstitial ads and reward ads "),o.a.createElement("div",{style:i.contentText}," - Game Center integration on iOS and Google Play Services integration on Android "),o.a.createElement("div",{style:i.contentText}," - Push notification "),o.a.createElement("div",{style:i.contentText}," - In App Purchases (consumable and non-consumable) "),o.a.createElement("div",{style:i.contentText}," - Procedurally generated levels ")),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Apple App Store:")," ",o.a.createElement("a",{href:"https://itunes.apple.com/us/app/road-racer/id575817068?mt=8",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Road Racer")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Google Play Store:"),"  ",o.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.intoxic8studio.roadracer",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Road Racer 168")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Website:"),"  ",o.a.createElement("a",{href:"http://intoxic8studio.com/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Intoxic8 Studio LLC"))),o.a.createElement(he.a,{style:i.closeButton,className:a.button,onClick:n},"Close")))},ye=n(54),pe=n.n(ye),fe=function(e){var t=e.isOpen,n=e.closeModal,i={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),width:"auto"},image:{backgroundImage:"url("+pe.a+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"100%",height:"30%",margin:"10px"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},a=Object(le.a)((function(e){return{main:{position:"absolute",width:"600px",height:"65%",backgroundColor:"rgb(100%, 54.9%, 0%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",minWidth:"400px"},button:{backgroundColor:"rgb(78.8%, 43.4%, 0.2%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return o.a.createElement(ce.a,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement("div",{style:i.modal,className:a.main},o.a.createElement("div",{style:i.image}),o.a.createElement("div",{style:i.promoText},"Dodge the mutant robo fish, killer bomb, spinning blades and poisonous arrow! Avoid getting sliced in half in the spear cave."),o.a.createElement("div",{style:i.promoText},o.a.createElement("div",{style:i.contentText}," - Unity 3D on Android and iOS "),o.a.createElement("div",{style:i.contentText}," - Firebase integration "),o.a.createElement("div",{style:i.contentText}," - Admob and Unity Ads for interstitial ads and reward ads "),o.a.createElement("div",{style:i.contentText}," - Game Center integration on iOS and Google Play Services integration on Android "),o.a.createElement("div",{style:i.contentText}," - Push notification "),o.a.createElement("div",{style:i.contentText}," - In App Purchases ")),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Apple App Store:")," ",o.a.createElement("a",{href:"https://itunes.apple.com/us/app/mighty-chicken-and-friends/id1422459374?ls=1",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Mighty Chicken iOS")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Google Play Store:"),"  ",o.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.intoxic8studio.mightychicken",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Mighty Chicken Android")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Website:"),"  ",o.a.createElement("a",{href:"http://www.themightychicken.com/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Mighty Chicken"))),o.a.createElement(he.a,{style:i.closeButton,className:a.button,onClick:n},"Close")))},me=n(55),be=n.n(me),ve=function(e){var t=e.isOpen,n=e.closeModal,i={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),width:"auto"},image:{backgroundImage:"url("+be.a+")",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"30%",margin:"0px"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},a=Object(le.a)((function(e){return{main:{position:"absolute",width:"600px",minWidth:"400px",height:"65%",backgroundColor:"#235775e0",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"#558a9d",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return o.a.createElement(ce.a,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement("div",{style:i.modal,className:a.main},o.a.createElement("div",{style:i.image}),o.a.createElement("div",{style:i.promoText},"Animal Rescue organizations have so much to manage, but their biggest concern is making sure pets go to a great home. Pawsnfind allows rescues to manage their operations while making it easier for adopters to find their perfect pet and connect with the rescue."),o.a.createElement("div",{style:i.promoText},o.a.createElement("div",{style:i.contentText}," - React frontend with MaterialUI"),o.a.createElement("div",{style:i.contentText}," - Redux "),o.a.createElement("div",{style:i.contentText}," - Serparate dashboard for animal rescues and adopters "),o.a.createElement("div",{style:i.contentText}," - Express.js backend with a Postgres database"),o.a.createElement("div",{style:i.contentText}," - Stripe integration for rescues to receive donations. "),o.a.createElement("div",{style:i.contentText}," - Bank accounts can be verified with stripe directly from Pawsnfind's dashboard "),o.a.createElement("div",{style:i.contentText}," - Image hosting (Uploading and retrieval of images) using PHP and MySQL "),o.a.createElement("div",{style:i.contentText}," - React frontend for image hosting for the creation of new accounts and api keys ")),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Website:"),"  ",o.a.createElement("a",{href:"https://pawsnfind.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"www.pawsnfind.com")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Github:")," ",o.a.createElement("a",{href:"https://github.com/Pawsnfind",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"https://github.com/Pawsnfind"))),o.a.createElement(he.a,{style:i.closeButton,className:a.button,onClick:n},"Close")))},we=function(e){var t=e.isOpen,n=e.closeModal,i={modal:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100vw",height:"100vh"},title:{width:"100%",margin:"10px",color:"white",fontSize:"60px",textAlign:"center",position:"absolute"},buttonGroup:{display:"flex",flexDirection:"column",marginTop:"10px",color:"white",justifyContent:"center"},buttons:{marginTop:"10px",color:"white"}},a=Object(le.a)((function(e){return{main:{position:"absolute",width:600,height:"75%",backgroundColor:"rgb(100%, 100%, 100%, 0%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"rgb(29.9%, 28.2%, 37.8%)",border:"0px solid #000",boxShadow:e.shadows[5],width:"25%",padding:e.spacing(2,4,3),outline:"none"}}}))();return o.a.createElement(ce.a,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement("div",null,o.a.createElement("div",{style:i.title},"Road Racer League"),o.a.createElement("div",{style:i.modal,className:a.main},o.a.createElement("div",{style:i.buttonGroup},o.a.createElement(he.a,{style:i.buttons,className:a.button,onClick:function(){n()}},"Practice"),o.a.createElement(he.a,{style:i.buttons,className:a.button,onClick:function(){}},"Multiplayer")))))},ke=function(e){var t=e.isOpen,n=e.closeModal,i={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),width:"auto",transform:"translate(-".concat(50,"%, -").concat(50,"%)")},title:{width:"100%",margin:"10px",color:"white"},buttons:{marginTop:"10px",color:"white"}},a=Object(le.a)((function(e){return{main:{position:"absolute",width:600,height:"75%",backgroundColor:"rgb(40.9%, 38.5%, 52.3%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"rgb(29.9%, 28.2%, 37.8%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return o.a.createElement(ce.a,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement("div",{style:i.modal,className:a.main},o.a.createElement("div",{style:i.title},"Road Racer League"),o.a.createElement(he.a,{style:i.buttons,className:a.button,onClick:n},"Close")))},xe=n(20),Se=n(56),Me=n(60),Oe=n(21);function Re(){var e=Object(xe.a)(["\n            background-color: white;\n            border-radius: 25px;\n            border: 3px solid black;\n            padding: 10px;\n            position: relative;\n        \n            translateZ(0);\n            z-index: 150;\n            backface-visibility: hidden;\n            perspective: 1000;\n            animation:  "," 0.5s, "," 2s,  "," 0.5s;\n            animation-delay: 0s, 0.5s, 2s;\n            animation-timing-function: ease-out, linear, ease-in;\n        "]);return Re=function(){return e},e}function ze(){var e=Object(xe.a)(["\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top: 50%; }\n            to { top: 150%; }\n        "]);return ze=function(){return e},e}function Le(){var e=Object(xe.a)(["\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top: 50%; }\n            to { top: 50%; } \n        "]);return Le=function(){return e},e}function Ee(){var e=Object(xe.a)(["\n            from { left: 150%; }\n            to { left: 50%; }\n            from { top:50%; }\n            to  { top: 50%; }       \n        "]);return Ee=function(){return e},e}var Te=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).setStatus=function(e){i.animCount=0,i.setState({popup:e})},i.onAnimationEnd=function(){i.animCount++,i.animCount>=2&&(i.animCount=0,i.setState({popup:"none"}))},i.state={popup:"none"},i.animCount=0,Q.statusCallback=i.setStatus,i}return Object(l.a)(n,[{key:"render",value:function(){var e=!1;"connected"!==this.state.popup&&"disconnected"!==this.state.popup||(e=!0);return o.a.createElement("div",{style:{position:"fixed",width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden",zIndex:1}},e?this.renderComponent():null)}},{key:"renderComponent",value:function(){var e=Object(Oe.b)(Ee()),t=Object(Oe.b)(Le()),n=Object(Oe.b)(ze()),i=Oe.a.span(Re(),e,t,n);return o.a.createElement(i,{onAnimationEnd:this.onAnimationEnd},o.a.createElement(Se.a,{color:"##495057",size:"lg",icon:Me.a})," Gamepad ",this.state.popup)}}]),n}(o.a.Component),Pe=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).gamepadConnected=function(){i.setState({gamepadConnected:!0})},i.closeModal=function(){i.setState({currentModal:"none"})},i.openModal=function(e){i.setState({currentModal:e})},i.isModalOpen=function(){return"none"!==i.state.currentModal},i.canvas=null,i.isLoaded=!1,i.state={},Q.connectedCallback=i.gamepadConnected,window.addEventListener("resize",i.ScreenResize),i}return Object(l.a)(n,[{key:"ScreenResize",value:function(){p.setScreenSize(document.body.clientWidth,document.body.clientHeight),A.Configure(60,p.aspectRatio,.1,1e3),re.GetRenderer().setSize(p.screenWidth,p.screenHeight)}},{key:"gamepadConnected",value:function(e){console.log(e)}},{key:"gamepadeDisconnected",value:function(e){console.log(e)}},{key:"render",value:function(){return o.a.createElement("div",{style:{position:"absolute",width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden",zIndex:1}},o.a.createElement(Te,null),o.a.createElement("div",{style:{position:"relative",width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden",zIndex:1}}))}}]),n}(o.a.Component),Ce=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).Load=function(){i.isLoaded||(i.isLoaded=!0,p.setScreenSize(document.body.clientWidth,document.body.clientHeight),A.Configure(60,p.aspectRatio,.1,1e3),re.InitRenderer(i.canvas,p.screenWidth,p.screenHeight),i.canvas.focus())},i.clearInput=function(){u.clearKeys()},i.closeModal=function(){i.setState({currentModal:"none"})},i.openModal=function(e){i.setState({currentModal:e})},i.isModalOpen=function(){return"none"!==i.state.currentModal},i.canvas=null,i.isLoaded=!1,i.state={currentModal:"none"},document.addEventListener("keydown",i.HandleKeyPress),document.addEventListener("keyup",i.HandleKeyUp),i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){re.SetOpenModalCallback(this.openModal,this.isModalOpen),re.Init()}},{key:"gamepadConnected",value:function(e){console.log(e)}},{key:"gamepadeDisconnected",value:function(e){console.log(e)}},{key:"HandleKeyPress",value:function(e){e.preventDefault(),e.stopPropagation(),u.addKey(e.key)}},{key:"HandleKeyUp",value:function(e){e.preventDefault(),e.stopPropagation(),u.removeKey(e.key)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden"}},o.a.createElement(Pe,null),o.a.createElement("canvas",{style:{outline:"none",display:"block",width:"100vw",height:"100vh",position:"fixed"},tabIndex:"0",ref:function(t){e.canvas=t,e.Load()},onBlur:this.clearInput})," />",o.a.createElement(ge,{isOpen:"roadracer"===this.state.currentModal,closeModal:this.closeModal}),o.a.createElement(fe,{isOpen:"mightychicken"===this.state.currentModal,closeModal:this.closeModal}),o.a.createElement(ve,{isOpen:"pawsnfind"===this.state.currentModal,closeModal:this.closeModal}),o.a.createElement(ke,{isOpen:"stadiumui"===this.state.currentModal,closeModal:this.closeModal,openModel:this.openModal}),o.a.createElement(we,{isOpen:"stadiummenu"===this.state.currentModal,closeModal:this.closeModal,openModel:this.openModal}))}}]),n}(o.a.Component);function Fe(){var e=Object(xe.a)(["\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n            margin: auto;\n            height: 100px;\n            width: 180px;\n            font-size: 48px;\n            background-color: white;\n            border: 2px solid black;\n            border-radius: 20px;\n            outline: none;\n        "]);return Fe=function(){return e},e}function Be(){var e=Object(xe.a)(["\n        background: white;\n        position:absolute;\n        top:0;\n        left:0;\n        width: 100%;\n        height: 100%;\n        translateZ(0);\n        z-index: 150;\n        backface-visibility: hidden;\n        perspective: 1000;\n        animation:  "," 0.5s;\n        animation-timing-function: linear;\n  \n    "]);return Be=function(){return e},e}function je(){var e=Object(xe.a)(["\n            from { opacity: 1; }\n            to { opacity: 0; }    \n        "]);return je=function(){return e},e}var Ae=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).loading=function(){if(p.isLoaded()&&(i.setState({loaded:!0}),clearInterval(i.loadingInterval)),i.timer+=O.deltaTime,i.timer>=.5){i.timer=0;var e=i.state.loadingCounter;e=(e+1)%4,i.setState({loadingCounter:e})}p.isLoaded()||window.requestAnimationFrame(i.loading)},i.playSound=function(){ee.PlaySoundsMuted()},i.onAnimationEnd=function(e){e.stopPropagation(),i.setState({finished:!0})},i.enterClicked=function(e){e.stopPropagation(),i.enterWasClicked||(i.enterWasClicked=!0,i.playSound(),i.setState({fade:!0}))},i.state={loadingCounter:0,loaded:!1,finished:!1,fade:!1},i.enterWasClicked=!1,i.timer=0,i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.requestAnimationFrame(this.loading)}},{key:"renderLoading",value:function(){return o.a.createElement("div",{style:{background:"white",width:"100%",height:"100%",position:"absolute",top:0,left:0}},o.a.createElement("div",{style:{background:"white",width:"300px",height:"100px",position:"absolute",top:0,left:0,bottom:0,right:0,margin:"auto",fontSize:"4em",overflow:"hidden"}},"loading ",".".repeat(this.state.loadingCounter)))}},{key:"renderFade",value:function(){var e=Object(Oe.b)(je()),t=Oe.a.div(Be(),this.state.fade?e:null),n=Oe.a.button(Fe());return o.a.createElement(t,{onAnimationEnd:this.onAnimationEnd},o.a.createElement(n,{onClick:this.enterClicked}," Enter "))}},{key:"render",value:function(){return this.state.loaded?this.state.finished?null:this.renderFade():this.renderLoading()}}]),n}(o.a.Component),De=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Ce,null),o.a.createElement(Ae,{style:{position:"absolute",zIndex:1}}))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.3ef22652.chunk.js.map