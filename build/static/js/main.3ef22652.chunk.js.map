{"version":3,"sources":["images/roadracerlogo.png","images/mightychickenlogo.png","images/pawsnfind.png","engine/Input.js","engine/InputManager.js","engine/Scene.js","engine/MathTools.js","engine/Vector3.js","engine/Quaternion.js","engine/Time.js","engine/Physics.js","engine/RigidBody.js","engine/Mesh.js","engine/SkinnedMesh.js","engine/Content.js","engine/GameObject.js","engine/Camera.js","engine/Renderer.js","engine/PostProcessing.js","engine/Vector2.js","engine/Gamepad.js","engine/GamepadManager.js","engine/VehicleManager.js","maingame/Player.js","engine/Audio.js","maingame/Vehicle.js","maingame/InfoStationManager.js","engine/Light.js","engine/Ball.js","maingame/CameraController.js","maingame/MainGame.js","engine/GameEngine.js","components/modal/RoadRacerModal.js","components/modal/MightyChickenModal.js","components/modal/PawsnfindModal.js","stadiumgame/ui/mainmenu.js","stadiumgame/ui/gameui.js","components/MainGameUI/components/GamepadUI.js","components/MainGameUI/MainGameUI.js","components/Game.js","components/Loading.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Input","this","keyDown","Map","keyPressed","key","set","toLowerCase","get","delete","has","clear","SceneManager","scene","THREE","enabledObjects","disabledObjects","screenWidth","screenHeight","aspectRatio","objectLoading","objectLoaded","obj","add","objID","enableObject","enableObjects","update","undefined","ball","cameraController","lateUpdate","render","width","height","color","near","far","fog","density","FOG_TYPE","LINEAR","EXPONENTIAL","Scene","MathTools","v1","v2","Number","EPSILON","value","min","max","minVal","maxVal","from","to","deltaTime","Math","abs","PI","Vector3","x","y","z","sqrt","length","quat","v","d1","Dot","d2","w","vOut","c1","Cross","mag","magnitude","approximate","Ammo","btVector3","scalar","delta","Subtract","a","b","t","out","clamp","normalize","cp","angle","atan2","up","vec","Quaternion","euler","scale","Length","rad2Deg","asin","sourcePoint","destPoint","forwardVector","Normalize","dot","forward","Identity","rotAngle","acos","rotAxis","CreateFromAxisAngle","frwd","vector","vector2","vector3","m00","m01","m02","m10","m11","m12","m20","m21","m22","num8","quaternion","num","num7","num4","num6","num3","num5","num2","point","pivot","maxRot","LookRotation","dir","axis","halfAngle","s","sin","q","cos","yaw","deg2Rad","pitch","rollOver2","sinRollOver2","cosRollOver2","pitchOver2","sinPitchOver2","cosPitchOver2","yawOver2","sinYawOver2","cosYawOver2","result","q1","q2","Time","clock","Clock","getDelta","PhysicsEngine","collisionConfig","btDefaultCollisionConfiguration","dispatcher","btCollisionDispatcher","broadphase","btDbvtBroadphase","solver","btSequentialImpulseConstraintSolver","world","btDiscreteDynamicsWorld","setGravity","rigidBodies","body","addRigidBody","push","removeRigidBody","radius","shape","btSphereShape","setMargin","boxSize","btBoxShape","normal","btStaticPlaneShape","direction","btCapsuleShape","btCylinderShape","btConeShape","mesh","Promise","resolve","reject","vertsV3","indices","children","forEach","group","hasOwnProperty","index","geometry","array","verts","attributes","position","i","triMesh","btTriangleMesh","addTriangle","btBvhTriangleMeshShape","stepSimulation","PhysicShapes","SPHERE","BOX","PLANE","CAPSULE","CYLINDER","CONE","Physics","RigidBody","rotation","options","mass","friction","rollingFriction","restitution","isKinematic","active","ragdollActive","btPos","btQuat","btQuaternion","id","uuidv4","cachedbtVec3","transform","btTransform","setIdentity","setOrigin","setRotation","motionState","btDefaultMotionState","localInertia","calculateLocalInertia","ri","btRigidBodyConstructionInfo","btRigidBody","setFriction","setDamping","setCcdMotionThreshold","setCcdSweptSphereRadius","setRestitution","SetKinematic","setMassProps","setCollisionFlags","setActivationState","force","applyCentralForce","to_btVector3","applyForce","factor","setLinearFactor","linear","angular","setSleepingThresholds","torque","applyTorque","impulse","applyCentralImpulse","applyTorqueImpulse","applyImpulse","clearForces","getOrientation","getLinearVelocity","getAngularVelocity","velocity","bodysetLinearVelocity","setAngularVelocity","translate","setValue","getWorldTransform","getMotionState","setWorldTransform","wantsSleeping","state","setMotionState","setAngularFactor","getAngularFactor","isInWorld","constraint","addConstraintRef","constriant","removeConstraintRef","flags","setFlags","getFlags","getLocalInertia","getCollisionShape","collider","setCollisionShape","setRollingFriction","restitiuion","getCollisionFlags","getOrigin","getRotation","Mesh","path","castShadow","receiveShadow","flatShading","culling","mixer","action","meshData","LoadMesh","traverse","child","isMesh","GLTFLoader","load","gltf","material","side","doubleSided","error","console","SkinnedMesh","anim","currentAnimation","bones","ragdollActivated","updateScene","loader","timeScale","animation","clip","findByName","stop","clipAction","play","setMass","Content","name","skinnedMesh","recieveShadow","log","model","meshes","then","data","catch","e","sounds","Object","freeze","GameObject","meshPath","zero","LoadModel","setPosition","isEnabled","texture","rigidBody","allowUpdate","tag","addGameObject","disableObject","degrees","FromEuler","setQuaternion","btQauternion","rot","Add","newPosition","moveDir","GetPosition","newScale","scaleVector","GetRotation","Euler","Animate","col","Camera","mainCamera","target","controller","fov","aspect","zNear","zFar","pos","translateX","translateY","translateZ","Renderer","renderer","canvas","loopCallback","alpha","antialias","precision","powerPreference","setSize","shadowMap","enabled","type","cullFace","outputEncoding","autoClear","setClearColor","clearAlpha","setAnimationLoop","camera","PostProcessing","composer","EffectComposer","renderPass","RenderPass","getScene","clearColor","addPass","bokeh","bloom","ffxa","fxaa","ShaderPass","FXAAShader","uniforms","BokehPass","focus","aperture","maxblur","UnrealBloomPass","Vector2","subtract","distance","Gamepad","noListener","Buttons","BUTTON_BOTTOM","BUTTON_RIGHT","BUTTON_LEFT","BUTTON_TOP","BUMPER_LEFT","BUMPER_RIGHT","TRIGGER_LEFT","TRIGGER_RIGHT","BUTTON_CONTROL_LEFT","BUTTON_CONTROL_RIGHT","BUTTON_JOYSTICK_LEFT","BUTTON_JOYSTICK_RIGHT","D_PAD_UP","D_PAD_BOTTOM","D_PAD_LEFT","D_PAD_RIGHT","BUTTON_CONTROL_MIDDLE","statusCallback","buttonsDown","buttonsPressed","connected","inputAxisSmoothAmount","leftAxis","rightAxis","rightTriggerValue","leftTriggerValue","gamepad","Gamepads","start","addEventListener","horizontalValue","verticalValue","addButton","removeButton","button","rightTrigger","leftTrigger","VehicleManager","vehicles","distFromVehicle","isReady","ekey","rkey","visible","inRangeVehicle","vehicleInUse","vehicle","player","inUse","vehiclePos","camPos","eKeyPos","lookAt","MultiplyScalar","isUpsideDown","closest","dist","Distance","findInRangeVehicle","updateEKey","updateRKey","Player","btMoveVec3","moveSpeed","playAnimation","ePressed","isKeyPressed","isButtonPressed","useVehicle","leaveVehicle","zMove","xMove","isKeyDown","stick","leftStick","Equals","changeAnimation","Angle","back","movePlayer","moveVec","GetLinearVelocity","setLinearVelocity","Audio","InitAudio","listener","loop","volume","sound","buffer","setBuffer","setLoop","setVolume","setRefDistance","audio","Vehicle","btDownForce","topSpeed","steeringRate","accelRate","breakForce","accelForceFront","accelForceBack","reverse","engineSound","tireSquealSound","enginePitch","centerOfMass","downForce","speed","constantDownforce","downForceVel","LoadSound","bodyModel","parrent","bodyShape","createBoxShape","bodyWidth","bodyHeight","bodyLength","tuning","btVehicleTuning","raycaster","btDefaultVehicleRaycaster","btRaycastVehicle","setCoordinateSystem","addAction","wheelModels","wheelLeftModel","wheelRightModel","wheelInfo","createWheel","frontLeftPos","frontRightPos","backRightPos","backLeftPos","currentAccelFront","currentAccelBack","currentBrakingFront","currentBrakingBack","steeringAngle","addVehicle","front","wheelPos","wheelDir","wheelAxle","wheel","addWheel","suspensionLen","set_m_suspensionStiffness","stiffness","set_m_wheelsDampingRelaxation","damping","set_m_wheelsDampingCompression","compression","frontFriction","backFriction","set_m_frictionSlip","set_m_rollInfluence","roll","isPlaying","isConnected","accel","breaking","moveTowards","panner","setPlaybackRate","setDetune","getNumWheels","updateWheelTransform","tm","getWheelTransformWS","p","vel","getRigidBody","applyEngineForce","setBrake","setSteeringValue","applyDownforce","resetMovementWhenNotInUse","updateInput","updateSound","updateMovement","updateSteering","updateWheels","updateRigidBody","updateSpeed","InfoStationManager","infoStations","activationDistance","stationName","activate","openModal","closestDistance","clearKeys","GameEngine","Light","lightType","LightType","DirectionalLight","intensity","shadowMapWidth","shadowMapHeight","cameraNear","cameraFar","shadowBias","shadowCameraSize","decay","penumbra","light","DIRECTIONAL","createDirectionalLight","POINT","createPointLight","SPOT","createSpotLight","AMBIENT","createAmbientLight","enableShadows","shadow","mapSize","bias","top","bottom","left","right","Ball","createSphereShape","CameraController","offset","fixedCameraMode","fixedCamera","followCamera","LookAt","SetPosition","Rotate","rotate","MainGame","Load","createCapsuleShape","ground","createPlaneShape","grass","moundSign","road","createMeshShape","parkinglot","infostation","infostationbase","mightychicken","mightychickensign","addInfoStation","pawsnfind","bentogirl","racetrack","racetrackstart","parkinglotcurb","garage","garagedoor","rrsign","mound","fenceleft","vehicle2","vehicle3","vehicle4","vehicle5","setExpoFog","ambientLight","checkVehicleInRange","InitRenderer","init","isModalOpen","clearButtons","Update","mainGame","isUsingEffects","Render","fpsTime","fps","Init","requestAnimationFrame","props","isOpen","closeModal","styles","modal","display","flexDirection","image","backgroundImage","roadracerbanner","backgroundPosition","backgroundRepeat","backgroundSize","minWidth","margin","promoText","contentText","linkSection","linkText","closeButton","marginTop","classes","makeStyles","theme","main","backgroundColor","border","boxShadow","shadows","padding","spacing","outline","useStyles","Modal","open","onClose","aria-labelledby","aria-describedby","style","className","href","rel","textDecoration","onClick","mightychickenbanner","pawsnfindBanner","justifyContent","title","fontSize","textAlign","buttonGroup","buttons","GamepadUI","setStatus","status","animCount","setState","popup","onAnimationEnd","overflow","zIndex","renderComponent","popin","keyframes","wait","drop","PopUp","styled","span","size","icon","faGamepad","React","Component","MainGameUI","gamepadConnected","currentModal","isLoaded","connectedCallback","window","ScreenResize","setScreenSize","document","clientWidth","clientHeight","Configure","GetRenderer","Game","clearInput","HandleKeyPress","HandleKeyUp","SetOpenModalCallback","preventDefault","stopPropagation","addKey","removeKey","tabIndex","ref","c","onBlur","RoadRacerModal","MightyChickenModal","PawsnfindModal","openModel","Loading","loading","loaded","clearInterval","loadingInterval","timer","count","loadingCounter","playSound","PlaySoundsMuted","finished","enterClicked","enterWasClicked","fade","background","repeat","fadeOut","Fade","div","Button","renderFade","renderLoading","App","Boolean","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,2C,mBCA3CD,EAAOC,QAAU,IAA0B,+C,mBCA3CD,EAAOC,QAAU,IAA0B,uC,8LCEvCC,G,MAAQ,MAEE,OAAVA,IACAA,EAAQ,I,WCJR,aAAe,oBACXC,KAAKC,QAAU,IAAIC,IACnBF,KAAKG,WAAa,IAAID,I,mDAGnBE,GACHJ,KAAKC,QAAQI,IAAID,EAAIE,cAAe,GACW,IAA3CN,KAAKG,WAAWI,IAAIH,EAAIE,gBACxBN,KAAKG,WAAWE,IAAID,EAAIE,cAAe,K,gCAIrCF,GACNJ,KAAKC,QAAQO,OAAOJ,EAAIE,eACxBN,KAAKG,WAAWK,OAAOJ,EAAIE,iB,gCAGrBF,GACN,OAAOJ,KAAKC,QAAQQ,IAAIL,EAAIE,iB,mCAGnBF,GAET,SAAIJ,KAAKG,WAAWM,IAAIL,EAAIE,gBAA6D,IAA3CN,KAAKG,WAAWI,IAAIH,EAAIE,kBAClEN,KAAKG,WAAWE,IAAID,EAAIE,cAAe,IAChC,K,kCAOXN,KAAKC,QAAQS,QACbV,KAAKG,WAAWO,U,6BAIhB,MAAO,CACHT,QAASD,KAAKC,QACdE,WAAYH,KAAKG,gB,ODjCdJ,Q,OELTY,E,WAOF,aAAe,oBACXX,KAAKY,MAAQ,IAAIC,KACjBb,KAAKc,eAAiB,GACtBd,KAAKe,gBAAkB,GACvBf,KAAKgB,YAAc,KACnBhB,KAAKiB,aAAe,IACpBjB,KAAKkB,YAAc,KAAO,IAC1BlB,KAAKmB,cAAgB,EACrBnB,KAAKoB,aAAe,E,gDAGpBC,GACArB,KAAKY,MAAMU,IAAID,K,oCAGLA,GAENA,EAAIE,SAASvB,KAAKe,gBAClBf,KAAKwB,aAAaH,GAEZA,EAAIE,SAASvB,KAAKwB,eACpBxB,KAAKc,eAAeO,EAAIE,OAASF,K,iCAIzC,OAAOrB,KAAKY,Q,mCAGHS,GACLA,EAAIE,SAASvB,KAAKe,kBAClBf,KAAKc,eAAeO,EAAIE,OAASF,SAC1BrB,KAAKe,gBAAgBM,EAAIE,U,oCAI1BF,GACNA,EAAIE,SAASvB,KAAKyB,gBAClBzB,KAAKe,gBAAgBM,EAAIE,OAASF,SAC3BrB,KAAKc,eAAeO,EAAIE,U,mCAI1BF,M,+BAMT,IAAK,IAAIA,KAAOrB,KAAKc,eACjBd,KAAKc,eAAeO,GAAKK,SAM7B,IAAK,IAAIL,UAHSM,IAAd3B,KAAK4B,MAAoC,OAAd5B,KAAK4B,OAChC5B,KAAK6B,iBAAiBD,KAAO5B,KAAK4B,MAEtB5B,KAAKc,eACjBd,KAAKc,eAAeO,GAAKS,aAG7B,IAAK,IAAIT,KAAOrB,KAAKc,eACjBd,KAAKc,eAAeO,GAAKU,W,oCAInBC,EAAOC,GACjBjC,KAAKgB,YAAcgB,EACnBhC,KAAKiB,aAAegB,EAEpBjC,KAAKkB,YAAcc,EAAQC,I,mCAGlBC,EAAOC,EAAMC,GACtBpC,KAAKY,MAAMyB,IAAM,IAAIxB,IAAUqB,EAAOC,EAAMC,K,iCAGrCF,EAAOI,GACdtC,KAAKY,MAAMyB,IAAM,IAAIxB,IAAcqB,EAAOI,K,iCAI1C,OAAOtC,KAAKoB,eAAiBpB,KAAKmB,eAAwC,IAAvBnB,KAAKmB,kB,KAvF1DR,EAEK4B,SAAW,CACdC,OAAQ,EACRC,YAAa,GAuFrB,IAEeC,EAFD,IAAI/B,E,QC7FGgC,E,yGASEC,EAAIC,GACnB,OAAID,EAAKC,EAAKC,OAAOC,SAAWH,EAAKC,EAAKC,OAAOC,U,4BAMxCC,EAAOC,EAAKC,GACrB,IAAIC,EAASF,EACTG,EAASF,EAOb,OALID,EAAMC,IACNC,EAASD,EACTE,EAASH,GAGTD,EAAQG,EACDA,EAEPH,EAAQI,EACDA,EAEJJ,I,kCAGQK,EAAMC,EAAIC,GAEzB,OAAIC,KAAKC,IAAIJ,EAAOC,IAAOC,EAAkBF,EAEtCA,GAASC,EAAKD,GAAQE,I,8BApC7B,OAAO,IAAQC,KAAKE,K,8BAIpB,OAAOF,KAAKE,GAAK,Q,qBCFJC,E,WAEjB,aAAwC,IAA5BC,EAA2B,uDAAvB,EAAKC,EAAkB,uDAAd,EAAKC,EAAS,uDAAL,EAAK,oBACnC9D,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,EACT7D,KAAK8D,EAAIA,E,gDAKTF,EAAGC,EAAGC,GAKN,OAJA9D,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,EACT7D,KAAK8D,EAAIA,EAEF9D,O,+BAIP,OAAOwD,KAAKO,KAAK/D,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,EAAI7D,KAAK8D,EAAI9D,KAAK8D,K,kCAInE,OAAO9D,KAAKgE,W,6BAGTC,GACH,IAAIC,EAAI,IAAIP,EAAQM,EAAKL,EAAGK,EAAKJ,EAAGI,EAAKH,GAEnCK,EAAK,EAAMR,EAAQS,IAAIF,EAAGlE,MAC1BqE,EAAMJ,EAAKK,EAAIL,EAAKK,EAAIX,EAAQS,IAAIF,EAAGA,GAEzCK,EAAO,IAAIZ,EAEfY,EAAKX,EAAIO,EAAKD,EAAEN,EAChBW,EAAKV,EAAIM,EAAKD,EAAEL,EAChBU,EAAKT,EAAIK,EAAKD,EAAEJ,EAEhBS,EAAKX,GAAKS,EAAKrE,KAAK4D,EACpBW,EAAKV,GAAKQ,EAAKrE,KAAK6D,EACpBU,EAAKT,GAAKO,EAAKrE,KAAK8D,EAEpB,IAAIU,EAAKb,EAAQc,MAAMP,EAAGlE,MAE1BuE,EAAKX,GAAK,EAAMK,EAAKK,EAAIE,EAAGZ,EAC5BW,EAAKV,GAAK,EAAMI,EAAKK,EAAIE,EAAGX,EAC5BU,EAAKT,GAAK,EAAMG,EAAKK,EAAIE,EAAGV,EAE5B9D,KAAK4D,EAAIW,EAAKX,EACd5D,KAAK6D,EAAIU,EAAKV,EACd7D,KAAK8D,EAAIS,EAAKT,I,kCAId,IAAIY,EAAM1E,KAAK2E,YAEf,OAAIhC,EAAUiC,YAAYF,EAAK,IAC3B1E,KAAK4D,EAAI,EACT5D,KAAK6D,EAAI,OACT7D,KAAK8D,EAAI,KAKb9D,KAAK4D,GAAKc,EACV1E,KAAK6D,GAAKa,EACV1E,KAAK8D,GAAKY,EAEH1E,Q,+BAIPA,KAAK4D,IAAM,EACX5D,KAAK6D,IAAM,EACX7D,KAAK8D,IAAM,I,gCAIX,OAAO,IAAIjD,KAAcb,KAAK4D,EAAG5D,KAAK6D,EAAG7D,KAAK8D,K,qCAI9C,OAAO,IAAIe,IAAKC,UAAU9E,KAAK4D,EAAG5D,KAAK6D,EAAG7D,KAAK8D,K,iCAI/C,MAAO,QAAU9D,KAAK4D,EAAI,QAAU5D,KAAK6D,EAAI,QAAU7D,KAAK8D,EAAI,Q,2BAYzDlB,EAAIC,GACX,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAChBK,EAAEJ,EAAIlB,EAAGkB,EAAIjB,EAAGiB,EAETI,I,+BAGKtB,EAAIC,GAChB,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAChBK,EAAEJ,EAAIlB,EAAGkB,EAAIjB,EAAGiB,EAETI,I,+BAGKtB,EAAIC,GAChB,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAChBK,EAAEJ,EAAIlB,EAAGkB,EAAIjB,EAAGiB,EAETI,I,gCAIMtB,EAAImC,GACjB,IAAIb,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAImB,EACbb,EAAEL,EAAIjB,EAAGiB,EAAIkB,EACbb,EAAEJ,EAAIlB,EAAGkB,EAAIiB,EAENb,I,qCAGWtB,EAAImC,GACtB,IAAIb,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAImB,EACbb,EAAEL,EAAIjB,EAAGiB,EAAIkB,EACbb,EAAEJ,EAAIlB,EAAGkB,EAAIiB,EAENb,I,qCAGWtB,EAAImC,GACtB,IAAIb,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAK9B,OAJAO,EAAEN,EAAIhB,EAAGgB,EAAImB,EACbb,EAAEL,EAAIjB,EAAGiB,EAAIkB,EACbb,EAAEJ,EAAIlB,EAAGkB,EAAIiB,EAENb,I,4BAGEtB,EAAIC,GACb,IAAIqB,EAAI,IAAIP,EAAQ,EAAK,EAAK,GAM9B,OAJAO,EAAEN,EAAIhB,EAAGiB,EAAIhB,EAAGiB,EAAIlB,EAAGkB,EAAIjB,EAAGgB,EAC9BK,EAAEL,EAAIjB,EAAGkB,EAAIjB,EAAGe,EAAIhB,EAAGgB,EAAIf,EAAGiB,EAC9BI,EAAEJ,EAAIlB,EAAGgB,EAAIf,EAAGgB,EAAIjB,EAAGiB,EAAIhB,EAAGe,EAEvBM,I,+BAGKtB,EAAIC,GAChB,IAAImC,EAAQrB,EAAQsB,SAASpC,EAAID,GAIjC,OAFeY,KAAKO,KAAKiB,EAAMpB,EAAIoB,EAAMpB,EAAIoB,EAAMnB,EAAImB,EAAMnB,EAAImB,EAAMlB,EAAIkB,EAAMlB,K,2BAKzEoB,EAAGC,EAAGC,GAEd,IAAIC,EAAMF,EAaV,OAZAE,EAAIzB,EAAIuB,EAAEvB,EAAIsB,EAAEtB,EAChByB,EAAIxB,EAAIsB,EAAEtB,EAAIqB,EAAErB,EAChBwB,EAAIvB,EAAIqB,EAAErB,EAAIoB,EAAEpB,EAEhBuB,EAAIzB,GAAKjB,EAAU2C,MAAMF,EAAG,EAAK,GACjCC,EAAIxB,GAAKlB,EAAU2C,MAAMF,EAAG,EAAK,GACjCC,EAAIxB,GAAKlB,EAAU2C,MAAMF,EAAG,EAAK,GAEjCF,EAAEtB,GAAKyB,EAAIzB,EACXsB,EAAErB,GAAKwB,EAAIxB,EACXqB,EAAEpB,GAAKuB,EAAIvB,EAEJoB,I,0BAIAtC,EAAIC,GACX,OAAOD,EAAGgB,EAAIf,EAAGe,EAAIhB,EAAGiB,EAAIhB,EAAGgB,EAAIjB,EAAGkB,EAAIjB,EAAGiB,I,gCAGhClB,GAEb,OADAA,EAAG2C,YACI3C,I,6BAGGA,EAAIC,GACd,OAAQD,EAAGgB,EAAIf,EAAGe,EAAId,OAAOC,SAAWH,EAAGgB,EAAIf,EAAGe,EAAId,OAAOC,SACxDH,EAAGiB,EAAIhB,EAAGgB,EAAIf,OAAOC,SAAWH,EAAGiB,EAAIhB,EAAGgB,EAAIf,OAAOC,SACrDH,EAAGkB,EAAIjB,EAAGiB,EAAIhB,OAAOC,SAAWH,EAAGkB,EAAIjB,EAAGiB,EAAIhB,OAAOC,U,4BAGjDH,EAAIC,GACb,IAAI2C,EAAK7B,EAAQc,MAAM7B,EAAIC,GAEvB4C,EAAQjC,KAAKkC,MAAMF,EAAGxB,SAAUL,EAAQS,IAAIxB,EAAIC,IAEpD,OAAOc,EAAQS,IAAIoB,EAAI7B,EAAQgC,IAAM,GAAKF,EAAQA,I,6BAGxC7C,GACV,IAAIgD,EAAMhD,EAKV,OAJAgD,EAAIhC,IAAM,EACVgC,EAAI/B,IAAM,EACV+B,EAAI9B,IAAM,EAEH8B,I,6BAGG1B,GACV,OAAO,IAAIW,IAAKC,UAAUZ,EAAEN,EAAGM,EAAEL,EAAGK,EAAEJ,K,6BAG5BI,GACV,OAAO,IAAIrD,KAAcqD,EAAEN,EAAGM,EAAEL,EAAGK,EAAEJ,K,2BA1IrB,OAAO,IAAIH,EAAQ,EAAK,EAAK,K,0BAC9B,OAAO,IAAIA,EAAQ,EAAK,EAAK,K,yBAC9B,OAAO,IAAIA,EAAQ,EAAK,EAAK,K,2BAC3B,OAAO,IAAIA,EAAQ,GAAM,EAAK,K,8BAC3B,OAAO,IAAIA,EAAQ,EAAK,GAAM,K,2BACjC,OAAO,IAAIA,EAAQ,EAAK,EAAK,K,2BAC7B,OAAO,IAAIA,GAAS,EAAK,EAAK,K,4BAC7B,OAAO,IAAIA,EAAQ,EAAK,EAAK,O,KCjGhCkC,E,WAElB,aAAiD,IAArCjC,EAAoC,uDAAhC,EAAKC,EAA2B,uDAAvB,EAAKC,EAAkB,uDAAd,EAAKQ,EAAS,uDAAL,EAAK,oBAC5CtE,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,EACT7D,KAAK8D,EAAIA,EACT9D,KAAKsE,EAAIA,EAETtE,KAAK8F,MAAQ,IAAInC,EAAQ,EAAE,EAAE,G,gDAE7BC,EAAGC,EAAGC,EAAGQ,GACTtE,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,EACT7D,KAAK8D,EAAIA,EACT9D,KAAKsE,EAAIA,I,kCAIT,IAAMyB,EAAQ,EAAM/F,KAAKgG,SACzBhG,KAAK4D,GAAKmC,EACV/F,KAAK6D,GAAKkC,EACV/F,KAAK8D,GAAKiC,EACV/F,KAAKsE,GAAKyB,I,gCAIV,OAAO,IAAIF,EAAW7F,KAAK4D,EAAG5D,KAAK6D,EAAG7D,KAAK8D,GAAI9D,KAAKsE,K,+BAIpD,OAAO,IAAIuB,GAAY7F,KAAK4D,GAAI5D,KAAK6D,GAAI7D,KAAK8D,EAAG9D,KAAKsE,K,8BAQtD,OAJAtE,KAAK8F,MAAMjC,EAAIL,KAAKkC,MAAM,EAAM1F,KAAKsE,EAAItE,KAAK6D,EAAI,EAAM7D,KAAK8D,EAAI9D,KAAK4D,EAAG,EAAM,GAAO5D,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,IAAMlB,EAAUsD,QACtIjG,KAAK8F,MAAMlC,EAAIJ,KAAK0C,KAAK,GAAOlG,KAAKsE,EAAItE,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK8D,IAAMnB,EAAUsD,QAChFjG,KAAK8F,MAAMhC,EAAIN,KAAKkC,MAAM,EAAM1F,KAAKsE,EAAItE,KAAK8D,EAAI,EAAM9D,KAAK4D,EAAI5D,KAAK6D,EAAG,EAAM,GAAO7D,KAAK8D,EAAI9D,KAAK8D,EAAI9D,KAAK4D,EAAI5D,KAAK4D,IAAMjB,EAAUsD,QAE/HjG,KAAK8F,Q,+BAIZ,OAAOtC,KAAKO,KAAK/D,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,EAAI7D,KAAK8D,EAAI9D,KAAK8D,EAAI9D,KAAKsE,EAAItE,KAAKsE,K,sCAIrF,OAAQtE,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,EAAI7D,KAAK8D,EAAI9D,KAAK8D,EAAK9D,KAAKsE,EAAItE,KAAKsE,K,8BAGnE6B,EAAaC,EAAWT,GAClC,IAAIU,EAAgB1C,EAAQ2C,UAAU3C,EAAQsB,SAASmB,EAAWD,IAE9DI,EAAM5C,EAAQS,IAAIT,EAAQ6C,QAASH,GAEvC,GAAI7C,KAAKC,IAAI8C,IAAQ,GAAQ,KACzB,OAAO,IAAIV,EAAWlC,EAAQgC,GAAG/B,EAAGD,EAAQgC,GAAG9B,EAAGF,EAAQgC,GAAG7B,EAAGN,KAAKE,IAGzE,GAAIF,KAAKC,IAAI8C,EAAO,GAAQ,KACxB,OAAOV,EAAWY,WAGtB,IAAIC,EAAWlD,KAAKmD,KAAKJ,GACrBK,EAAUjD,EAAQc,MAAMd,EAAQ6C,QAASH,GAE7C,OADAO,EAAUjD,EAAQ2C,UAAUM,GACrBf,EAAWgB,oBAAoBD,EAASF,K,mCAG/BF,EAASb,GACzB,IAAImB,EAAOnD,EAAQ2C,UAAUE,GAEzBO,EAASpD,EAAQ2C,UAAUQ,GAC3BE,EAAUrD,EAAQ2C,UAAU3C,EAAQc,MAAMkB,EAAIoB,IAC9CE,EAAUtD,EAAQc,MAAMsC,EAAQC,GAEhCE,EAAMF,EAAQpD,EACduD,EAAMH,EAAQnD,EACduD,EAAMJ,EAAQlD,EACduD,EAAMJ,EAAQrD,EACd0D,EAAML,EAAQpD,EACd0D,EAAMN,EAAQnD,EACd0D,EAAMT,EAAOnD,EACb6D,EAAMV,EAAOlD,EACb6D,EAAMX,EAAOjD,EAEb6D,EAAQT,EAAMI,EAAOI,EACrBE,EAAa,IAAI/B,EAErB,GAAI8B,EAAO,EAAK,CACZ,IAAIE,EAAMrE,KAAKO,KAAK4D,EAAO,GAQ3B,OANAC,EAAWtD,EAAU,GAANuD,EACfA,EAAM,GAAMA,EACZD,EAAWhE,GAAK2D,EAAME,GAAOI,EAC7BD,EAAW/D,GAAK2D,EAAMJ,GAAOS,EAC7BD,EAAW9D,GAAKqD,EAAME,GAAOQ,EAEtBD,EAEX,GAAKV,GAAOI,GAASJ,GAAOQ,EAAM,CAC9B,IAAII,EAAOtE,KAAKO,KAAO,EAAMmD,EAAOI,EAAOI,GACvCK,EAAO,GAAMD,EAOjB,OALAF,EAAWhE,EAAI,GAAMkE,EACrBF,EAAW/D,GAAKsD,EAAME,GAAOU,EAC7BH,EAAW9D,GAAKsD,EAAMI,GAAOO,EAC7BH,EAAWtD,GAAKiD,EAAME,GAAOM,EAEtBH,EAEX,GAAIN,EAAMI,EAAK,CACX,IAAIM,EAAOxE,KAAKO,KAAO,EAAMuD,EAAOJ,EAAOQ,GACvCO,EAAO,GAAMD,EAOjB,OALAJ,EAAWhE,GAAKyD,EAAMF,GAAOc,EAC7BL,EAAW/D,EAAI,GAAMmE,EACrBJ,EAAW9D,GAAK2D,EAAMF,GAAOU,EAC7BL,EAAWtD,GAAKkD,EAAMJ,GAAOa,EAEtBL,EAEX,IAAIM,EAAO1E,KAAKO,KAAO,EAAM2D,EAAOR,EAAOI,GACvCa,EAAO,GAAMD,EAOjB,OALAN,EAAWhE,GAAK4D,EAAMJ,GAAOe,EAC7BP,EAAW/D,GAAK4D,EAAMF,GAAOY,EAC7BP,EAAW9D,EAAI,GAAMoE,EACrBN,EAAWtD,GAAK6C,EAAME,GAAOc,EAEtBP,I,6CAGmBQ,EAAOC,EAAOC,GACxC,OAAOzC,EAAW0C,aAAa5E,EAAQsB,SAASmD,EAAOC,GAAQ1E,EAAQgC,IAAMyC,I,mCAG7DA,EAAOC,GACvB,IAAIG,EAAMJ,EAAQC,EAGlB,OAFAG,EAAM3C,EAAW0C,aAAaC,EAAK7E,EAAQgC,IAAM6C,GAEpCH,I,0CAGUI,EAAMhD,GAC7B,IAAIiD,EAAoB,GAARjD,EACZkD,EAAInF,KAAKoF,IAAIF,GACbG,EAAI,IAAIhD,EAKZ,OAJAgD,EAAEjF,EAAI6E,EAAK7E,EAAI+E,EACfE,EAAEhF,EAAI4E,EAAK5E,EAAI8E,EACfE,EAAE/E,EAAI2E,EAAK3E,EAAI6E,EACfE,EAAEvE,EAAId,KAAKsF,IAAIJ,GACRG,I,gCAGMjF,EAAGC,EAAGC,GACnB,IAAIiF,EAAMlF,EAAIlB,EAAUqG,QACpBC,EAAQrF,EAAIjB,EAAUqG,QAGtBE,EAAmB,IAFZpF,EAAInB,EAAUqG,SAGrBG,EAAe3F,KAAKoF,IAAIM,GACxBE,EAAe5F,KAAKsF,IAAII,GACxBG,EAAqB,GAARJ,EACbK,EAAgB9F,KAAKoF,IAAIS,GACzBE,EAAgB/F,KAAKsF,IAAIO,GACzBG,EAAiB,GAANT,EACXU,EAAcjG,KAAKoF,IAAIY,GACvBE,EAAclG,KAAKsF,IAAIU,GACvBG,EAAS,IAAI9D,EAMjB,OALA8D,EAAOrF,EAAIoF,EAAcH,EAAgBH,EAAeK,EAAcH,EAAgBH,EACtFQ,EAAO/F,EAAI8F,EAAcJ,EAAgBF,EAAeK,EAAcF,EAAgBJ,EACtFQ,EAAO9F,EAAI4F,EAAcF,EAAgBH,EAAeM,EAAcJ,EAAgBH,EACtFQ,EAAO7F,EAAI4F,EAAcH,EAAgBJ,EAAeM,EAAcH,EAAgBF,EAE/EO,I,0BAGAC,EAAIC,GACX,OAAOD,EAAGhG,EAAIiG,EAAGjG,EAAIgG,EAAG/F,EAAIgG,EAAGhG,EAAI+F,EAAG9F,EAAI+F,EAAG/F,EAAI8F,EAAGtF,EAAIuF,EAAGvF,I,gCAG9CuE,GACb,IAAIe,EAAKf,EACL9C,EAAQ,EAAM6D,EAAG5D,SAMrB,OALA4D,EAAGhG,GAAKmC,EACR6D,EAAG/F,GAAKkC,EACR6D,EAAG9F,GAAKiC,EACR6D,EAAGtF,GAAKyB,EAED6D,I,iCAIP,OAAO,IAAI/D,EAAW,EAAK,EAAK,EAAK,O,8BCjL9BiE,EADF,I,WAdT,aAAc,oBACV9J,KAAK+J,MAAQ,IAAIC,KAAM,GACvBhK,KAAKuD,UAAY,E,qDAIjBvD,KAAKuD,UAAYvD,KAAK+J,MAAME,a,kCAI5B,OAAOjK,KAAKuD,c,MCXd2G,E,WAWF,aAAe,oBACXlK,KAAKmK,gBAAkB,IAAItF,IAAKuF,gCAChCpK,KAAKqK,WAAa,IAAIxF,IAAKyF,sBAAsBtK,KAAKmK,iBACtDnK,KAAKuK,WAAa,IAAI1F,IAAK2F,iBAC3BxK,KAAKyK,OAAS,IAAI5F,IAAK6F,oCACvB1K,KAAK2K,MAAQ,IAAI9F,IAAK+F,wBAAwB5K,KAAKqK,WAAYrK,KAAKuK,WAAYvK,KAAKyK,OAAQzK,KAAKmK,iBAElGnK,KAAK2K,MAAME,WAAW,IAAIhG,IAAKC,UAAU,GAAI,IAAK,IAElD9E,KAAK8K,YAAc,G,uDAGZ5G,GACPlE,KAAK2K,MAAME,WAAW,IAAIhG,IAAKC,UAAUZ,EAAEN,EAAGM,EAAEL,EAAGK,EAAEJ,M,mCAG5CiH,GAET,GAAa,OAATA,EAKJ,OAHA/K,KAAK2K,MAAMK,aAAaD,GACxB/K,KAAK8K,YAAYG,KAAKF,GAEf/K,KAAK8K,YAAY9K,KAAK8K,YAAY9G,OAAS,K,sCAGtC+G,GACZ/K,KAAK2K,MAAMO,gBAAgBH,K,0CAGA,IAAbI,EAAY,uDAAH,EACnBC,EAAQ,IAAIvG,IAAKwG,cAAcF,GAGnC,OAFAC,EAAME,UAAU,KAETF,I,qCAGIG,GAGX,OAFY,IAAI1G,IAAK2G,WAAW,IAAI3G,IAAKC,UAAsB,GAAZyG,EAAQ3H,EAAqB,GAAZ2H,EAAQ1H,EAAqB,GAAZ0H,EAAQzH,M,uCAKhF2H,GAGb,OAFY,IAAI5G,IAAK6G,mBAAmB,IAAI7G,IAAKC,UAAU2G,EAAO7H,EAAG6H,EAAO5H,EAAG4H,EAAO3H,GAAI,Q,yCAK3EqH,EAAQlJ,EAAQ0J,GAC/B,IAAIP,EAAQ,IAAIvG,IAAK+G,eAAeT,EAAQlJ,EAAQ,IAAI4C,IAAKC,UAAU6G,EAAU/H,EAAG+H,EAAU9H,EAAG8H,EAAU7H,IAG3G,OAFAsH,EAAME,UAAU,KAETF,I,0CAGSD,EAAQlJ,EAAQ0J,GAChC,IAAIP,EAAQ,IAAIvG,IAAKgH,gBAAgBV,EAAQlJ,EAAQ,IAAI4C,IAAKC,UAAU6G,EAAU/H,EAAG+H,EAAU9H,EAAG8H,EAAU7H,IAG5G,OAFAsH,EAAME,UAAU,KAETF,I,sCAGKD,EAAQlJ,EAAQ0J,GAC5B,IAAIP,EAAQ,IAAIvG,IAAKiH,YAAYX,EAAQlJ,EAAQ,IAAI4C,IAAKC,UAAU6G,EAAU/H,EAAG+H,EAAU9H,EAAG8H,EAAU7H,IAGxG,OAFAsH,EAAME,UAAU,KAETF,I,sCAGKW,GACZ,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAEzB,IAAIC,EAAU,GACVC,EAAU,GAEdL,EAAKM,SAASC,SAAQ,SAAAC,GAClB,GAAIA,EAAMC,eAAe,aAAeD,EAAMF,SAASrI,OAAS,EAC5DuI,EAAMF,SAASC,SAAQ,SAAAP,GACnB,GAAIA,EAAKS,eAAe,YAAa,CAIjC,IAHA,IAAIC,EAAQV,EAAKW,SAASD,MAAME,MAC5BC,EAAQb,EAAKW,SAASG,WAAWC,SAASH,MAErCI,EAAI,EAAGA,EAAIN,EAAMzI,OAAQ+I,GAAK,EACnCX,EAAQnB,KAAKwB,EAAMM,IAGvB,IAAK,IAAIA,EAAI,EAAGA,EAAIH,EAAM5I,OAAQ+I,GAAK,EACnCZ,EAAQlB,KAAK,IAAIpG,IAAKC,UAAU8H,EAAMG,GAAIH,EAAMG,EAAI,GAAIH,EAAMG,EAAI,cAM9E,GAAIR,EAAMC,eAAe,YAAa,CAClCJ,EAAUG,EAAMG,SAASD,MAAME,MAG/B,IAFA,IAAIC,EAAQL,EAAMG,SAASG,WAAWC,SAASH,MAEtCI,EAAI,EAAGA,EAAIH,EAAM5I,OAAQ+I,GAAK,EACnCZ,EAAQlB,KAAK,IAAIpG,IAAKC,UAAU8H,EAAMG,GAAIH,EAAMG,EAAI,GAAIH,EAAMG,EAAI,SAOlF,IAFA,IAAIC,EAAU,IAAInI,IAAKoI,eAEdF,EAAI,EAAGA,EAAIX,EAAQpI,OAAQ+I,GAAK,EAErCC,EAAQE,YAAYf,EAAQC,EAAQW,IAAKZ,EAAQC,EAAQW,EAAI,IAAKZ,EAAQC,EAAQW,EAAI,KAK1Fd,EAFc,IAAIpH,IAAKsI,uBAAuBH,GAAS,S,+BAO3DhN,KAAK2K,MAAMyC,eAAetD,EAAKvG,UAAW,Q,KAjI5C2G,EAEKmD,aAAe,CAClBC,OAAQ,EACRC,IAAK,EACLC,MAAO,EACPC,QAAS,EACTC,SAAU,EACVC,KAAM,GA6Hd,IACeC,EADC,IAAI1D,E,SChIC2D,E,WAEjB,aAAiK,IAArJf,EAAoJ,uDAAzI,IAAInJ,EAAQ,EAAG,EAAG,GAAIyH,EAAmH,uCAA5G0C,EAA4G,uDAAjGjI,EAAWY,WAAYsH,EAA0E,uDAAhE,CAAEC,KAAM,EAAGC,SAAU,EAAGC,gBAAiB,EAAGC,YAAa,IAAO,oBAE5JnO,KAAKoO,aAAc,EACnBpO,KAAKqO,QAAS,EACdrO,KAAKgO,KAAOD,EAAQC,KAEpBhO,KAAKoL,MAAQA,EACbpL,KAAKiO,SAAWF,EAAQE,SACxBjO,KAAKkO,gBAAkBH,EAAQG,gBAC/BlO,KAAKmO,YAAcJ,EAAQI,YAC3BnO,KAAKsO,eAAgB,EAErBtO,KAAKuO,MAAQ,IAAI1J,IAAKC,UAAUgI,EAASlJ,EAAGkJ,EAASjJ,EAAGiJ,EAAShJ,GACjE9D,KAAKwO,OAAS,IAAI3J,IAAK4J,aAAaX,EAASlK,EAAGkK,EAASjK,EAAGiK,EAAShK,EAAGgK,EAASxJ,GAEjFtE,KAAK0O,GAAKC,cAEV3O,KAAK4O,aAAe,IAAI/J,IAAKC,UAAU,EAAG,EAAG,GAC7C9E,KAAK6O,UAAY,IAAIhK,IAAKiK,YAC1B9O,KAAK6O,UAAUE,cACf/O,KAAK6O,UAAUG,UAAUhP,KAAKuO,OAC9BvO,KAAK6O,UAAUI,YAAYjP,KAAKwO,QAChCxO,KAAKkP,YAAc,IAAIrK,IAAKsK,qBAAqBnP,KAAK6O,WAEtD,IAAIO,EAAe,IAAIvK,IAAKC,UAAU,EAAK,EAAK,GAChDsK,EAAepP,KAAKoL,MAAMiE,sBAAsBrP,KAAKgO,KAAMoB,GAC3D,IAAIE,EAAK,IAAIzK,IAAK0K,4BAA4BvP,KAAKgO,KAAMhO,KAAKkP,YAAalP,KAAKoL,MAAOgE,GACvFpP,KAAK8M,SAAWA,EAChB9M,KAAK8N,SAAWA,EAEhB9N,KAAK+K,KAAO,IAAIlG,IAAK2K,YAAYF,GAEjCtP,KAAK+K,KAAK0E,YAAYzP,KAAKiO,UAC3BjO,KAAK+K,KAAK2E,WAAW,IAAM,KAC3B1P,KAAK+K,KAAK4E,sBAAsB,GAChC3P,KAAK+K,KAAK6E,wBAAwB,IAClC5P,KAAK+K,KAAK8E,eAAe7P,KAAKmO,aAG9BnO,KAAK8P,aAAanN,EAAUiC,YAAY5E,KAAKgO,KAAM,IACnDJ,EAAQ5C,aAAahL,KAAK+K,M,oDAItBiD,GACAhO,KAAK+K,OACL/K,KAAKgO,KAAOA,EACZhO,KAAK+K,KAAKgF,aAAa/B,EAAM,IAAInJ,IAAKC,UAAU,EAAK,EAAK,O,mCAIrD9B,GACThD,KAAKoO,YAAcpL,EAEfA,GACAhD,KAAK+K,KAAKgF,aAAa,EAAK,IAAIlL,IAAKC,UAAU,EAAK,EAAK,IACzD9E,KAAK+K,KAAKiF,kBAAkB,GAC5BhQ,KAAK+K,KAAKkF,mBAAmB,KAG7BjQ,KAAK+K,KAAKgF,aAAa/P,KAAKgO,KAAM,IAAInJ,IAAKC,UAAU,EAAK,EAAK,IAC/D9E,KAAK+K,KAAKiF,kBAAkB,GAC5BhQ,KAAK+K,KAAKkF,mBAAmB,M,+BAI5BC,GACLlQ,KAAK+K,KAAKoF,kBAAkBD,EAAME,kB,iCAG3BF,EAAOpD,GACd9M,KAAK+K,KAAKsF,WAAWH,EAAME,eAAgBtD,EAASsD,kB,sCAGxCE,GACZtQ,KAAK+K,KAAKwF,gBAAgBD,EAAOF,kB,2CAGhBI,EAAQC,GACzBzQ,KAAK+K,KAAK2F,sBAAsBF,EAAQC,K,kCAGhCE,GACR3Q,KAAK+K,KAAK6F,YAAYD,EAAOP,kB,0CAGbS,GAChB7Q,KAAK+K,KAAK+F,oBAAoBD,EAAQT,kB,yCAGvBS,GACf7Q,KAAK+K,KAAKgG,mBAAmBF,EAAQT,kB,mCAG5BS,GACT7Q,KAAK+K,KAAKiG,aAAaH,EAAQT,eAAgB,IAAIvL,IAAKC,UAAU,EAAG,EAAG,M,qCAG7D+L,EAAS/D,GACpB9M,KAAK+K,KAAKiG,aAAaH,EAAQT,eAAgBtD,EAASsD,kB,oCAIxDpQ,KAAK+K,KAAKkG,gB,sCAIV,IAAIhN,EAAOjE,KAAK+K,KAAKmG,iBAErB,OAAO,IAAIrL,EAAW5B,EAAKL,IAAKK,EAAKJ,IAAKI,EAAKH,IAAKG,EAAKK,O,0CAIzD,IAAIJ,EAAIlE,KAAK+K,KAAKoG,oBAElB,OAAO,IAAIxN,EAAQO,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,O,2CAInC,IAAII,EAAIlE,KAAK+K,KAAKqG,qBAElB,OAAO,IAAIzN,EAAQO,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,O,wCAGrBuN,GACdrR,KAAKsR,sBAAsBD,EAASjB,kB,yCAGrBiB,GACfrR,KAAK+K,KAAKwG,mBAAmBF,EAASjB,kB,gCAGhCtD,GACN9M,KAAK+K,KAAKyG,UAAU1E,EAASsD,kB,kCAGrBtD,GACR9M,KAAKuO,MAAMkD,SAAS3E,EAASlJ,EAAGkJ,EAASjJ,EAAGiJ,EAAShJ,GACrD9D,KAAK+K,KAAK2G,oBAAoB1C,UAAUhP,KAAKuO,S,2BAG5CzB,GACD9M,KAAK+K,KAAKyG,UAAU1E,EAASsD,kB,kCAGrBtC,GACR9N,KAAKwO,OAAOiD,SAAS3D,EAASlK,EAAGkK,EAASjK,EAAGiK,EAAShK,EAAGgK,EAASxJ,GAClEtE,KAAK+K,KAAK2G,oBAAoBzC,YAAYjP,KAAKwO,QAC/CxO,KAAK+K,KAAK4G,iBAAiBC,kBAAkB5R,KAAK+K,KAAK2G,uB,oCAG7CzN,GACVjE,KAAK+K,KAAK2G,oBAAoBzC,YAAYhL,GAC1CjE,KAAK+K,KAAK4G,iBAAiBC,kBAAkB5R,KAAK+K,KAAK2G,uB,mCAIvD,OAAO1R,KAAK+K,KAAK8G,kB,uCAIjB,OAAO7R,KAAK+K,KAAK4G,mB,qCAGNG,GACX9R,KAAK+K,KAAKgH,eAAeD,K,uCAGZxB,GACb1C,EAAQ1C,gBAAgBlL,KAAK+K,MAC7B/K,KAAK+K,KAAKiH,iBAAiB1B,EAAOF,gBAClCxC,EAAQ5C,aAAahL,KAAK+K,Q,yCAI1B,IAAI7G,EAAIlE,KAAK+K,KAAKkH,mBAClB,OAAO,IAAItO,EAAQO,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,O,kCAInC,OAAO9D,KAAK+K,KAAKmH,c,mCAGRC,GACTnS,KAAKoS,iBAAiBD,K,sCAGVE,GACZrS,KAAKsS,oBAAoBD,K,+BAGpBE,GACLvS,KAAKwS,SAASD,K,iCAId,OAAOvS,KAAKyS,a,wCAIZ,IAAIvO,EAAIlE,KAAK+K,KAAK2H,kBAClB,OAAO,IAAI/O,EAAQO,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,O,iCAInC,OAAO9D,KAAKqO,S,0CAIZ,OAAOrO,KAAK+K,KAAK4H,sB,wCAGHC,GACd5S,KAAK+K,KAAK8H,kBAAkBD,K,yCAGb3E,GACfL,EAAQ1C,gBAAgBlL,KAAK+K,MAC7B/K,KAAK+K,KAAK+H,mBAAmB7E,GAC7BL,EAAQ5C,aAAahL,KAAK+K,Q,qCAGfgI,GACXnF,EAAQ1C,gBAAgBlL,KAAK+K,MAC7B/K,KAAK+K,KAAK8E,eAAekD,GACzBnF,EAAQ5C,aAAahL,KAAK+K,Q,0CAI1B,OAAO/K,KAAK+K,KAAKiI,sB,wCAGHT,GACdvS,KAAK+K,KAAKiF,kBAAkBuC,K,oCAI5B,IAAIrO,EAAIlE,KAAK+K,KAAK2G,oBAAoBuB,YAEtC,OADAjT,KAAK8M,SAASzM,IAAI6D,EAAEN,IAAKM,EAAEL,IAAKK,EAAEJ,KAC3B9D,KAAK8M,W,oCAIZ,IAAI7I,EAAOjE,KAAK+K,KAAK2G,oBAAoBwB,cAEzC,OADAlT,KAAK8N,SAASzN,IAAI4D,EAAKL,IAAKK,EAAKJ,IAAKI,EAAKH,IAAKG,EAAKK,KAC9CtE,KAAK8N,W,yCAGGgE,GACf9R,KAAK+K,KAAKkF,mBAAmB6B,K,oCAGnB9O,GACVhD,KAAK+K,KAAK8E,eAAe7M,K,oCAIzB,OAAOhD,KAAKoO,c,kCAGJpL,GACRhD,KAAK+K,KAAK0E,YAAYzM,O,aC3QTmQ,E,WACjB,aAA0G,IAA9FC,EAA6F,uDAAtF,KAAMC,EAAgF,wDAA5DC,EAA4D,wDAArCC,EAAqC,wDAAhBC,IAAgB,6EACrGxT,KAAKyT,MAAQ,KACbzT,KAAK0T,OAAS,KACd1T,KAAK2T,SAAW,KAChB3T,KAAK+L,KAAO,KACZ/L,KAAKY,MAAQ,KACbZ,KAAKwT,QAAUA,EACfxT,KAAKqT,WAAaA,EAClBrT,KAAKsT,cAAgBA,EACrBtT,KAAKuT,YAAcA,EAEN,OAATH,GACApT,KAAK4T,SAASR,G,yDAGR,IAAD,OAETpT,KAAKY,MAAMiT,UAAS,SAAAC,GACZA,EAAMC,SACND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,oB,iCAK5BtQ,GACPhD,KAAKqT,WAAarQ,I,oCAGRA,GACVhD,KAAKsT,cAAgBtQ,I,+BAGhBoQ,GAAO,IAAD,OAGX,OAFA1Q,EAAMvB,gBAEC,IAAI6K,SAAQ,SAACC,EAASC,IACZ,IAAI8H,KACVC,KAAKb,GAAM,SAACc,GAEfA,EAAKtT,MAAMiT,UAAS,SAAAC,GACZA,EAAMC,SACND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,cACvB,EAAKE,UACLM,EAAMK,SAASC,KAAOvT,KACtB,EAAK0S,cACLO,EAAMK,SAASZ,YAAc,EAAKA,iBAI9C,EAAK3S,MAAQsT,EAAKtT,MAClB,EAAK+S,SAAWO,EAAKtT,MAAMyL,SAC3B,EAAKN,KAAOmI,EAAKtT,MACjB,EAAKmL,KAAKsI,aAAc,EACxB3R,EAAMpB,IAAI4S,EAAKtT,OACf8B,EAAMtB,eACN6K,EAAQ,UAETtK,GAAW,SAAU2S,GACpBC,QAAQD,MAAMA,GACd5R,EAAMvB,gBACN+K,EAAO,iB,iCAOf,OAAqB,OAAdlM,KAAK+L,S,KCpECyI,E,WAEjB,WAAYpB,GAAuE,IAAjEC,EAAgE,wDAA5CC,EAA4C,wDAArBC,EAAqB,4EAC9EvT,KAAKyT,MAAQ,KACbzT,KAAK0T,OAAS,KACd1T,KAAK2T,SAAW,KAChB3T,KAAK+L,KAAO,KACZ/L,KAAKyU,KAAO,KACZzU,KAAKY,MAAQ,KACbZ,KAAK0U,iBAAmB,GACxB1U,KAAK2U,MAAQ,GACb3U,KAAK4U,kBAAmB,EAExB5U,KAAKqT,WAAaA,EAClBrT,KAAKsT,cAAgBA,EACrBtT,KAAKuT,YAAcA,EACnBvT,KAAK4T,SAASR,EAAMG,G,yDAGV,IAAD,OACTvT,KAAKY,MAAMiT,UAAS,SAAAC,GACZA,EAAMC,SACND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,oB,iCAK5BtQ,GACPhD,KAAKqT,WAAarQ,EAClBhD,KAAK6U,gB,oCAGK7R,GACVhD,KAAKsT,cAAgBtQ,EACrBhD,KAAK6U,gB,oCAGK,IAAD,OACV7U,KAAKY,MAAMiT,UAAS,SAAAC,GAEXA,EAAMC,SAEND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,cAEvB,EAAKC,cACLO,EAAMK,SAASZ,YAAc,EAAKA,mB,wEAInCH,G,mGAAMG,E,gCACjB7Q,EAAMvB,gBACF2T,EAAS,IAAId,IAEjBhU,KAAKuT,YAAcA,E,SACbuB,EAAOb,KAAKb,GAAM,SAACc,GACrB,EAAKP,SAAW,IAAI9S,KAAkBqT,GAEtC,EAAKT,MAAQ,IAAI5S,IAAqBqT,EAAKtT,OAC3C,EAAK6S,MAAMsB,UAAY,EAEvBb,EAAKtT,MAAMiT,UAAS,SAAAC,GAqBZA,EAAMC,SAEND,EAAMT,WAAa,EAAKA,WACxBS,EAAMR,cAAgB,EAAKA,cAEvBC,IACAO,EAAMK,SAASZ,YAAcA,OAIzC,EAAK3S,MAAQsT,EAAKtT,MAClB,EAAK+S,SAAWO,EAAKtT,MAAMyL,SAC3B,EAAKN,KAAOmI,EAAKtT,MACjB,EAAK6T,KAAOP,EACZxR,EAAMtB,eACNsB,EAAMpB,IAAI4S,EAAKtT,cAEhBe,GAAW,SAAU2S,GACpB5R,EAAMvB,gBACNoT,QAAQD,MAAMA,M,2IAIRU,GAEV,GAAsB,OAAlBhV,KAAK2T,UAGL3T,KAAK0U,mBAAqBM,EAAW,CACrChV,KAAK0U,iBAAmBM,EACxB,IAAIC,EAAOpU,IAAoBqU,WAAWlV,KAAKyU,KAAMO,GAEjC,OAAhBhV,KAAK0T,QACL1T,KAAK0T,OAAOyB,OAEhBnV,KAAK0T,OAAS1T,KAAKyT,MAAM2B,WAAWH,GAEhB,OAAhBjV,KAAK0T,QACL1T,KAAK0T,OAAO2B,U,uCAIPrS,GAEbhD,KAAK4U,iBAAmB5R,EACxB,IAAK,IAAI+J,EAAI,EAAGA,EAAI/M,KAAK2U,MAAM3Q,OAAQ+I,IAEnC,GAA2B,OAAvB/M,KAAK2U,MAAM5H,GAAGhC,KAAc,CAC5B,IAAMiD,EAAOhL,EAAQ,IAAO,EAC5BhD,KAAK2U,MAAM5H,GAAGhC,KAAKuK,QAAQtH,M,gCAoBhB,OAAfhO,KAAKyT,OAAmBzT,KAAK4U,kBAC7B5U,KAAKyT,MAAM/R,OAAOoI,EAAKvG,e,KC5H7BgS,EAAU,IA/BZ,aAAe,IAAD,gCAKd3B,SAAW,WAAoI,IAAnI4B,EAAkI,uDAA3H,KAAMpC,EAAqH,uDAA9G,KAAMqC,EAAwG,wDAAnFpC,EAAmF,wDAA/DqC,EAA+D,wDAAxCnC,EAAwC,wDAAnBC,IAAmB,yDAI1I,OAHa,OAATgC,GAAejB,QAAQoB,IAAI,0BAClB,OAATvC,GAAemB,QAAQoB,IAAI,4BAExB,IAAI3J,SAAQ,SAACC,EAASC,GAEzB,GAAIuJ,EAAa,CACb,IAAIG,EAAQ,IAAIpB,EAAYpB,EAAMC,EAAYqC,EAAenC,GAC7D,EAAKsC,OAAOL,GAAQI,EACpB3J,EAAQ2J,OAEP,CACD,IAAIA,EAAQ,IAAIzC,EAAK,KAAME,EAAYqC,EAAenC,EAAaC,GACnEoC,EAAMhC,SAASR,GACV0C,MAAK,SAAAC,GACF,EAAKF,OAAOL,GAAQI,EACpB3J,EAAQ2J,MAEXI,OAAM,SAAAC,GACH/J,EAAO+J,WAvBvBjW,KAAK6V,OAAS,GACd7V,KAAKkW,OAAS,IA8BtBC,OAAOC,OAAOb,GACCA,QC9BMc,E,WAIjB,aAA2L,IAAD,OAA9Kb,EAA8K,uDAAvK,KAAMc,EAAiK,uDAAtJ,KAAMb,EAAgJ,wDAA3HpC,EAA2H,wDAAvGqC,EAAuG,wDAAhFnC,EAAgF,wDAA3DzG,EAA2D,uDAAhDnJ,EAAQ4S,KAAMzI,EAAkC,uDAAvBjI,EAAWY,WAAY,yBAwB1L+P,UAxB0L,uCAwB9K,WAAOhB,EAAMc,GAAb,6BAAApR,EAAA,yDAAuBqO,EAAvB,gCAA4CC,IAA5C,iCAES,OAAb8C,EAFI,iEAIFf,EAAQ3B,SAAS4B,EAAMc,EAAU,EAAKb,YAAa,EAAKpC,WAAY,EAAKqC,cAAenC,EAAaC,GACtGsC,MAAK,SAAAF,GACF,EAAKA,MAAQA,EAEb,EAAKa,YAAY,EAAK3J,UACtB,EAAKmC,YAAY,EAAKnB,aAEzBkI,OAAM,SAAAC,GACH1B,QAAQoB,IAAIM,MAZZ,2CAxB8K,wDACtLjW,KAAK8M,SAAWA,EAChB9M,KAAK8N,SAAWA,EAChB9N,KAAK+F,MAAQ,IAAIpC,EAAQ,EAAK,EAAK,GACnC3D,KAAK0W,WAAY,EACjB1W,KAAK2W,QAAU,KACf3W,KAAK4V,MAAQ,KACb5V,KAAKyV,YAAcA,EACnBzV,KAAKwG,QAAU7C,EAAQ6C,QACvBxG,KAAKuB,MAAQoN,cAEb3O,KAAK4W,UAAY,KACjB5W,KAAKqT,WAAaA,EAClBrT,KAAK0V,cAAgBA,EACrB1V,KAAK6W,aAAc,EACnB7W,KAAKwV,KAAOA,EACZxV,KAAK8W,IAAM,GAIX9W,KAAKwW,UAAUhB,EAAMc,EAAU/C,GAC/B7Q,EAAMqU,cAAc/W,M,uDAmBbgD,GACPhD,KAAK0W,UAAY1T,EAEbhD,KAAK0W,UACLhU,EAAMlB,aAAaxB,MAEnB0C,EAAMsU,cAAchX,Q,kCAGhBiX,GACRjX,KAAK8N,SAAWjI,EAAWqR,UAAUD,EAAQrT,EAAGqT,EAAQpT,EAAGoT,EAAQnT,GAE5C,OAAnB9D,KAAK4W,WACL5W,KAAK4W,UAAU3H,YAAYjP,KAAK8N,Y,oCAG1B7J,GACVjE,KAAK8N,SAAW7J,EAEO,OAAnBjE,KAAK4W,WACL5W,KAAK4W,UAAUO,cAAc,IAAItS,IAAKuS,aAAanT,EAAKL,EAAGK,EAAKJ,EAAGI,EAAKH,EAAGG,EAAKK,M,6BAGjF2S,GACH,GAAuB,OAAnBjX,KAAK4W,UAAoB,CACzB,IAAM9Q,EAAQnC,EAAQ4S,KACtBvW,KAAK4W,UAAU3H,YAAYnJ,GAC3B,IAAMuR,EAAM1T,EAAQ2T,IAAIL,EAAS,IAAItT,EAAQmC,EAAMlC,EAAGkC,EAAMjC,EAAGiC,EAAMhC,IACrE9D,KAAK8N,SAAWjI,EAAWqR,UAAUG,EAAIzT,EAAGyT,EAAIxT,EAAGwT,EAAIvT,GACvD9D,KAAK4W,UAAU3H,YAAYjP,KAAK8N,eAGhC9N,KAAK8N,SAAWnK,EAAQ2T,IAAItX,KAAK8N,SAAUmJ,K,kCAGvCM,GACRvX,KAAK8M,SAAWyK,EAEO,OAAnBvX,KAAK4W,WACL5W,KAAK4W,UAAUH,YAAYzW,KAAK8M,Y,2BAGnC0K,GAEsB,OAAnBxX,KAAK4W,WACL5W,KAAK8M,SAAW9M,KAAK4W,UAAUa,cAC/BzX,KAAK8M,SAAWnJ,EAAQ2T,IAAItX,KAAK8M,SAAU0K,GAC3CxX,KAAK4W,UAAUH,YAAYzW,KAAK8M,WAGhC9M,KAAK8M,SAAWnJ,EAAQ2T,IAAItX,KAAK8M,SAAW0K,K,+BAI3CE,GACL1X,KAAK+F,MAAQ2R,I,kCAGLC,GACR3X,KAAK+F,MAAMnC,GAAK+T,EAAY/T,EAC5B5D,KAAK+F,MAAMlC,GAAK8T,EAAY9T,EAC5B7D,KAAK+F,MAAMjC,GAAK6T,EAAY7T,I,+BAK5B,GAAK9D,KAAK6W,cAEa,OAAnB7W,KAAK4W,YACL5W,KAAK8M,SAAW9M,KAAK4W,UAAUa,cAC/BzX,KAAK8N,SAAW9N,KAAK4W,UAAUgB,eAGf,OAAf5X,KAAK4V,OAAmB5V,KAAK4V,MAAMpJ,eAAe,SAG/B,OAApBxM,KAAK4V,MAAM7J,MAAf,CAGA,IAAMsL,EAAMrX,KAAK8N,SAAS+J,QAE1B7X,KAAK4V,MAAM7J,KAAKe,SAASzM,IAAIL,KAAK8M,SAASlJ,EAAG5D,KAAK8M,SAASjJ,EAAG7D,KAAK8M,SAAShJ,GAC7E9D,KAAK4V,MAAM7J,KAAK+B,SAASzN,IAAIgX,EAAIzT,EAAGyT,EAAIxT,EAAGwT,EAAIvT,M,2EAK4G,IAAlJiK,EAAiJ,uDAAvI,CAACC,KAAM,EAAGC,SAAU,EAAGC,gBAAiB,EAAGC,YAAa,IAAM/C,EAAyE,uDAAjE,KAAM0B,EAA2D,uDAAhDnJ,EAAQ4S,KAAMzI,EAAkC,uDAAvBjI,EAAWY,WAC9IzG,KAAK4W,UAAY,IAAI/I,EAAUf,EAAU1B,EAAO0C,EAAUC,K,+BAItD/N,KAAKyV,aAAezV,KAAK4V,OACzB5V,KAAK4V,MAAMkC,Y,gCAGTC,Q,KCxFCC,EAFA,I,kDAlDX,aAAe,IAAD,8BACV,gBACKC,WAAa,IAAIpX,KAAwB,GAAI,KAAO,IAAK,GAAK,KACnE,EAAKqX,OAAS,KAEd,EAAKpL,SAAWnJ,EAAQ4S,KAExB,EAAK4B,WAAa,KAClBzV,EAAMqU,cAAN,gBARU,E,sDAWJqB,EAAKC,EAAQC,EAAOC,GAC1BvY,KAAKiY,WAAa,IAAIpX,KAAwBuX,EAAKC,EAAQC,EAAOC,K,oCAGxDJ,GACVnY,KAAKmY,WAAaA,I,2BAGjBK,GACDxY,KAAKiY,WAAWQ,WAAWD,EAAI5U,GAC/B5D,KAAKiY,WAAWS,WAAWF,EAAI3U,GAC/B7D,KAAKiY,WAAWU,WAAWH,EAAI1U,K,6BAG5BuT,GACHrX,KAAK8N,SAAWjI,EAAWqR,UAAUG,EAAIzT,EAAGyT,EAAIxT,EAAGwT,EAAIvT,GACvD9D,KAAKiY,WAAWnK,SAASzN,IAAIgX,EAAIzT,EAAGyT,EAAIxT,EAAGwT,EAAIvT,K,kCAGvC0U,GACRxY,KAAK8M,SAAW0L,EAChBxY,KAAKiY,WAAWnL,SAASzM,IAAImY,EAAI5U,EAAG4U,EAAI3U,EAAG2U,EAAI1U,K,kCAI/C,OAAO9D,KAAKiY,a,+BAIY,OAApBjY,KAAKmY,YACTnY,KAAKmY,WAAWzW,W,mCAIQ,OAApB1B,KAAKmY,YACLnY,KAAKmY,WAAWrW,iB,GA/CAuU,IC8BbuC,E,WAjCX,aAAe,oBACX5Y,KAAK6Y,SAAW,K,yDAGPC,EAAQ9W,EAAOC,EAAQ8W,GAAe,IAAD,OAE9C,OAAO,IAAI/M,SAAQ,SAACC,EAASC,GACzB,EAAK2M,SAAW,IAAIhY,KAAoB,CAAEiY,OAAQA,EAAQE,OAAO,EAAOC,WAAW,EAAMC,UAAW,QAASC,gBAAgB,qBAC7H,EAAKN,SAASO,QAAQpX,EAAOC,GAC7B,EAAK4W,SAASQ,UAAUC,SAAU,EAClC,EAAKT,SAASQ,UAAUE,KAAO1Y,KAC/B,EAAKgY,SAASW,SAAW3Y,IAEzB,EAAKgY,SAASY,eAAiB5Y,IAE/B,EAAKgY,SAASa,WAAY,EAE1B,EAAKb,SAASc,cAAc,UAAW,GACvC,EAAKd,SAASe,WAAa,EAC3B,EAAKf,SAASgB,iBAAiBd,GAET,OAAlB,EAAKF,SACL5M,EAAQ,EAAK4M,UAEb3M,EAAO,gC,6BAIZtL,EAAOkZ,GACV9Z,KAAK6Y,SAAS9W,OAAOnB,EAAOkZ,O,qDCkCrBC,EAFQ,I,6FApDdlB,GACD7Y,KAAKga,SAAW,IAAIC,IAAepB,GACnC7Y,KAAKka,WAAa,IAAIC,IAAWzX,EAAM0X,WAAYpC,EAAOC,YAC1DjY,KAAKka,WAAWG,WAAa,IAAIxZ,IAAY,WAC7Cb,KAAKka,WAAWN,WAAa,EAE7B5Z,KAAKga,SAASM,QAAQta,KAAKka,YAE3Bla,KAAKua,MAAQ,KACbva,KAAKwa,MAAQ,KACbxa,KAAKya,KAAO,KACZza,KAAK6Y,SAAWA,I,uCAIhB,OAAO7Y,KAAKua,OAASva,KAAKwa,OAASxa,KAAK0a,O,gCAIxC1a,KAAKya,KAAO,IAAIE,IAAWC,KAC3B5a,KAAKya,KAAKI,SAAV,WAAiC7X,MAAM3C,IAAI,EAAIqC,EAAM1B,YAAa,EAAI0B,EAAMzB,cAC5EjB,KAAKga,SAASM,QAAQta,KAAKya,Q,iCAI3Bza,KAAKua,MAAQ,IAAIO,IAAUpY,EAAM9B,MAAOoX,EAAOC,WAAY,CACvD8C,MAAO,IACPC,SAAU,KACVC,QAAS,MAETjZ,MAAOU,EAAMV,MACbC,OAAQS,EAAMT,SAElBjC,KAAKga,SAASM,QAAQta,KAAKua,S,iCAI3Bva,KAAKwa,MAAQ,IAAIU,IACb,IAAIra,KAAc6B,EAAM1B,YAAa0B,EAAMzB,cAC3C,GACA,GACA,IAEJjB,KAAKga,SAASM,QAAQta,KAAKwa,S,+BAI3Bxa,KAAKka,WAAWJ,OAAS9B,EAAOC,WAChCjY,KAAKga,SAASjY,OAAO+H,EAAKvG,e,MC1Db4X,E,WAEjB,aAA+B,IAAnBvX,EAAkB,uDAAd,EAAKC,EAAS,uDAAL,EAAK,oBAC1B7D,KAAK4D,EAAIA,EACT5D,KAAK6D,EAAIA,E,qDA4ET,OAAOL,KAAKO,KAAK/D,KAAK4D,EAAI5D,KAAK4D,EAAI5D,KAAK6D,EAAI7D,KAAK6D,K,kCAIjD,OAAO7D,KAAKgE,W,kCAIZ,IAAIU,EAAM1E,KAAK2E,YAEf,GAAIhC,EAAUiC,YAAYF,EAAK,GAK3B,OAJA1E,KAAK4D,EAAI,EACT5D,KAAK6D,EAAI,OACT7D,KAAK8D,EAAI,GAKb9D,KAAK4D,GAAKc,EACV1E,KAAK6D,GAAKa,EACV1E,KAAK8D,GAAKY,I,iCAIV,MAAO,QAAU1E,KAAK4D,EAAI,QAAU5D,KAAK6D,EAAI,O,2BA1FtCjB,EAAIC,GACX,IAAIqB,EAAI,IAAIiX,EAAQ,EAAK,GAIzB,OAHAjX,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAETK,I,+BAGKtB,EAAIC,GAChB,IAAIqB,EAAI,IAAIiX,EAAQ,EAAK,GAIzB,OAHAjX,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAETK,I,+BAGKtB,EAAIC,GAChB,IAAIqB,EAAI,IAAIiX,EAAQ,EAAK,GAIzB,OAHAjX,EAAEN,EAAIhB,EAAGgB,EAAIf,EAAGe,EAChBM,EAAEL,EAAIjB,EAAGiB,EAAIhB,EAAGgB,EAETK,I,gCAGMtB,EAAImC,GACjB,IAAIb,EAAI,IAAIiX,EAAQ,EAAK,GAIzB,OAHAjX,EAAEN,EAAIhB,EAAGgB,EAAImB,EACbb,EAAEL,EAAIjB,EAAGiB,EAAIkB,EAENb,I,qCAGWtB,EAAImC,GACtB,IAAIb,EAAI,IAAIiX,EAAQ,EAAK,EAAK,GAI9B,OAHAjX,EAAEN,EAAIhB,EAAGgB,EAAImB,EACbb,EAAEL,EAAIjB,EAAGiB,EAAIkB,EAENb,I,qCAGWtB,EAAImC,GACtB,IAAIb,EAAI,IAAIiX,EAAQ,EAAK,GAIzB,OAHAjX,EAAEN,EAAIhB,EAAGgB,EAAImB,EACbb,EAAEL,EAAIjB,EAAGiB,EAAIkB,EAENb,I,+BAGKtB,EAAIC,GAChB,IAAImC,EAAQmW,EAAQC,SAASvY,EAAID,GAE7ByY,EAAW7X,KAAKO,KAAKiB,EAAMpB,EAAIoB,EAAMpB,EAAIoB,EAAMnB,EAAImB,EAAMnB,GAE7D,OAAOwX,I,0BAGAzY,EAAIC,GACX,OAAOD,EAAGgB,EAAIf,EAAGe,EAAIhB,EAAGiB,EAAIhB,EAAGgB,I,6BAGrBjB,EAAIC,GACd,OAAQD,EAAGgB,EAAIf,EAAGe,EAAId,OAAOC,SAAWH,EAAGgB,EAAIf,EAAGe,EAAId,OAAOC,SACxDH,EAAGiB,EAAIhB,EAAGgB,EAAIf,OAAOC,SAAWH,EAAGiB,EAAIhB,EAAGgB,EAAIf,OAAOC,U,2BArE1C,OAAO,IAAIoY,EAAQ,EAAK,K,0BACzB,OAAO,IAAIA,EAAQ,EAAK,K,yBACzB,OAAO,IAAIA,EAAQ,EAAK,K,2BACtB,OAAO,IAAIA,EAAQ,GAAM,K,2BACzB,OAAO,IAAIA,GAAS,EAAK,K,4BACxB,OAAO,IAAIA,EAAQ,EAAK,O,sBCVlCG,EAFC,I,WCGZ,aAAiC,IAAD,OAApBC,EAAoB,4EAE5Bvb,KAAKwb,QAAU,CACXC,cAAe,EACfC,aAAc,EACdC,YAAa,EACbC,WAAY,EACZC,YAAa,EACbC,aAAc,EACdC,aAAc,EACdC,cAAe,EACfC,oBAAqB,EACrBC,qBAAsB,EACtBC,qBAAsB,GACtBC,sBAAuB,GACvBC,SAAU,GACVC,aAAc,GACdC,WAAY,GACZC,YAAa,GACbC,sBAAuB,IAG3Bzc,KAAK0c,eAAiB,KAEtB1c,KAAK2c,YAAc,IAAIzc,IACvBF,KAAK4c,eAAiB,IAAI1c,IAE1BF,KAAK6c,WAAY,EAGjB7c,KAAK8c,sBAAwB,GAC7B9c,KAAK+c,SAAW,IAAI5B,EAAQ,EAAG,GAE/Bnb,KAAKgd,UAAY,IAAI7B,EAAQ,EAAG,GAEhCnb,KAAKid,kBAAoB,EACzBjd,KAAKkd,iBAAmB,EAExBld,KAAKmd,QAAU,KAEV5B,IACD6B,IAASC,QACTD,IAASE,iBAAiB,WAAW,SAAArH,GACjC,EAAK4G,WAAY,EACjB,EAAKM,QAAUlH,EAAEkH,QAEW,OAAxB,EAAKT,gBACL,EAAKA,eAAe,aAGxBzG,EAAEkH,QAAQG,iBAAiB,gBAAgB,SAAArH,GAEvC,EAAK8G,SAASnZ,EAAwB,KAApBqS,EAAEsH,gBACpB,EAAKR,SAASlZ,EAAsB,KAAlBoS,EAAEuH,gBAGrB,CAAC,EAAG,IAEPvH,EAAEkH,QAAQG,iBAAiB,gBAAgB,SAAArH,GAEvC,EAAK+G,UAAUpZ,EAAyB,KAArBqS,EAAEsH,gBACrB,EAAKP,UAAUnZ,EAAsB,KAAlBoS,EAAEuH,gBACtB,CAAC,EAAG,IAEPvH,EAAEkH,QAAQG,iBAAiB,eAAe,SAAArH,GAEtC,EAAKwH,UAAUxH,EAAExJ,UAGrBwJ,EAAEkH,QAAQG,iBAAiB,qBAAqB,SAAArH,GAC5C,EAAKgH,kBAAoBhH,EAAEjT,QAE5B,GAEHiT,EAAEkH,QAAQG,iBAAiB,qBAAqB,SAAArH,GAC5C,EAAKiH,iBAAmBjH,EAAEjT,QAC3B,GAEHiT,EAAEkH,QAAQG,iBAAiB,eAAe,SAAArH,GACtC,EAAKwH,UAAUxH,EAAExJ,UAErBwJ,EAAEkH,QAAQG,iBAAiB,iBAAiB,SAAArH,GACxC,EAAKyH,aAAazH,EAAExJ,aAI5B2Q,IAASE,iBAAiB,cAAc,SAAArH,GACpC,EAAK4G,WAAY,EACW,OAAxB,EAAKH,gBACL,EAAKA,eAAe,oB,wDAQhC,OAAK1c,KAAK6c,UAEH7c,KAAK+c,SAFgB5B,EAAQ5E,O,mCAMpC,OAAKvW,KAAK6c,UAEH7c,KAAKgd,UAFgB7B,EAAQ5E,O,gCAK9BoH,GACN3d,KAAK2c,YAAYtc,IAAIsd,EAAQ,GACW,IAApC3d,KAAK4c,eAAerc,IAAIod,IACxB3d,KAAK4c,eAAevc,IAAIsd,EAAQ,K,mCAI3BA,GACT3d,KAAK2c,YAAYnc,OAAOmd,GACxB3d,KAAK4c,eAAepc,OAAOmd,K,mCAGlBA,GACT,OAAO3d,KAAK2c,YAAYlc,IAAIkd,K,sCAGhBA,GAEZ,SAAI3d,KAAK4c,eAAenc,IAAIkd,IAA+C,IAApC3d,KAAK4c,eAAerc,IAAIod,MAC3D3d,KAAK4c,eAAevc,IAAIsd,EAAQ,IACzB,K,qCAOX,OAAO3d,KAAKid,oB,oCAIZ,OAAOjd,KAAKkd,mB,qCAIZld,KAAK2c,YAAYjc,QACjBV,KAAK4c,eAAelc,U,oCAKpB,OAAOV,KAAK6c,Y,+DAQZ,MAAO,CACHF,YAAa3c,KAAK2c,YAClBC,eAAgB5c,KAAK4c,eACrBG,SAAU/c,KAAK+c,SACfC,UAAWhd,KAAKgd,UAChBY,aAAc5d,KAAKid,kBACnBY,YAAa7d,KAAKkd,sB,sBClDfY,EADQ,I,WA9GnB,aAAe,IAAD,2BACV9d,KAAK+d,SAAW,GAChB/d,KAAKge,gBAAkB,EACvBhe,KAAKie,SAAU,EAEfje,KAAKke,KAAO,IAAI7H,EAAW,OAAQ,MAAM,GAAO,GAAO,GAAM,EAAM,IAAI1S,GAAS,MAAO,GAAI,IAAKkC,EAAWY,YAC3GzG,KAAKme,KAAO,IAAI9H,EAAW,OAAQ,MAAM,GAAO,GAAO,GAAM,EAAM,IAAI1S,GAAS,MAAO,GAAI,IAAKkC,EAAWY,YAE3GzG,KAAKke,KAAK1H,UAAU,OAAQ,4BAA4B,GACnDV,MAAK,WACF,EAAKoI,KAAKtI,MAAM7J,KAAKqS,SAAU,KAGnCpe,KAAKme,KAAK3H,UAAU,OAAQ,4BAA4B,GACvDV,MAAK,WACF,EAAKmI,SAAU,EACf,EAAKE,KAAKvI,MAAM7J,KAAKqS,SAAU,KAEvCpe,KAAKqe,eAAiB,KACtBre,KAAKse,aAAe,K,uDAGbC,GACPve,KAAK+d,SAAS9S,KAAKsT,K,iCAGZC,GACP,OAA4B,OAAxBxe,KAAKqe,eAAgC,MAEzCre,KAAKqe,eAAeI,OAAQ,EAC5BzG,EAAOE,OAASlY,KAAKqe,eACrBre,KAAKse,aAAete,KAAKqe,eAElBre,KAAKqe,kB,sCAGAE,GACZ,OAAgB,OAAZA,EAAyB,MAE7BA,EAAQE,OAAQ,EAChBzG,EAAOE,OAASqG,EAChBve,KAAKse,aAAeC,EAEbA,K,qCAIPve,KAAKse,aAAe,O,mCAIpB,GAA4B,OAAxBte,KAAKqe,eAAyB,CAE9B,IAAIK,EAAa1e,KAAKqe,eAAevR,SACrC9M,KAAKke,KAAKzH,YAAY,IAAI9S,EAAQ+a,EAAW9a,EAAG8a,EAAW7a,EAAI,EAAG6a,EAAW5a,IAC7E9D,KAAKke,KAAKtI,MAAM7J,KAAKqS,SAAU,OAG/Bpe,KAAKke,KAAKtI,MAAM7J,KAAKqS,SAAU,EAGnC,GAAIpe,KAAKke,KAAKtI,MAAM7J,KAAKqS,QAAS,CAC9B,IAAIO,EAAS,IAAIhb,EAAQqU,EAAOlL,SAASlJ,EAAG,EAAGoU,EAAOlL,SAAShJ,GAC3D8a,EAAU,IAAIjb,EAAQ3D,KAAKke,KAAKpR,SAASlJ,EAAG,EAAG5D,KAAKke,KAAKpR,SAAShJ,GAClE+a,EAAShZ,EAAW0C,aAAa5E,EAAQsB,SAAS0Z,EAAQC,GAAUjb,EAAQgC,IAChF3F,KAAKke,KAAKjP,YAAYtL,EAAQmb,eAAeD,EAAOhH,QAASlV,EAAUqG,a,mCAM3E,GAA0B,OAAtBhJ,KAAKse,aAEL,GAAIte,KAAKse,aAAaG,OAASze,KAAKse,aAAaS,eAAgB,CAC7D,IAAIL,EAAa1e,KAAKse,aAAaxR,SACnC4R,EAAW7a,GAAK,EAChB7D,KAAKme,KAAK1H,YAAYiI,GACtB1e,KAAKme,KAAKvI,MAAM7J,KAAKqS,SAAU,OAG/Bpe,KAAKme,KAAKvI,MAAM7J,KAAKqS,SAAU,I,yCAKxB5F,GACfxY,KAAKqe,eAAiB,KAGtB,IAFA,IAAIW,EAAUhf,KAAKge,gBAAkB,EAE5BjR,EAAI,EAAGA,EAAI/M,KAAK+d,SAAS/Z,OAAQ+I,IAAK,CAC3C,IAAI2R,EAAa1e,KAAK+d,SAAShR,GAAGD,SAE5BmS,EAAOtb,EAAQub,SAAS1G,EAAKkG,GAC/BO,EAAOD,GAAWC,GAAQ,IAAMjf,KAAK+d,SAAShR,GAAG0R,QACjDO,EAAUC,EACVjf,KAAKqe,eAAiBre,KAAK+d,SAAShR,O,0CAK5ByL,GAEXxY,KAAKie,UAEVje,KAAKmf,mBAAmB3G,GACxBxY,KAAKof,aACLpf,KAAKqf,kB,MCtGQC,E,kDAEjB,aAA2L,IAAD,EAA9K9J,EAA8K,uDAAvK,KAAMc,EAAiK,uDAAtJ,KAAMb,EAAgJ,wDAA3HpC,EAA2H,wDAAvGqC,EAAuG,wDAAhFnC,EAAgF,wDAA3DzG,EAA2D,uDAAhDnJ,EAAQ4S,KAAMzI,EAAkC,uDAAvBjI,EAAWY,WAAY,4BACtL,cAAM+O,EAAMc,EAAUb,EAAapC,EAAYqC,EAAenC,EAAazG,EAAUgB,IAChFyQ,QAAU,KACf,EAAK/G,QAAU,IAAI7T,EAAQ,EAAG,EAAG,GACjC,EAAKmC,MAAQ,IAAInC,EAAQ,EAAG,EAAG,GAC/B,EAAK4b,WAAa,IAAI1a,IAAKC,UAAU,EAAG,EAAG,GAL2I,E,4DAQ1KkQ,GACZhV,KAAKwf,UAAY,EAEE,OAAfxf,KAAK4V,OACL5V,KAAK4V,MAAM6J,cAAczK,K,+BAK7B,IAAM0K,EAAW3f,EAAM4f,aAAa,MAAQrE,EAAQsE,gBAAgBtE,EAAQE,QAAQI,YACpF,GAAI8D,GAA6B,OAAjB1f,KAAKue,QACjBve,KAAKue,QAAUT,EAAe+B,kBAE9B,GAAIH,GAA6B,OAAjB1f,KAAKue,QAAkB,CACnCve,KAAKue,QAAQE,OAAQ,EACrBX,EAAegC,eACf,IAAItH,EAAMxY,KAAKue,QAAQzR,SACvBkL,EAAOE,OAASlY,KAChBA,KAAKue,QAAU,KACfve,KAAKyW,YAAY+B,EAAInY,IAAImY,EAAI5U,EAAI,EAAG,EAAG4U,EAAI1U,IAInD,GAAqB,OAAjB9D,KAAKue,SAAqC,cAAjBve,KAAKue,SAA2Bve,KAAK8M,SAASjJ,GAAK,GAI5E,OAHA7D,KAAKyW,YAAY,IAAI9S,EAAQ,GAAM,IAAK,SAExC,+DAIA3D,KAAK4V,OAAS5V,KAAK4V,MAAMpJ,eAAe,UAAiC,OAArBxM,KAAK4V,MAAMnC,QAC/DzT,KAAK4V,MAAMnC,MAAMsB,UAAY,GAEjC,IAAIgL,EAAQ,EACRC,EAAQ,GAERjgB,EAAMkgB,UAAU,MAAQlgB,EAAMkgB,UAAU,cACxCF,GAAS,IAEThgB,EAAMkgB,UAAU,MAAQlgB,EAAMkgB,UAAU,gBACxCF,EAAQ,IAERhgB,EAAMkgB,UAAU,MAAQlgB,EAAMkgB,UAAU,gBACxCD,GAAS,IAETjgB,EAAMkgB,UAAU,MAAQlgB,EAAMkgB,UAAU,iBACxCD,EAAQ,GAOZ,IAAIE,EAAQ5E,EAAQ6E,YAEfhF,EAAQiF,OAAOF,EAAO/E,EAAQ5E,QAE/ByJ,EAAQE,EAAMtc,EACdmc,EAAQG,EAAMrc,GAGlB7D,KAAKwX,QAAQ5T,EAAIoc,EACjBhgB,KAAKwX,QAAQ1T,EAAIic,EACjB/f,KAAKwX,QAAQjS,YAER5B,EAAQyc,OAAOpgB,KAAKwX,QAAS7T,EAAQ4S,MAUtCvW,KAAKqgB,gBAAgB,SATrBrgB,KAAKwG,QAAUxG,KAAKwX,QAAQjS,YAE5BvF,KAAKwX,QAAQ5T,EAAqB,EAAjB5D,KAAKwG,QAAQ5C,EAC9B5D,KAAKwX,QAAQ1T,EAAqB,EAAjB9D,KAAKwG,QAAQ1C,EAE9B9D,KAAK8F,MAAMjC,EAAIF,EAAQ2c,MAAM3c,EAAQ4c,KAAMvgB,KAAKwG,SAChDxG,KAAKqgB,gBAAgB,SAOzBrgB,KAAKwgB,aACLxgB,KAAKiP,YAAYjP,KAAK8F,OAEtB,iE,mCAIA,IAAM2a,EAAU,IAAI9c,EAAQ3D,KAAKwX,QAAQ5T,EAAG5D,KAAKwX,QAAQ3T,EAAG7D,KAAKwX,QAAQ1T,GACzE2c,EAAQ5c,EAAI7D,KAAK4W,UAAU8J,oBAAoB7c,EAC/C7D,KAAKuf,WAAW9N,SAASgP,EAAQ7c,EAAG6c,EAAQ5c,EAAG4c,EAAQ3c,GACvD9D,KAAK4W,UAAU7L,KAAK4V,kBAAkB3gB,KAAKuf,c,gCAGrCxH,Q,GAtGsB1B,GCuC9BuK,EAAQ,I,WA9CV,aAAe,oBACX5gB,KAAK6gB,YACL7gB,KAAKkW,OAAS,G,wDAIdlW,KAAK8gB,SAAW,IAAIjgB,IACpBmX,EAAOC,WAAW3W,IAAItB,KAAK8gB,Y,gCAIrB1N,GAAmC,IAAD,OAA5B2N,EAA4B,wDAAdC,EAAc,uDAAL,GACnC,OAAO,IAAIhV,SAAQ,SAACC,EAASC,GACzB,IAAM4I,EAAS,IAAIjU,IACfogB,EAAQ,IAAIpgB,KAAsB,EAAKigB,UAE3C,IACIhM,EAAOb,KAAKb,GAAM,SAAC8N,GAEA,OAAXA,GAAiBhV,EAAO,uBAE5B+U,EAAME,UAAUD,GAChBD,EAAMG,QAAQL,GACdE,EAAMI,UAAUL,GAChBC,EAAMK,eAAe,IAErB,EAAKpL,OAAOjL,KAAK,CAACsW,MAAON,EAAOD,OAAQA,IACxC/U,EAAQgV,MAGhB,MAAOhL,GACHhK,EAAQgK,S,wCAMhB,IAAK,IAAIlJ,EAAI,EAAGA,EAAI/M,KAAKkW,OAAOlS,OAAQ+I,IACpC/M,KAAKkW,OAAOnJ,GAAGwU,MAAMF,UAAU,GAC/BrhB,KAAKkW,OAAOnJ,GAAGwU,MAAMlM,OACrBrV,KAAKkW,OAAOnJ,GAAGwU,MAAMpM,OACrBnV,KAAKkW,OAAOnJ,GAAGwU,MAAMF,UAAUrhB,KAAKkW,OAAOnJ,GAAGiU,Y,MAM1D7K,OAAOC,OAAOwK,GACCA,SCpCMY,G,kDACjB,WAAYzT,GAAU,IAAD,uBACjB,gBAEK0Q,OAAQ,EACb,EAAKpL,YAAa,EAClB,EAAKqC,eAAgB,EACrB,EAAKD,aAAc,EAEnB,EAAKlH,MAAQ,IAAI1J,IAAKC,UAAU,EAAE,EAAE,GACpC,EAAK0J,OAAS,IAAI3J,IAAK4J,aAAa,EAAE,EAAE,EAAE,GAC1C,EAAKgT,YAAc,IAAI5c,IAAKC,UAAU,EAAE,EAAE,GAC1C,EAAK4c,SAAW3T,EAAQ2T,SACxB,EAAKC,aAAe,GACpB,EAAKC,UAAY7T,EAAQ6T,UACzB,EAAKC,WAAa9T,EAAQ8T,WAC1B,EAAKC,gBAAkB/T,EAAQ+T,gBAC/B,EAAKC,eAAiBhU,EAAQgU,eAC9B,EAAKC,SAAU,EACf,EAAKC,YAAc,KACnB,EAAKC,gBAAkB,KACvB,EAAKC,YAAcpU,EAAQoU,YAC3B,EAAKC,aAAerU,EAAQqU,aAC5B,EAAKC,UAAYtU,EAAQsU,UACzB,EAAKtU,QAAUA,EACf,EAAKuU,MAAQ,EACb,EAAKC,kBAAoBxU,EAAQwU,kBACjC,EAAKC,aAAe,IAAI7e,EAAQ,GAAKH,KAAKC,IAAI,EAAK6e,OAAS,EAAKD,UAAY,GAE7EzB,GAAM6B,UAAU,8BAA8B,EAAM,IAC/C3M,MAAK,SAAAmL,GACF,EAAKgB,YAAchB,EACnB1L,EAAQ3B,SAAS7F,EAAQ2U,UAAW3U,EAAQ2U,WAAW,GAAO,GAAM,GAAM,GACrE5M,MAAK,SAAAF,GACF,EAAKA,MAAQA,EACb,EAAKqM,YAAYU,QAAU,EAAK/M,MAChC,EAAKa,YAAY,EAAK3J,UACtB,EAAKmC,YAAY,EAAKnB,aAGzBkI,OAAM,SAAAC,GACH1B,QAAQoB,IAAIM,SAIvBD,OAAM,SAAAC,GACH1B,QAAQoB,IAAIM,MAGpB2K,GAAM6B,UAAU,kCAAkC,EAAM,IACnD3M,MAAK,SAAAmL,GACF,EAAKiB,gBAAkBjB,KAE1BjL,OAAM,SAAAC,GACH1B,QAAQoB,IAAIM,MAGpB,EAAK2M,UAAYhV,EAAQiV,eAAe,IAAIlf,EAAQoK,EAAQ+U,UAAW/U,EAAQgV,WAAYhV,EAAQiV,aAEnG,IAAInU,EAAY,IAAIhK,IAAKiK,YACzBD,EAAUE,cACVF,EAAUG,UAAU,IAAInK,IAAKC,UAAUiJ,EAAQjB,SAASlJ,EAAGmK,EAAQjB,SAASjJ,EAAGkK,EAAQjB,SAAShJ,IAChG+K,EAAUI,YAAY,IAAIpK,IAAK4J,aAAaV,EAAQD,SAASlK,EAAGmK,EAAQD,SAASjK,EAAGkK,EAAQD,SAAShK,EAAGiK,EAAQD,SAASxJ,IACzH,IAAI4K,EAAc,IAAIrK,IAAKsK,qBAAqBN,GAC5CO,EAAe,IAAIvK,IAAKC,UAAU,EAAG,EAAG,GAC5C,EAAK8d,UAAUvT,sBAAsBtB,EAAQC,KAAMoB,GACnD,EAAKrE,KAAO,IAAIlG,IAAK2K,YAAY,IAAI3K,IAAK0K,4BAA4BxB,EAAQC,KAAMkB,EAAa,EAAK0T,UAAWxT,IACjH,EAAKrE,KAAKkF,mBAAmB,GAC7B,EAAKlF,KAAK8E,eAAe,IACzBjC,EAAQjD,MAAMK,aAAa,EAAKD,MAChC,EAAKkY,OAAS,IAAIpe,IAAKqe,gBAEvB,EAAKC,UAAY,IAAIte,IAAKue,0BAA0BxV,EAAQjD,OAC5D,EAAK4T,QAAU,IAAI1Z,IAAKwe,iBAAiB,EAAKJ,OAAQ,EAAKlY,KAAM,EAAKoY,WAEtE,EAAK5E,QAAQ+E,oBAAoB,EAAG,EAAG,GAEvC1V,EAAQjD,MAAM4Y,UAAU,EAAKhF,SAC7B7b,EAAMqU,cAAN,gBAGA,EAAKyM,YAAc,GACnB,EAAKA,YAAYvY,KAAK,IAAIoL,EAAWtI,EAAQ0V,eAAgB1V,EAAQ0V,gBAAgB,GAAO,GAAM,IAClG,EAAKD,YAAYvY,KAAK,IAAIoL,EAAWtI,EAAQ2V,gBAAiB3V,EAAQ2V,iBAAiB,GAAO,GAAM,IACpG,EAAKF,YAAYvY,KAAK,IAAIoL,EAAWtI,EAAQ2V,gBAAiB3V,EAAQ2V,iBAAiB,GAAO,GAAM,IACpG,EAAKF,YAAYvY,KAAK,IAAIoL,EAAWtI,EAAQ0V,eAAgB1V,EAAQ0V,gBAAgB,GAAO,GAAM,IAElG,IAAK,IAAI1W,EAAI,EAAGA,EAAI,EAAKyW,YAAYxf,OAAQ+I,IACzC,EAAKyW,YAAYzW,GAAG8J,aAAc,EAvFrB,OA0FjB,EAAK8M,UAAY,GACjB,EAAKA,UAAU1Y,KAAK,EAAK2Y,YAAY7V,GAAS,EAAMA,EAAQ8V,aAAc,IAAIlgB,EAAQ,GAAI,EAAG,GAAI,IAAIA,GAAS,EAAG,EAAG,KACpH,EAAKggB,UAAU1Y,KAAK,EAAK2Y,YAAY7V,GAAS,EAAMA,EAAQ+V,cAAe,IAAIngB,EAAQ,GAAI,EAAG,GAAI,IAAIA,GAAS,EAAG,EAAG,KACrH,EAAKggB,UAAU1Y,KAAK,EAAK2Y,YAAY7V,GAAS,EAAOA,EAAQgW,aAAc,IAAIpgB,EAAQ,GAAI,EAAG,GAAI,IAAIA,GAAS,EAAG,EAAG,KACrH,EAAKggB,UAAU1Y,KAAK,EAAK2Y,YAAY7V,GAAS,EAAOA,EAAQiW,YAAa,IAAIrgB,EAAQ,GAAI,EAAG,GAAI,IAAIA,GAAS,EAAG,EAAG,KAEpH,EAAKsf,OAAS,IAAIpe,IAAKqe,gBACvB,EAAKe,kBAAoB,EACzB,EAAKC,iBAAmB,EACxB,EAAKC,oBAAsB,EAC3B,EAAKC,mBAAqB,EAC1B,EAAKC,cAAgB,EAGrBvG,EAAewG,WAAf,gBAxGiB,E,wDA2GTvW,EAASwW,EAAOC,EAAUC,EAAUC,GAE5C,IAAIC,EAAQ3kB,KAAKue,QAAQqG,SAASJ,EAASpU,eAAgBqU,EAASrU,eAAgBsU,EAAUtU,eAAgBrC,EAAQ8W,cAAe9W,EAAQ5C,OAAQnL,KAAKijB,OAAQsB,GAElKI,EAAMG,0BAA0B/W,EAAQgX,WACxCJ,EAAMK,8BAA8BjX,EAAQkX,SAC5CN,EAAMO,+BAA+BnX,EAAQoX,aAE7C,IAAMlX,EAAWsW,EAAQxW,EAAQqX,cAAgBrX,EAAQsX,aAIzD,OAHAV,EAAMW,mBAAmBrX,GACzB0W,EAAMY,oBAAoBxX,EAAQyX,MAE3Bb,I,qCAIP,IAAMtN,EAAMrX,KAAK8N,SAAS+J,QAE1B,OAAQrU,KAAKC,IAAI4T,EAAIzT,GAAKjB,EAAUsD,SAAW,IAAOzC,KAAKC,IAAI4T,EAAIvT,GAAKnB,EAAUsD,SAAW,K,oCAG7F,GAAIjG,KAAK+e,gBAAkB/e,KAAKye,QACxB1e,EAAMkgB,UAAU,MAAQ3E,EAAQsE,gBAAgBtE,EAAQE,QAAQM,eAAe,CAC/E,IAAMhP,EAAW,IAAInJ,EAAQ3D,KAAK8M,SAASlJ,EAAG5D,KAAK8M,SAASjJ,EAAI,IAAK7D,KAAK8M,SAAShJ,GAC7EgK,EAAW,IAAIjI,EAAW,EAAK7F,KAAK8N,SAASjK,EAAG,EAAK7D,KAAK8N,SAASxJ,GAEzEtE,KAAKuO,MAAMkD,SAAS3E,EAASlJ,EAAGkJ,EAASjJ,EAAGiJ,EAAShJ,GACrD9D,KAAKwO,OAAOiD,SAAS3D,EAASlK,EAAGkK,EAASjK,EAAGiK,EAAShK,EAAGgK,EAASxJ,GAClEtE,KAAK+K,KAAK2G,oBAAoB1C,UAAUhP,KAAKuO,OAC7CvO,KAAK+K,KAAK2G,oBAAoBzC,YAAYjP,KAAKwO,QAC/CxO,KAAK+K,KAAK4G,iBAAiBC,kBAAkB5R,KAAK+K,KAAK2G,qBAS/D,IALK1R,KAAKye,OAAS9b,EAAUiC,YAAY5E,KAAKsiB,MAAO,IACxB,OAArBtiB,KAAKiiB,aAAwBjiB,KAAKiiB,YAAYwD,WAClDzlB,KAAKiiB,YAAY9M,OAGhBnV,KAAKye,MAAV,CAEA,GAAInD,EAAQoK,cAAe,CACvB,IAAIjd,EAAO6S,EAAQ6E,YAEdhF,EAAQiF,OAAO3X,EAAM0S,EAAQ5E,QAC9BvW,KAAKqkB,eAAiB,GAAK5b,EAAK7E,GAQxC,GALyB,OAArB5D,KAAKiiB,aAAyBjiB,KAAKiiB,YAAYwD,WAC/CzlB,KAAKiiB,YAAY5M,OAErBrV,KAAKgiB,SAAU,GAEVjiB,EAAMkgB,UAAU,MAAQlgB,EAAMkgB,UAAU,YAAc3E,EAAQsC,eAAiB,IAAM5d,KAAKsiB,OAAStiB,KAAK0hB,SAAU,CAEnH,IAAMiE,EAASrK,EAAQsC,eAAiB,EAAKtC,EAAQsC,eAAiB,EACtE5d,KAAKmkB,oBAAsB,EAC3BnkB,KAAKokB,mBAAqB,EAC1BpkB,KAAKkkB,iBAAoBlkB,KAAK+hB,eAAiB/hB,KAAK4hB,UAAa+D,EACjE3lB,KAAKikB,kBAAqBjkB,KAAK8hB,gBAAkB9hB,KAAK4hB,UAAa+D,OAGnE3lB,KAAKkkB,iBAAmB,EACxBlkB,KAAKikB,kBAAoB,EACzBjkB,KAAKmkB,oBAAsB,GAC3BnkB,KAAKokB,mBAAqB,GAG9B,GAAIrkB,EAAMkgB,UAAU,MAAQlgB,EAAMkgB,UAAU,cAAgB3E,EAAQuC,cAAgB,EAAG,CACnF7d,KAAKgiB,SAAU,EACf,IAAM4D,EAAYtK,EAAQuC,cAAgB,EAAKvC,EAAQuC,cAAgB,EACnE7d,KAAKsiB,OAAS,GACdtiB,KAAKmkB,oBAAsB,EAC3BnkB,KAAKokB,mBAAqB,EAC1BpkB,KAAKkkB,kBAA4C,GAAtBlkB,KAAK+hB,eAAwB/hB,KAAK4hB,UAAagE,EAC1E5lB,KAAKikB,mBAA8C,GAAvBjkB,KAAK8hB,gBAAyB9hB,KAAK4hB,UAAagE,IAG5E5lB,KAAKmkB,oBAAwC,IAAlBnkB,KAAK6hB,WAAoB+D,EACpD5lB,KAAKokB,mBAAuC,IAAlBpkB,KAAK6hB,WAAoB+D,GAIvD7lB,EAAMkgB,UAAU,MAAQlgB,EAAMkgB,UAAU,aACxCjgB,KAAKqkB,eAAiB,GAAKrkB,KAAK2hB,aAAe7X,EAAKvG,UAGhDxD,EAAMkgB,UAAU,MAAQlgB,EAAMkgB,UAAU,cACxCjgB,KAAKqkB,eAAiB,GAAKrkB,KAAK2hB,aAAe7X,EAAKvG,UAGpDvD,KAAKqkB,cAAgB1hB,EAAUkjB,YAAY7lB,KAAKqkB,cAAe,EAAKrkB,KAAK2hB,aAAe7X,EAAKvG,WAGrGvD,KAAKqkB,cAAgB1hB,EAAU2C,MAAMtF,KAAKqkB,eAAgB,GAAI,O,oCAI1D7gB,KAAKC,IAAIzD,KAAK+K,KAAKqG,qBAAqBvN,KAAO,EAElB,OAAzB7D,KAAKkiB,iBAA2C,OAAfliB,KAAK4V,QAEjC5V,KAAKkiB,gBAAgBuD,WACtBzlB,KAAKkiB,gBAAgB7M,OAEzBrV,KAAKkiB,gBAAgB4D,OAAOrP,YAAYzW,KAAK4V,MAAM7J,KAAKe,SAASlJ,EAAG5D,KAAK4V,MAAM7J,KAAKe,SAASjJ,EAAG7D,KAAK4V,MAAM7J,KAAKe,SAAShJ,GAEzH9D,KAAKkiB,gBAAgB6D,gBAAgB,IACrC/lB,KAAKkiB,gBAAgB8D,WAAW,MAIP,OAAzBhmB,KAAKkiB,iBAA4BliB,KAAKkiB,gBAAgBuD,WACtDzlB,KAAKkiB,gBAAgB/M,OAGJ,OAArBnV,KAAKiiB,aAAuC,OAAfjiB,KAAK4V,OAE9B5V,KAAKiiB,YAAYwD,WAAazlB,KAAK4V,MAAM7J,OAEzC/L,KAAKiiB,YAAY+D,UAAsD,IAA3CxiB,KAAKC,IAAIzD,KAAKsiB,OAAStiB,KAAKmiB,cACxDniB,KAAKiiB,YAAY6D,OAAOrP,YAAYzW,KAAK4V,MAAM7J,KAAKe,SAASlJ,EAAG5D,KAAK4V,MAAM7J,KAAKe,SAASjJ,EAAG7D,KAAK4V,MAAM7J,KAAKe,SAAShJ,M,qCAO7H,IAAK,IAAIiJ,EAAI,EAAGA,EAAI/M,KAAKue,QAAQ0H,eAAgBlZ,IAAK,CAElD/M,KAAKue,QAAQ2H,qBAAqBnZ,GAAG,GAErC,IAAMoZ,EAAKnmB,KAAKue,QAAQ6H,oBAAoBrZ,GACtCsZ,EAAIF,EAAGlT,YACPpK,EAAIsd,EAAGjT,cAETlT,KAAKwjB,YAAYzW,GAAG6I,OAAS5V,KAAKwjB,YAAYzW,GAAG6I,MAAM7J,OACvD/L,KAAKwjB,YAAYzW,GAAG6I,MAAM7J,KAAKe,SAASzM,IAAIgmB,EAAEziB,IAAKyiB,EAAExiB,IAAKwiB,EAAEviB,KAC5D9D,KAAKwjB,YAAYzW,GAAG6I,MAAM7J,KAAKnE,WAAWvH,IAAIwI,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAE/E,IAAK+E,EAAEvE,S,wCAM7E,IAAM6hB,EAAKnmB,KAAK+K,KAAK2G,oBACf2U,EAAIF,EAAGlT,YACPpK,EAAIsd,EAAGjT,cACblT,KAAK8N,SAASzN,IAAIwI,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAE/E,IAAK+E,EAAEvE,KACzCtE,KAAK8M,SAASzM,IAAIgmB,EAAEziB,IAAKyiB,EAAExiB,IAAKwiB,EAAEviB,KAClC,IAAIgC,EAAQ9F,KAAK8N,SAAS+J,QAC1B/R,EAAMlC,GAAKjB,EAAUqG,QACrBlD,EAAMjC,GAAKlB,EAAUqG,QACrBlD,EAAMhC,GAAKnB,EAAUqG,QACrBhJ,KAAK8N,SAAWjI,EAAWqR,UAAUpR,EAAMlC,EAAGkC,EAAMjC,EAAGiC,EAAMhC,GAGzD9D,KAAK4V,OAAS5V,KAAK4V,MAAM7J,OACzB/L,KAAK4V,MAAM7J,KAAKe,SAASzM,IAAIgmB,EAAEziB,IAAKyiB,EAAExiB,IAAKwiB,EAAEviB,KAC7C9D,KAAK4V,MAAM7J,KAAKnE,WAAWvH,IAAIwI,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAE/E,IAAK+E,EAAEvE,Q,oCAO1D,IAAIgiB,EAAOtmB,KAAKue,QAAQgI,eAAepV,oBAAoBnN,SAAW,KAElEsiB,EAAM,OACNA,EAAM,GAEV,IAAM9d,EAAMxI,KAAKgiB,SAAWhiB,KAAKsiB,MAAQ,KAAQ,EAAI,EACrDtiB,KAAKsiB,MAAc,IAANgE,EAAY9d,I,uCAIzBxI,KAAKue,QAAQiI,iBAAiBxmB,KAAKikB,kBAAmB,GACtDjkB,KAAKue,QAAQiI,iBAAiBxmB,KAAKikB,kBAAmB,GACtDjkB,KAAKue,QAAQiI,iBAAiBxmB,KAAKkkB,iBAAkB,GACrDlkB,KAAKue,QAAQiI,iBAAiBxmB,KAAKkkB,iBAAkB,GAErDlkB,KAAKue,QAAQkI,SAASzmB,KAAKmkB,oBAAqB,GAChDnkB,KAAKue,QAAQkI,SAASzmB,KAAKmkB,oBAAqB,GAChDnkB,KAAKue,QAAQkI,SAASzmB,KAAKokB,mBAAqB,EAAG,GACnDpkB,KAAKue,QAAQkI,SAASzmB,KAAKokB,mBAAqB,EAAG,K,uCAKnDpkB,KAAKue,QAAQmI,iBAAiB,EAAG,GACjC1mB,KAAKue,QAAQmI,iBAAiB,EAAG,GACjC1mB,KAAKue,QAAQmI,iBAAiB1mB,KAAKqkB,cAAgB1hB,EAAUqG,QAAS,GACtEhJ,KAAKue,QAAQmI,iBAAiB1mB,KAAKqkB,cAAgB1hB,EAAUqG,QAAS,K,uCAItE,IAAMqZ,EAAYriB,KAAKuiB,mBAAqBviB,KAAKqiB,WAAc7e,KAAKC,IAAIzD,KAAKsiB,OAAStiB,KAAKqiB,UAC3FriB,KAAKwiB,aAAe,IAAI7e,EAAQ,EAAG0e,EAAU,GAC7CriB,KAAKyhB,YAAYhQ,SAASzR,KAAKwiB,aAAa5e,EAAG5D,KAAKwiB,aAAa3e,EAAG7D,KAAKwiB,aAAa1e,GACtF9D,KAAK+K,KAAK+F,oBAAoB9Q,KAAKyhB,e,kDAG9BzhB,KAAKye,QACNze,KAAKmkB,oBAAwC,IAAlBnkB,KAAK6hB,WAChC7hB,KAAKokB,mBAAuC,IAAlBpkB,KAAK6hB,WAC/B7hB,KAAKkkB,iBAAmB,EACxBlkB,KAAKikB,kBAAoB,K,+BAK7BjM,EAAOC,WAAW3W,IAAIsf,GAAME,UAC5B9gB,KAAK2mB,iBACL3mB,KAAK4mB,4BACL5mB,KAAK6mB,cACL7mB,KAAK8mB,cACL9mB,KAAK+mB,iBACL/mB,KAAKgnB,iBACLhnB,KAAKinB,eACLjnB,KAAKknB,kBACLlnB,KAAKmnB,kB,GAvUwB9Q,GC6BtB+Q,GAFY,I,WAtCvB,aAAe,oBACXpnB,KAAKqnB,aAAe,GACpBrnB,KAAKsnB,mBAAqB,IAC1BtnB,KAAKye,OAAQ,E,2DAGF3R,EAAUya,GACrBvnB,KAAKqnB,aAAapc,KAAK,CAAE6B,SAAUA,EAAU0I,KAAM+R,M,6BAGhD/O,GAKH,IAJA,IAAIgP,GAAW,EACXC,EAAY,GACZC,EAAkB,GAEb3a,EAAI,EAAGA,EAAI/M,KAAKqnB,aAAarjB,OAAQ+I,IAAK,CAC/C,IAAMkS,EAAOtb,EAAQub,SAASlf,KAAKqnB,aAAata,GAAGD,SAAU0L,GAI7D,GAFIyG,EAAOyI,IAAiBA,EAAkBzI,GAE1CA,GAAQjf,KAAKsnB,qBAAuBtnB,KAAKye,MAAO,CAChDze,KAAKye,OAAQ,EACb+I,GAAW,EACXC,EAAYznB,KAAKqnB,aAAata,GAAGyI,KACjC,OAIJkS,EAAkB1nB,KAAKsnB,qBACvBtnB,KAAKye,OAAQ,GAEb+I,IACAznB,EAAM4nB,YACNC,GAAWH,UAAUA,Q,MC/BZI,G,kDAUjB,aAgB4B,IAAD,EAhBf9Z,EAgBe,uDAhBL,CAAE+Z,UAAWD,EAAME,UAAUC,iBAC3B9lB,MAAO,SACP+lB,UAAW,EACX5U,YAAY,EACZ6U,eAAgB,KAChBC,gBAAiB,KACjBC,WAAY,GACZC,UAAW,GACXC,YAAa,MACbC,iBAAkB,GAClBrQ,OAAQ,IAAIvU,KAAQ,GAAK,EAAG,GAC5BmJ,SAAU,IAAInJ,KAAQ,EAAG,EAAG,GAC5B0X,SAAU,IACVmN,MAAO,EACP/iB,MAAO,GAAK9C,EAAUqG,QACtByf,SAAU,KAS9B,OARuB,qBACvB,gBACK1a,QAAUA,EACf,EAAK2a,MAAQ,UAEiB/mB,IAA1B,EAAKoM,QAAQjB,WACb,EAAKiB,QAAQjB,SAAW,IAAInJ,KAAQ,EAAG,EAAG,IAEtCoK,EAAQ+Z,WACZ,KAAKD,EAAME,UAAUY,YACjB,EAAKC,yBACL,MACJ,KAAKf,EAAME,UAAUc,MACjB,EAAKC,mBACL,MACJ,KAAKjB,EAAME,UAAUgB,KACjB,EAAKC,kBACL,MACJ,KAAKnB,EAAME,UAAUkB,QACjB,EAAKC,qBACL,MACJ,QACI3U,QAAQoB,IAAI,sBAtBG,S,qEA2BvB3V,KAAK0oB,MAAQ,IAAI7nB,IAAuBb,KAAK+N,QAAQ7L,MAAOlC,KAAK+N,QAAQka,WAErEjoB,KAAK+N,QAAQsF,YACbrT,KAAKmpB,gBAETnpB,KAAK0oB,MAAMxQ,OAAS,IAAIrX,KAExB6B,EAAMpB,IAAItB,KAAK0oB,MAAMxQ,QACrBxV,EAAMpB,IAAItB,KAAK0oB,S,2CAIf1oB,KAAK0oB,MAAQ,IAAI7nB,IAAmBb,KAAK+N,QAAQ7L,MAAOlC,KAAK+N,QAAQka,WACrEvlB,EAAMpB,IAAItB,KAAK0oB,S,yCAIf1oB,KAAK0oB,MAAQ,IAAI7nB,KAAiBb,KAAK8M,SAAS5K,MAAOlC,KAAK+N,QAAQka,UAAWjoB,KAAK+N,QAAQsN,UAC5Frb,KAAK0oB,MAAMF,MAAQxoB,KAAK+N,QAAQya,MAChC,IAAMhQ,EAAMxY,KAAK+N,QAAQjB,SACzB9M,KAAK0oB,MAAM5b,SAASzM,IAAImY,EAAI5U,EAAG4U,EAAI3U,EAAG2U,EAAI1U,GAEtC9D,KAAK+N,QAAQsF,YACbrT,KAAKmpB,gBAETzmB,EAAMpB,IAAItB,KAAK0oB,S,wCAGf1oB,KAAK0oB,MAAQ,IAAI7nB,KAAgBb,KAAK+N,QAAQ7L,MAAOlC,KAAK+N,QAAQka,UAAWjoB,KAAK+N,QAAQsN,SAAUrb,KAAK+N,QAAQtI,MAAOzF,KAAK+N,QAAQ0a,SAAUzoB,KAAK+N,QAAQya,OAE5J,IAAMhQ,EAAMxY,KAAK+N,QAAQjB,SACnBoL,EAASlY,KAAK+N,QAAQmK,OAE5BlY,KAAK0oB,MAAM5b,SAASzM,IAAImY,EAAI5U,EAAG4U,EAAI3U,EAAG2U,EAAI1U,GAE1C9D,KAAK0oB,MAAMxQ,OAAOpL,SAASzM,IAAI6X,EAAOtU,EAAGsU,EAAOrU,EAAGqU,EAAOpU,GAEtD9D,KAAK+N,QAAQsF,YACbrT,KAAKmpB,gBAETzmB,EAAMpB,IAAItB,KAAK0oB,MAAMxQ,QACrBxV,EAAMpB,IAAItB,KAAK0oB,S,sCAIf1oB,KAAK0oB,MAAMrV,WAAarT,KAAK+N,QAAQsF,WAErCrT,KAAK0oB,MAAMU,OAAOC,QAAQrnB,MAAQhC,KAAK+N,QAAQma,eAC/CloB,KAAK0oB,MAAMU,OAAOC,QAAQpnB,OAASjC,KAAK+N,QAAQoa,gBAChDnoB,KAAK0oB,MAAMU,OAAOtP,OAAO3X,KAAOnC,KAAK+N,QAAQqa,WAC7CpoB,KAAK0oB,MAAMU,OAAOtP,OAAO1X,IAAMpC,KAAK+N,QAAQsa,UAC5CroB,KAAK0oB,MAAMU,OAAOE,KAAOtpB,KAAK+N,QAAQua,WAEtCtoB,KAAK0oB,MAAMU,OAAOtP,OAAOyP,IAAMvpB,KAAK+N,QAAQwa,iBAC5CvoB,KAAK0oB,MAAMU,OAAOtP,OAAO0P,QAAUxpB,KAAK+N,QAAQwa,iBAChDvoB,KAAK0oB,MAAMU,OAAOtP,OAAO2P,MAAQzpB,KAAK+N,QAAQwa,iBAC9CvoB,KAAK0oB,MAAMU,OAAOtP,OAAO4P,MAAQ1pB,KAAK+N,QAAQwa,mB,+BAK9C,GAAmB,OAAfvoB,KAAK0oB,MAET,GAAI1oB,KAAK+N,QAAQ+Z,YAAcD,EAAME,UAAUY,YAAa,CACxD,IAAMhK,EAAS3G,EAAOlL,SACtB9M,KAAK0oB,MAAM5b,SAASzM,IAAIse,EAAO/a,EAAG,EAAG+a,EAAO7a,EAAI,GAChD9D,KAAK0oB,MAAMxQ,OAAOpL,SAASzM,IAAIL,KAAK+N,QAAQmK,OAAOtU,EAAI+a,EAAO/a,EAAG5D,KAAK+N,QAAQmK,OAAOrU,EAAG7D,KAAK+N,QAAQmK,OAAOpU,EAAI6a,EAAO7a,QAGxH9D,KAAK+N,QAAQ+Z,YAAcD,EAAME,UAAUgB,OAC1C/oB,KAAK0oB,MAAM5b,SAASzM,IAAIL,KAAK+N,QAAQjB,SAASlJ,EAAG5D,KAAK+N,QAAQjB,SAASjJ,EAAG7D,KAAK+N,QAAQjB,SAAShJ,GAChG9D,KAAK0oB,MAAMxQ,OAAOpL,SAASzM,IAAIL,KAAK+N,QAAQmK,OAAOtU,EAAI5D,KAAK+N,QAAQmK,OAAOrU,EAAG7D,KAAK+N,QAAQmK,OAAOpU,Q,GA5H3EuS,GAAdwR,GAEVE,UAAY,CACfY,YAAa,EACbE,MAAO,EACPE,KAAM,EACNE,QAAS,G,ICFIU,G,kDACjB,aAAwM,IAAD,EAA3L5b,EAA2L,uDAAjL,CAAEjB,SAAUnJ,EAAQ4S,KAAMzI,SAAUjI,EAAWY,WAAYuH,KAAM,EAAGC,SAAU,EAAGC,gBAAiB,GAAK+W,QAAS,IAAI9J,EAAQ,GAAK,IAAMhN,YAAa,GAAKhD,OAAQ,EAAIyK,MAAO,IAAK,4BACnM,cAAM7H,EAAQ6H,MAAO,MAAM,GAAO,GAAM,GAAM,EAAOjS,EAAQ4S,KAAM1Q,EAAWY,aAEzEgY,OAAQ,EACb,EAAKpL,YAAa,EAClB,EAAKqC,eAAgB,EACrB,EAAKD,aAAc,EAEnB,EAAK1H,QAAUA,EACf,EAAK3C,MAAQwC,EAAQgc,kBAAkB7b,EAAQ5C,QAC/C,EAAKJ,KAAO,KACZ,EAAK+L,IAAM/I,EAAQ+I,IAEnB,EAAKN,UAAUzI,EAAQ6H,MAAO7H,EAAQ6H,OAAO,GAAO,GACnDE,MAAK,WAEF,IAAIjH,EAAY,IAAIhK,IAAKiK,YACzBD,EAAUE,cACVF,EAAUG,UAAU,IAAInK,IAAKC,UAAU,EAAKiJ,QAAQjB,SAASlJ,EAAG,EAAKmK,QAAQjB,SAASjJ,EAAG,EAAKkK,QAAQjB,SAAShJ,IAC/G+K,EAAUI,YAAY,IAAIpK,IAAK4J,aAAa,EAAKV,QAAQD,SAASlK,EAAG,EAAKmK,QAAQD,SAASjK,EAAG,EAAKkK,QAAQD,SAAShK,EAAG,EAAKiK,QAAQD,SAASxJ,IAC7I,IAAI4K,EAAc,IAAIrK,IAAKsK,qBAAqBN,GAC5CO,EAAe,IAAIvK,IAAKC,UAAU,EAAG,EAAG,GAC5C,EAAKsG,MAAMiE,sBAAsB,EAAKtB,QAAQC,KAAMoB,GACpD,EAAKrE,KAAO,IAAIlG,IAAK2K,YAAY,IAAI3K,IAAK0K,4BAA4B,EAAKxB,QAAQC,KAAMkB,EAAa,EAAK9D,MAAOgE,IAClH,EAAKrE,KAAKkF,mBAAmB,GAE7B,EAAKlF,KAAK0E,YAAY,EAAK1B,QAAQE,UACnC,EAAKlD,KAAK8E,eAAe,EAAK9B,QAAQI,aACtC,EAAKpD,KAAK+H,mBAAmB,EAAK/E,QAAQG,iBAC1C,EAAKnD,KAAK2E,WAAW,EAAK3B,QAAQkX,QAAQrhB,EAAG,EAAKmK,QAAQkX,QAAQphB,GAElE+J,EAAQjD,MAAMK,aAAa,EAAKD,MAChCrI,EAAMqU,cAAN,mBAhC+L,E,qDAuCnM,GAAkB,OAAd/W,KAAK+K,KAAT,CACI,IAAMsb,EAAIrmB,KAAK+K,KAAK2G,oBAAoBuB,YAClCpK,EAAI7I,KAAK+K,KAAK2G,oBAAoBwB,cAEpClT,KAAK4V,OAAS5V,KAAK4V,MAAM7J,OACzB/L,KAAK4V,MAAM7J,KAAKe,SAASzM,IAAIgmB,EAAEziB,IAAKyiB,EAAExiB,IAAKwiB,EAAEviB,KAC7C9D,KAAK4V,MAAM7J,KAAKnE,WAAWvH,IAAIwI,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAE/E,IAAK+E,EAAEvE,KACtDtE,KAAK8M,SAASzM,IAAIgmB,EAAEziB,IAAKyiB,EAAExiB,IAAKwiB,EAAEviB,KAClC9D,KAAK8N,SAASzN,IAAIwI,EAAEjF,IAAKiF,EAAEhF,IAAKgF,EAAE/E,IAAK+E,EAAEvE,W,GAhDvB+R,GCJbwT,G,WACjB,WAAYC,GAAQ,oBAChB9pB,KAAK8pB,OAASA,EACd9pB,KAAK+pB,iBAAkB,E,sDAKnBhqB,EAAM4f,aAAa,MAAQrE,EAAQsE,gBAAgBtE,EAAQE,QAAQK,gBACnE7b,KAAK+pB,iBAAmB/pB,KAAK+pB,mB,mCAKjC/pB,KAAK+pB,gBACL/pB,KAAKgqB,cAELhqB,KAAKiqB,iB,oCAML,GAAsB,OAAlBjS,EAAOE,OAAX,CAGAF,EAAOlL,SAAWnJ,EAAQ2T,IAAIU,EAAOE,OAAOpL,SAAU9M,KAAK8pB,QAC3D9R,EAAOlK,SAAWjI,EAAWqkB,OAAOlS,EAAOlL,SAAUkL,EAAOE,OAAOpL,SAAUnJ,EAAQgC,IAErFqS,EAAOmS,YAAYnS,EAAOlL,UAE1B,IAAMuK,EAAMW,EAAOlK,SAAS+J,QAC5BR,EAAIzT,GAAKjB,EAAUqG,QACnBqO,EAAIxT,GAAKlB,EAAUqG,QACnBqO,EAAIvT,GAAKnB,EAAUqG,QAEnBgP,EAAOoS,OAAO/S,M,qCAKd,GAAsB,OAAlBW,EAAOE,OAAX,CAEAF,EAAOlK,SAAWjI,EAAWqkB,OAAOlS,EAAOlL,SAAUkL,EAAOE,OAAOpL,SAAUnJ,EAAQgC,IACrF,IAAIG,EAAQkS,EAAOE,OAAOpK,SAAS+J,QACnC/R,EAAMlC,GAAKjB,EAAUsD,QACrBH,EAAMjC,GAAKlB,EAAUsD,QACrBH,EAAMhC,GAAKnB,EAAUsD,QAErB,IAAMhC,EAAO4B,EAAWqR,UAAUpR,EAAMlC,EAAGkC,EAAMjC,EAAGiC,EAAMhC,GACtD0C,EAAY,IAAI7C,EAAQ,EAAG,GAAI,GACnC6C,EAAQ6jB,OAAOpmB,GAEfuC,EAAQ3C,EAAImU,EAAOE,OAAOpL,SAASjJ,EAAI,EAEvCmU,EAAOmS,YAAYxmB,EAAQ2T,IAAIU,EAAOE,OAAOpL,SAAWtG,IAExDwR,EAAOC,WAAW4G,OAAO7G,EAAOE,OAAOpL,SAASlJ,EAAGoU,EAAOE,OAAOpL,SAASjJ,EAAGmU,EAAOE,OAAOpL,SAAShJ,Q,KCjDvFwmB,G,4DA0CjBC,K,sBAAO,sBAAArlB,EAAA,sEACU,IAAI8G,SAAQ,SAACC,EAASC,GAC/B,EAAKsS,OAAS,IAAIc,EAAO,SAAU,MAAM,GAAM,GAAM,EAAM,IAAI3b,EAAQ,EAAG,EAAG,GAAIkC,EAAWqR,UAAU,EAAG,IAAK,IAC9G,EAAKsH,OAAOhI,UAAU,SAAU,6BAA6B,GAC5DV,MAAK,WACF,EAAK0I,OAAOxT,aAAa,CACrBiD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,GACbH,KAAM,GACPJ,EAAQ4c,mBAAmB,IAAM,GAAK7mB,EAAQgC,IAAK,IAAIhC,EAAQ,EAAG,EAAG,OAG5E,EAAK8mB,OAAS,IAAIpU,EAAW,SAAU,8BAA8B,GAAO,GAAO,GACnF,EAAKoU,OAAOzf,aAAa,CACrBiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,GACbH,KAAM,GACPJ,EAAQ8c,iBAAiB/mB,EAAQgC,IAAK,IAAIhC,EAAQ,EAAG,EAAK,IAE7D,EAAKgnB,MAAQ,IAAItU,EAAW,QAAS,6BAA6B,GAAO,GAAM,GAAM,EAAM,IAAI1S,EAAQ,EAAG,GAAI,KAE9G,EAAKinB,UAAY,IAAIvU,EAAW,YAAa,iCAAiC,GAAO,GAAM,GAC3F,EAAKuU,UAAUnU,YAAY,IAAI9S,EAAQ,EAAG,GAAI,KAE9C,EAAKknB,KAAO,IAAIxU,EAAW,OAAQ,MAAM,GAAO,GAAM,GAAM,GAC5D,EAAKwU,KAAKrU,UAAU,OAAQ,4BAA4B,GACnDV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKD,KAAKjV,MAAM7J,MACnC+J,MAAK,SAAA1K,GACF,EAAKyf,KAAK7f,aACN,CACIiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAIjD,EAAKonB,WAAa,IAAI1U,EAAW,aAAc,MAAM,GAAO,GAAM,GAAM,GACxE,EAAK0U,WAAWvU,UAAU,aAAc,kCAAkC,GACrEV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKC,WAAWnV,MAAM7J,MACzC+J,MAAK,SAAA1K,GACF,EAAK2f,WAAW/f,aAAa,CACzBiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAI7C,EAAKqnB,YAAc,IAAI3U,EAAW,cAAe,mCAAmC,GAAO,GAAO,GAAM,EAAO,IAAI1S,EAAQ,EAAG,GAAI,KAElI,EAAKsnB,gBAAkB,IAAI5U,EAAW,kBAAmB,MAAM,GAAO,GAAO,GAAM,EAAO,IAAI1S,EAAQ,EAAG,GAAI,KAC7G,EAAKsnB,gBAAgBzU,UAAU,cAAe,uCAAuC,GAChFV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKG,gBAAgBrV,MAAM7J,MAC9C+J,MAAK,SAAA1K,GACF,EAAK6f,gBAAgBjgB,aAAa,CAC9BiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAI7C,EAAKunB,cAAgB,IAAI7U,EAAW,gBAAiB,MAAM,GAAO,GAAM,GAAM,GAG9E,EAAK6U,cAAc1U,UAAU,gBAAiB,qCAAqC,GAC9EV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKI,cAActV,MAAM7J,MAC5C+J,MAAK,SAAA1K,GACF,EAAK8f,cAAclgB,aAAa,CAC5BiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAI7C,EAAKwnB,kBAAoB,IAAI9U,EAAW,oBAAqB,MAAM,GAAO,GAAM,GAAM,GAGtF,EAAK8U,kBAAkB3U,UAAU,oBAAqB,yCAAyC,GAC1FV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKK,kBAAkBvV,MAAM7J,MAChD+J,MAAK,SAAA1K,GACF,EAAK+f,kBAAkBngB,aAAa,CAChCiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAK7CyjB,GAAmBgE,eAAe,IAAIznB,GAAS,OAAQ,GAAI,QAAS,aACpEyjB,GAAmBgE,eAAe,IAAIznB,GAAS,OAAQ,GAAI,OAAS,iBACpEyjB,GAAmBgE,eAAe,IAAIznB,EAAQ,OAAQ,GAAI,QAAS,aACnEyjB,GAAmBgE,eAAe,IAAIznB,EAAQ,QAAS,GAAI,QAAS,aACpE,EAAK0nB,UAAY,IAAIhV,EAAW,YAAa,MAAM,GAAO,GAAM,GAAM,GACtE,EAAKgV,UAAU7U,UAAU,YAAa,iCAAiC,GAClEV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKO,UAAUzV,MAAM7J,MACxC+J,MAAK,SAAA1K,GACF,EAAKigB,UAAUrgB,aAAa,CACxBiD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAM,WAK3C,EAAK2nB,UAAY,IAAIjV,EAAW,YAAa,MAAM,GAAO,GAAM,GAAM,GACtE,EAAKiV,UAAU9U,UAAU,YAAa,iCAAiC,GAClEV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKQ,UAAU1V,MAAM7J,MACxC+J,MAAK,SAAA1K,GACF,EAAKkgB,UAAUtgB,aAAa,CACxBiD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAM,WAInD,EAAK4nB,UAAY,IAAIlV,EAAW,YAAa,MAAM,GAAO,GAAO,GAAM,GACvE,EAAKkV,UAAU/U,UAAU,YAAa,iCAAiC,GAClEV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKS,UAAU3V,MAAM7J,MACxC+J,MAAK,SAAA1K,GACF,EAAKmgB,UAAUvgB,aAAa,CACxBiD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAM,WAI3C,EAAK6nB,eAAiB,IAAInV,EAAW,iBAAkB,MAAM,GAAO,GAAM,GAAM,GAChF,EAAKmV,eAAehV,UAAU,iBAAkB,sCAAsC,GACjFV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKU,eAAe5V,MAAM7J,MAC7C+J,MAAK,SAAA1K,GACF,EAAKogB,eAAexgB,aAAa,CAC7BiD,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,MAAQ,WAkCrD,EAAK8nB,eAAiB,IAAIpV,EAAW,iBAAkB,MAAM,GAAO,GAAM,GAAM,GAChF,EAAKoV,eAAejV,UAAU,iBAAkB,sCAAsC,GACjFV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKW,eAAe7V,MAAM7J,MAC7C+J,MAAK,SAAA1K,GACF,EAAKqgB,eAAezgB,aAAa,CAC7BiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAI7C,EAAK+nB,OAAS,IAAIrV,EAAW,SAAU,MAAM,GAAO,GAAM,GAAM,GAChE,EAAKqV,OAAOlV,UAAU,SAAU,8BAA8B,GACzDV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKY,OAAO9V,MAAM7J,MACrC+J,MAAK,SAAA1K,GACF,EAAKsgB,OAAO1gB,aAAa,CACrBiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAI7C,EAAKgoB,WAAa,IAAItV,EAAW,aAAc,MAAM,GAAO,GAAM,GAAM,GACxE,EAAKsV,WAAWnV,UAAU,aAAc,kCAAkC,GACrEV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKa,WAAW/V,MAAM7J,MACzC+J,MAAK,SAAA1K,GACF,EAAKugB,WAAW3gB,aAAa,CACzBiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAI7C,EAAKioB,OAAS,IAAIvV,EAAW,SAAU,MAAM,GAAO,GAAM,GAAM,GAChE,EAAKuV,OAAOpV,UAAU,SAAU,8BAA8B,GAAM,GAC/DV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKc,OAAOhW,MAAM7J,MACrC+J,MAAK,SAAA1K,GACF,EAAKwgB,OAAO5gB,aAAa,CACrBiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAI7C,EAAKkoB,MAAQ,IAAIxV,EAAW,QAAS,MAAM,GAAO,GAAM,GAAM,GAC9D,EAAKwV,MAAMrV,UAAU,QAAS,6BAA6B,GACtDV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKe,MAAMjW,MAAM7J,MACpC+J,MAAK,SAAA1K,GACF,EAAKygB,MAAM7gB,aAAa,CACpBiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAI7C,EAAKmoB,UAAY,IAAIzV,EAAW,YAAa,MAAM,GAAO,GAAM,GAAM,GACtE,EAAKyV,UAAUtV,UAAU,YAAa,iCAAiC,GAClEV,MAAK,WACFlI,EAAQkd,gBAAgB,EAAKgB,UAAUlW,MAAM7J,MACxC+J,MAAK,SAAA1K,GACF,EAAK0gB,UAAU9gB,aAAa,CACxBiD,SAAU,EACVC,gBAAiB,EACjBC,YAAa,EACbH,KAAM,GACP5C,EAAO,IAAIzH,EAAQ,EAAG,GAAI,WAM7C,EAAK9B,iBAAmB,IAAIgoB,GAAkB,IAAIlmB,EAAQ,EAAG,EAAK,IAClEqU,EAAOG,WAAa,EAAKtW,iBACzBmW,EAAOE,OAAS,EAAKsG,OAErB,EAAKuN,SAAW,IAAIvK,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,GACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,IACXX,SAAU,IACVoB,UAAW,KACXC,WAAY,KACZC,WAAY,KACZhV,KAAM,IACNmU,YAAa,GACbrV,SAAU,IAAInJ,GAAS,MAAO,KAAO,MACrCmK,SAAU,IAAIjI,EAAW,EAAG,KAAO,EAAG,MACtCuc,aAAc,IAAIze,EAAQ,GAAI,EAAG,GACjC+e,UAAW,iCACXe,eAAgB,0CAChBC,gBAAiB,2CACjBqB,UAAW,GACXE,QAAS,KACTE,YAAa,IACbE,aAAc,IACdD,cAAe,EACfI,KAAM,IACNra,OAAQ,IACR0Z,cAAe,KACfb,YAAa,IAAIrgB,GAAS,IAAM,KAAO,MACvCogB,aAAc,IAAIpgB,EAAQ,IAAM,KAAO,MACvCmgB,cAAe,IAAIngB,EAAQ,KAAO,IAAM,MACxCkgB,aAAc,IAAIlgB,GAAS,KAAO,IAAM,QAG5C,EAAK4a,QAAU,IAAIiD,GAAQ,CACvBK,WAAY,GACZC,gBAAiB,GACjBC,eAAgB,IAChBM,UAAW,IACXT,UAAW,EACXF,SAAU,IACVoB,UAAW,KACXC,WAAY,GACZC,WAAY,MACZhV,KAAM,IACNmU,aAAc,IACdrV,SAAU,IAAInJ,GAAS,OAAQ,MAAQ,QACvCmK,SAAU,IAAIjI,EAAW,EAAG,KAAO,EAAG,MACtCuc,aAAc,IAAIze,EAAQ,GAAI,EAAG,GACjC+e,UAAW,6BACXe,eAAgB,sCAChBC,gBAAiB,uCACjBqB,UAAW,IACXE,QAAS,EACTE,YAAa,IACbE,aAAc,EACdD,cAAe,EACfI,KAAM,IACNra,OAAQ,IACR0Z,cAAe,GACfb,YAAa,IAAIrgB,GAAS,MAAQ,MAAQ,MAC1CogB,aAAc,IAAIpgB,EAAQ,MAAQ,MAAQ,MAC1CmgB,cAAe,IAAIngB,EAAQ,MAAQ,KAAO,MAC1CkgB,aAAc,IAAIlgB,GAAS,MAAQ,KAAO,QAG9C,EAAKqoB,SAAW,IAAIxK,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,IACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,IACXX,SAAU,IACVoB,UAAW,KACXC,WAAY,GACZC,WAAY,MACZhV,KAAM,IACNmU,aAAc,GACdrV,SAAU,IAAInJ,GAAS,OAAQ,KAAO,KACtCmK,SAAU,IAAIjI,EAAW,EAAG,KAAO,EAAG,MACtCuc,aAAc,IAAIze,EAAQ,GAAI,EAAG,GACjC+e,UAAW,gCACXe,eAAgB,yCAChBC,gBAAiB,0CACjBqB,UAAW,IACXE,QAAS,GACTE,YAAa,IACbE,aAAc,EACdD,cAAe,EACfI,KAAM,GACNra,OAAQ,IACR0Z,cAAe,KACfb,YAAa,IAAIrgB,GAAS,KAAO,KAAO,KACxCogB,aAAc,IAAIpgB,EAAQ,KAAO,KAAO,KACxCmgB,cAAe,IAAIngB,EAAQ,KAAO,IAAM,KACxCkgB,aAAc,IAAIlgB,GAAS,KAAO,IAAM,OAG5C,EAAKsoB,SAAW,IAAIzK,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,EACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,IACXX,SAAU,IACVoB,UAAW,KACXC,WAAY,IACZC,WAAY,MACZhV,KAAM,IACNmU,YAAa,GACbrV,SAAU,IAAInJ,GAAS,OAAQ,MAAQ,OACvCmK,SAAU,IAAIjI,EAAW,EAAG,KAAO,EAAG,OACtCuc,aAAc,IAAIze,EAAQ,GAAI,EAAG,GACjC+e,UAAW,8BACXe,eAAgB,uCAChBC,gBAAiB,wCACjBqB,UAAW,IACXE,QAAS,IACTE,YAAa,IACbE,aAAc,KACdD,cAAc,EACdI,KAAM,EACNra,OAAQ,IACR0Z,cAAe,IACfb,YAAa,IAAIrgB,GAAS,GAAK,GAAI,IACnCogB,aAAc,IAAIpgB,EAAQ,GAAK,GAAI,IACnCmgB,cAAe,IAAIngB,EAAQ,GAAK,EAAG,KACnCkgB,aAAc,IAAIlgB,GAAS,GAAK,EAAG,OAGvC,EAAKuoB,SAAW,IAAI1K,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,EACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,IACXX,SAAU,IACVoB,UAAW,EACXC,WAAY,IACZC,WAAY,MACZhV,KAAM,IACNmU,aAAc,IACdrV,SAAU,IAAInJ,GAAS,MAAO,MAAQ,OACtCmK,SAAU,IAAIjI,EAAW,EAAG,KAAO,EAAG,MACtCuc,aAAc,IAAIze,EAAQ,GAAI,EAAG,GACjC+e,UAAW,4BACXe,eAAgB,qCAChBC,gBAAiB,sCACjBqB,UAAW,IACXE,QAAS,IACTE,YAAa,IACbE,aAAc,IACdD,cAAe,IACfI,KAAM,IACNra,OAAQ,IACR0Z,cAAe,GACfb,YAAa,IAAIrgB,GAAS,KAAO,IAAM,IACvCogB,aAAc,IAAIpgB,EAAQ,KAAO,IAAM,IACvCmgB,cAAe,IAAIngB,EAAQ,KAAO,GAAK,KACvCkgB,aAAc,IAAIlgB,GAAS,KAAO,GAAK,OAG3C,EAAKuoB,SAAW,IAAI1K,GAAQ,CACxBK,WAAY,GACZC,gBAAiB,EACjBC,eAAgB,IAChBH,UAAW,EACXS,UAAW,GACXX,SAAU,IACVoB,UAAW,EACXC,WAAY,EACZC,WAAY,MACZhV,KAAM,IACNmU,aAAc,IACdrV,SAAU,IAAInJ,GAAS,OAAQ,MAAQ,MACvCmK,SAAU,IAAIjI,EAAW,EAAG,KAAO,EAAG,MACtCuc,aAAc,IAAIze,EAAQ,GAAI,EAAG,GACjC+e,UAAW,6BACXe,eAAgB,sCAChBC,gBAAiB,uCACjBqB,UAAW,GACXE,QAAS,IACTE,YAAa,IACbE,aAAc,IACdD,cAAe,IACfI,KAAM,IACNra,OAAQ,IACR0Z,cAAe,KACfb,YAAa,IAAIrgB,GAAS,MAAQ,IAAM,KACxCogB,aAAc,IAAIpgB,EAAQ,MAAQ,IAAM,KACxCmgB,cAAe,IAAIngB,EAAQ,MAAQ,GAAK,KACxCkgB,aAAc,IAAIlgB,GAAS,MAAQ,GAAK,OAE5CsI,GAAQ,MA5dT,mF,mDAvCHjM,KAAK4B,KAAO,IAAI+nB,GAAK,CACjB7c,SAAU,IAAInJ,EAAQ,EAAK,GAAM,IACjCmK,SAAUjI,EAAWY,WACrBuH,KAAM,GACNC,SAAU,GACVC,gBAAiB,GACjBC,YAAa,IACb8W,QAAS,IAAI9J,EAAQ,GAAK,IAC1BhQ,OAAQ,KACRyK,MAAO,mCAGXlT,EAAMypB,WAAW,UAAW,OAE5BnsB,KAAK0oB,MAAQ,IAAIb,GAAM,CACnBC,UAAWD,GAAME,UAAUY,YAC3BzmB,MAAO,SACP+lB,UAAW,EACX5U,YAAY,EACZ6U,eAAgB,KAChBC,gBAAiB,KACjBC,WAAY,GACZC,UAAW,IACXC,YAAa,MACbC,iBAAkB,GAClBrQ,OAAQ,IAAIvU,GAAS,GAAI,GAAI,KAGjC3D,KAAKosB,aAAe,IAAIvE,GAAM,CAC1BC,UAAWD,GAAME,UAAUkB,QAC3B/mB,MAAO,SACP+lB,UAAW,KAKfjoB,KAAKuqB,OAAOzU,MAAK,iB,+BAqejBgI,EAAeuO,oBAAoBrsB,KAAKwe,OAAO1R,UAC/Csa,GAAmB1lB,OAAO1B,KAAKwe,OAAO1R,c,KC1c/B8a,GAFI,I,WApEf,aAAe,IAAD,gCAkBd0E,aAAe,SAACxT,EAAQ9W,EAAOC,GAC3B,EAAK4W,SAAW,IAAID,EACpB,EAAKC,SAASyT,aAAaxT,EAAQ9W,EAAOC,EAAQ,EAAK6V,SAAShC,MAAK,SAAA+C,GACjEkB,EAAewS,KAAK1T,MAKnB/C,MAAK,gBA1BA,KAmCdgC,QAAU,WAEF,EAAK0U,gBACLlR,EAAQmR,eACR1sB,EAAM4nB,aAGVrM,EAAQ5Z,SACRoI,EAAK4iB,SAIL,EAAKC,SAASjrB,SAEdgB,EAAMhB,SAEFqY,EAAe6S,iBACf7S,EAAehY,SAEf,EAAK8W,SAASgU,OAAOnqB,EAAM0X,WAAYpC,EAAOC,YAElD,EAAK6U,SAAWhjB,EAAKvG,UACrB,EAAKwpB,MACD,EAAKD,SAAW,IAEhB,EAAKC,IAAM,EACX,EAAKD,QAAU,GAGnBlf,EAAQlM,UA/DR1B,KAAK+sB,IAAM,EACX/sB,KAAK8sB,QAAU,EAEf9sB,KAAK2sB,SAAW,IAAIrC,GACpBtqB,KAAK2sB,SAASK,O,mDAMdC,sBAAsBjtB,KAAK8X,W,2CAEV2P,EAAW+E,GAC5BxsB,KAAKynB,UAAYA,EACjBznB,KAAKwsB,YAAcA,I,oCAiBnB,OAAOxsB,KAAK6Y,SAASA,a,wDCtCd,YAAAqU,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfjE,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJznB,MAAO,OACP6M,UAAU,cAAD,OAVL,GAUK,eATJ,GASI,OAEb4e,MAAO,CACHC,gBAAiB,OAASC,KAAkB,IAC5CC,mBAAoB,SACpBC,iBAAkB,YAClBC,eAAgB,UAChB9rB,MAAO,OACP+rB,SAAU,MACV9rB,OAAQ,MACR+rB,OAAQ,QAEZC,UAAW,CACPjsB,MAAO,OACPgsB,OAAQ,OACR9rB,MAAO,SAEXgsB,YAAa,CACTlsB,MAAO,OACPgsB,OAAQ,OACR9rB,MAAO,SAEXisB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNpsB,MAAO,QACPE,MAAO,SAEXmsB,YAAa,CACTC,UAAW,OACXpsB,MAAO,UAyBTqsB,EArBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF5hB,SAAU,WACV9K,MAAO,QACP+rB,SAAU,QACV9rB,OAAQ,MACR0sB,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbtR,OAAQ,CACJgR,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAIDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOI,QAEnB,yBAAK+B,MAAOnC,EAAOY,WAAnB,uKAIA,yBAAKuB,MAAOnC,EAAOY,WACf,yBAAKuB,MAAOnC,EAAOa,aAAnB,gCACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,6CACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,gFACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,4BACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,iDACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,sFACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,yBACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,wDACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,sCAGJ,yBAAKsB,MAAO,CAAExtB,MAAO,SAEjB,yBAAKwtB,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,oBADJ,IAC0D,uBAAGsB,KAAK,8DAA8DxX,OAAO,SAASyX,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAzI,eAG1D,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,sBADJ,KAC6D,uBAAGsB,KAAK,6EAA6ExX,OAAO,SAASyX,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAxJ,mBAG7D,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,YADJ,KACmD,uBAAGsB,KAAK,6BAA6BxX,OAAO,SAASyX,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAxG,yBAKvD,kBAAC,KAAD,CAAQJ,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQ5Q,OAAQkS,QAASzC,GAAvE,Y,oBCnHD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfjE,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJ5a,UAAU,cAAD,OATL,GASK,eARJ,GAQI,MACT7M,MAAO,QAEXyrB,MAAO,CACHC,gBAAiB,OAASoC,KAAsB,IAChDlC,mBAAoB,SACpBC,iBAAkB,YAClBC,eAAgB,UAChB9rB,MAAO,OACPC,OAAQ,MACR+rB,OAAQ,QAEZC,UAAW,CACPjsB,MAAO,OACPgsB,OAAQ,OACR9rB,MAAO,SAEXgsB,YAAa,CACTlsB,MAAO,OACPgsB,OAAQ,OACR9rB,MAAO,SAEXisB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNpsB,MAAO,QACPE,MAAO,SAEXmsB,YAAa,CACTC,UAAW,OACXpsB,MAAO,UA0BTqsB,EAtBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF5hB,SAAU,WACV9K,MAAO,QACPC,OAAQ,MACR0sB,gBAAiB,uBACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,OACTlB,SAAU,SAEdpQ,OAAQ,CACJgR,gBAAiB,0BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAKDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAGjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOI,QAEnB,yBAAK+B,MAAOnC,EAAOY,WAAnB,iIAIA,yBAAKuB,MAAOnC,EAAOY,WACf,yBAAKuB,MAAOnC,EAAOa,aAAnB,mCACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,4BACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,+DACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,sFACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,yBACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,yBAGJ,yBAAKsB,MAAO,CAAExtB,MAAO,SAEjB,yBAAKwtB,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,oBADJ,IAC0D,uBAAGsB,KAAK,+EAA+ExX,OAAO,SAASyX,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA1J,uBAG1D,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,sBADJ,KAC6D,uBAAGsB,KAAK,iFAAiFxX,OAAO,SAASyX,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA5J,2BAG7D,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,YADJ,KACmD,uBAAGsB,KAAK,mCAAmCxX,OAAO,SAASyX,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA9G,oBAKvD,kBAAC,KAAD,CAAQJ,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQ5Q,OAAQkS,QAASzC,GAAvE,Y,oBCjHD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfjE,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJ5a,UAAU,cAAD,OATL,GASK,eARJ,GAQI,MACT7M,MAAO,QAEXyrB,MAAO,CACHC,gBAAiB,OAASqC,KAAkB,IAC5CjC,eAAgB,UAChBF,mBAAoB,SACpBC,iBAAkB,YAClB7rB,MAAO,OACPC,OAAQ,MACR+rB,OAAQ,OAEZC,UAAW,CACPjsB,MAAO,OACPgsB,OAAQ,OACR9rB,MAAO,SAEXgsB,YAAa,CACTlsB,MAAO,OACPgsB,OAAQ,OACR9rB,MAAO,SAEXisB,YAAa,CACTZ,QAAS,OACTC,cAAe,OAEnBY,SAAU,CACNpsB,MAAO,QACPE,MAAO,SAEXmsB,YAAa,CACTC,UAAW,OACXpsB,MAAO,UA0BTqsB,EAtBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF5hB,SAAU,WACV9K,MAAO,QACP+rB,SAAU,QACV9rB,OAAQ,MACR0sB,gBAAiB,YACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbtR,OAAQ,CACJgR,gBAAiB,UACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAKDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAOI,QAEnB,yBAAK+B,MAAOnC,EAAOY,WAAnB,wQAKA,yBAAKuB,MAAOnC,EAAOY,WACf,yBAAKuB,MAAOnC,EAAOa,aAAnB,qCACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,aACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,2DACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,kDACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,4DACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,qFACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,6EACA,yBAAKsB,MAAOnC,EAAOa,aAAnB,uFAGJ,yBAAKsB,MAAO,CAAExtB,MAAO,SAEjB,yBAAKwtB,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,YADJ,KACmD,uBAAGsB,KAAK,wBAAwBxX,OAAO,SAASyX,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAAnG,sBAEnD,yBAAKJ,MAAOnC,EAAOc,aACf,0BAAMqB,MAAOnC,EAAOe,UAApB,WADJ,IACiD,uBAAGsB,KAAK,+BAA+BxX,OAAO,SAASyX,IAAI,sBAAsBH,MAAO,CAAEI,eAAgB,SAA1G,kCAIrD,kBAAC,KAAD,CAAQJ,MAAOnC,EAAOgB,YAAaoB,UAAWlB,EAAQ5Q,OAAQkS,QAASzC,GAAvE,YC9GD,YAAAF,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAEZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfwC,eAAgB,SAChBhuB,MAAO,QACPC,OAAQ,SAEZguB,MAAO,CACHjuB,MAAO,OACPgsB,OAAQ,OACR9rB,MAAO,QACPguB,SAAU,OACVC,UAAW,SACXrjB,SAAU,YAEdsjB,YAAa,CACT7C,QAAS,OACTC,cAAe,SACfc,UAAW,OACXpsB,MAAO,QACP8tB,eAAgB,UAEpBK,QAAS,CACL/B,UAAW,OACXpsB,MAAO,UAyBTqsB,EArBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF5hB,SAAU,WACV9K,MAAO,IACPC,OAAQ,MACR0sB,gBAAiB,4BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbtR,OAAQ,CACJgR,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzB9sB,MAAO,MACP+sB,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAIDC,GAUhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,6BACI,yBAAKC,MAAOnC,EAAO4C,OAAnB,qBAGA,yBAAKT,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAGzC,yBAAKc,MAAOnC,EAAO+C,aACf,kBAAC,KAAD,CAAQZ,MAAOnC,EAAOgD,QAASZ,UAAWlB,EAAQ5Q,OAAQkS,QAvB9E,WACIzC,MAsBgB,YACA,kBAAC,KAAD,CAAQoC,MAAOnC,EAAOgD,QAASZ,UAAWlB,EAAQ5Q,OAAQkS,QApB9E,cAoBoB,oBC/ET,YAAA3C,GAAU,IACbC,EAAuBD,EAAvBC,OAAQC,EAAeF,EAAfE,WAKZC,EAAS,CACTC,MAAO,CACHC,QAAS,OACTC,cAAe,SACfjE,IAAI,GAAD,OAPC,GAOD,KACHE,KAAK,GAAD,OAPC,GAOD,KACJznB,MAAO,OACP6M,UAAU,cAAD,OAVL,GAUK,eATJ,GASI,OAEbohB,MAAO,CACHjuB,MAAO,OACPgsB,OAAQ,OACR9rB,MAAO,SAEXmuB,QAAS,CACL/B,UAAW,OACXpsB,MAAO,UAwBTqsB,EApBYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACF5hB,SAAU,WACV9K,MAAO,IACPC,OAAQ,MACR0sB,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,QAEbtR,OAAQ,CACJgR,gBAAiB,2BACjBC,OAAQ,iBACRC,UAAWJ,EAAMK,QAAQ,GACzBC,QAASN,EAAMO,QAAQ,EAAG,EAAG,GAC7BC,QAAS,WAIDC,GAEhB,OACI,kBAACC,GAAA,EAAD,CACIC,KAAMjC,EACNkC,QAASjC,EACTkC,kBAAgB,qBAChBC,mBAAiB,4BAGjB,yBAAKC,MAAOnC,EAAOC,MAAOmC,UAAWlB,EAAQG,MAEzC,yBAAKc,MAAOnC,EAAO4C,OAAnB,qBAIA,kBAAC,KAAD,CAAQT,MAAOnC,EAAOgD,QAASZ,UAAWlB,EAAQ5Q,OAAQkS,QAASzC,GAAnE,Y,+sCC7DKkD,G,kDAEjB,WAAYpD,GAAQ,IAAD,8BACf,cAAMA,IAQVqD,UAAY,SAACC,GACT,EAAKC,UAAY,EACjB,EAAKC,SAAS,CAACC,MAAOH,KAXP,EAcnBI,eAAiB,WACb,EAAKH,YAED,EAAKA,WAAa,IAClB,EAAKA,UAAY,EACjB,EAAKC,SAAS,CAACC,MAAO,WAjB1B,EAAK7e,MAAQ,CACT6e,MAAO,QAEX,EAAKF,UAAY,EACjBnV,EAAQoB,eAAiB,EAAK6T,UANf,E,qDAwBf,IAAIxuB,GAAS,EAEY,cAArB/B,KAAK8R,MAAM6e,OAA8C,iBAArB3wB,KAAK8R,MAAM6e,QAC/C5uB,GAAS,GAOb,OACI,yBAAKytB,MALM,CACP1iB,SAAU,QAAS9K,MAAO,QAASC,OAAQ,QAAS8sB,QAAS,EAAGf,OAAQ,EAAG6C,SAAU,SAAUC,OAAQ,IAKtG/uB,EAAS/B,KAAK+wB,kBAAoB,Q,wCAO3C,IAAMC,EAAQC,aAAH,MAOLC,EAAOD,aAAH,MAQJE,EAAOF,aAAH,MAOJG,EAAQC,KAAOC,KAAV,KAWON,EAAeE,EAAaC,GAK9C,OACI,kBAACC,EAAD,CAAOR,eAAgB5wB,KAAK4wB,gBACxB,kBAAC,KAAD,CAAiB1uB,MAAM,WAAWqvB,KAAK,KAAKC,KAAMC,OADtD,YAC6EzxB,KAAK8R,MAAM6e,W,GArF7De,IAAMC,WCCxBC,G,kDAEjB,WAAY1E,GAAQ,IAAD,8BACf,cAAMA,IAUV2E,iBAAmB,WACf,EAAKnB,SAAS,CAAEmB,kBAAkB,KAZnB,EA+BnBzE,WAAa,WACT,EAAKsD,SAAS,CAAEoB,aAAc,UAhCf,EAmCnBrK,UAAY,SAAC6F,GACT,EAAKoD,SAAS,CAAEoB,aAAcxE,KApCf,EAuCnBd,YAAc,WACV,MAAmC,SAA5B,EAAK1a,MAAMggB,cAtClB,EAAKhZ,OAAS,KACd,EAAKiZ,UAAW,EAChB,EAAKjgB,MAAQ,GAGbwJ,EAAQ0W,kBAAoB,EAAKH,iBACjCI,OAAO3U,iBAAiB,SAAU,EAAK4U,cARxB,E,2DAgBfxvB,EAAMyvB,cAAcC,SAASrnB,KAAKsnB,YAAaD,SAASrnB,KAAKunB,cAC7Dta,EAAOua,UAAU,GAAI7vB,EAAMxB,YAAa,GAAK,KAE7C0mB,GAAW4K,cAAcpZ,QAAQ1W,EAAM1B,YAAa0B,EAAMzB,gB,uCAG7CgV,GACb1B,QAAQoB,IAAIM,K,2CAGKA,GACjB1B,QAAQoB,IAAIM,K,+BAiBZ,OACI,yBAAKuZ,MAAO,CAAE1iB,SAAU,WAAY9K,MAAO,QAASC,OAAQ,QAAS8sB,QAAS,EAAGf,OAAQ,EAAG6C,SAAU,SAAUC,OAAQ,IACpH,kBAAC,GAAD,MACA,yBAAKtB,MAAO,CAAE1iB,SAAU,WAAY9K,MAAO,QAASC,OAAQ,QAAS8sB,QAAS,EAAGf,OAAQ,EAAG6C,SAAU,SAAUC,OAAQ,U,GAjDhGY,IAAMC,WCKzBc,G,kDAEjB,WAAYvF,GAAQ,IAAD,8BACf,cAAMA,IAiBV3C,KAAO,WAEC,EAAKwH,WAET,EAAKA,UAAW,EAChBrvB,EAAMyvB,cAAcC,SAASrnB,KAAKsnB,YAAaD,SAASrnB,KAAKunB,cAC7Dta,EAAOua,UAAU,GAAI7vB,EAAMxB,YAAa,GAAK,KAC7C0mB,GAAW0E,aAAa,EAAKxT,OAAQpW,EAAM1B,YAAa0B,EAAMzB,cAE9D,EAAK6X,OAAOiC,UA3BG,EAiDnB2X,WAAa,WACT3yB,EAAM4nB,aAlDS,EAqDnByF,WAAa,WACT,EAAKsD,SAAS,CAACoB,aAAc,UAtDd,EAyDnBrK,UAAY,SAAC6F,GACT,EAAKoD,SAAS,CAACoB,aAAcxE,KA1Dd,EA6DnBd,YAAc,WACV,MAAmC,SAA5B,EAAK1a,MAAMggB,cA5DlB,EAAKhZ,OAAS,KACd,EAAKiZ,UAAW,EAChB,EAAKjgB,MAAQ,CACTggB,aAAc,QAGlBM,SAAS9U,iBAAiB,UAAW,EAAKqV,gBAC1CP,SAAS9U,iBAAiB,QAAS,EAAKsV,aATzB,E,gEAcfhL,GAAWiL,qBAAqB7yB,KAAKynB,UAAWznB,KAAKwsB,aACrD5E,GAAWoF,S,uCAeE/W,GACb1B,QAAQoB,IAAIM,K,2CAGKA,GACjB1B,QAAQoB,IAAIM,K,qCAEDA,GACXA,EAAE6c,iBACF7c,EAAE8c,kBACFhzB,EAAMizB,OAAO/c,EAAE7V,O,kCAGP6V,GACRA,EAAE6c,iBACF7c,EAAE8c,kBACFhzB,EAAMkzB,UAAUhd,EAAE7V,O,+BAmBZ,IAAD,OACL,OACI,yBAAMovB,MAAO,CAAIxtB,MAAO,QAASC,OAAO,QAAS8sB,QAAQ,EAAGf,OAAO,EAAG6C,SAAS,WAC3E,kBAAC,GAAD,MACA,4BAAQrB,MAAO,CAAEP,QAAS,OAAQ1B,QAAS,QAASvrB,MAAO,QAASC,OAAQ,QAAS6K,SAAS,SAAUomB,SAAS,IAAIC,IAAK,SAACC,GAAQ,EAAKta,OAASsa,EAAG,EAAK7I,QAAW8I,OAAQrzB,KAAK0yB,aAFrL,MAII,kBAACY,GAAD,CAAgBnG,OAAoC,cAA5BntB,KAAK8R,MAAMggB,aAA8B1E,WAAYptB,KAAKotB,aAClF,kBAACmG,GAAD,CAAoBpG,OAAoC,kBAA5BntB,KAAK8R,MAAMggB,aAAkC1E,WAAYptB,KAAKotB,aAC1F,kBAACoG,GAAD,CAAgBrG,OAAoC,cAA5BntB,KAAK8R,MAAMggB,aAA8B1E,WAAYptB,KAAKotB,aAClF,kBAAC,GAAD,CAAeD,OAAoC,cAA5BntB,KAAK8R,MAAMggB,aAA8B1E,WAAYptB,KAAKotB,WAAYqG,UAAWzzB,KAAKynB,YAC7G,kBAAC,GAAD,CAAiB0F,OAAoC,gBAA5BntB,KAAK8R,MAAMggB,aAAgC1E,WAAYptB,KAAKotB,WAAYqG,UAAWzzB,KAAKynB,iB,GA7E/FiK,IAAMC,W,u/BCNnB+B,G,kDAEjB,WAAYxG,GAAQ,IAAD,8BACf,cAAMA,IAgBVyG,QAAU,WAQN,GAPIjxB,EAAMqvB,aACN,EAAKrB,SAAS,CAAEkD,QAAQ,IACxBC,cAAc,EAAKC,kBAGvB,EAAKC,OAASjqB,EAAKvG,UAEf,EAAKwwB,OAAS,GAAK,CACnB,EAAKA,MAAQ,EACb,IAAIC,EAAQ,EAAKliB,MAAMmiB,eACvBD,GAASA,EAAQ,GAAK,EAEtB,EAAKtD,SAAS,CAAEuD,eAAgBD,IAG/BtxB,EAAMqvB,YACPE,OAAOhF,sBAAsB,EAAK0G,UAlCvB,EAqCnBO,UAAY,WACRtT,GAAMuT,mBAtCS,EAqDnBvD,eAAiB,SAAC3a,GACdA,EAAE8c,kBACF,EAAKrC,SAAS,CAAE0D,UAAU,KAvDX,EA0DnBC,aAAe,SAACpe,GAEZA,EAAE8c,kBACE,EAAKuB,kBACT,EAAKA,iBAAkB,EACvB,EAAKJ,YACL,EAAKxD,SAAS,CAAE6D,MAAM,MA9DtB,EAAKziB,MAAQ,CACTmiB,eAAgB,EAChBL,QAAQ,EACRQ,UAAU,EACVG,MAAM,GAEV,EAAKD,iBAAkB,EACvB,EAAKP,MAAQ,EATE,E,gEAcf9B,OAAOhF,sBAAsBjtB,KAAK2zB,W,sCA8BlC,OACI,yBAAKnE,MAAO,CAAEgF,WAAY,QAASxyB,MAAO,OAAQC,OAAQ,OAAQ6K,SAAU,WAAYyc,IAAK,EAAGE,KAAM,IAClG,yBAAK+F,MAAO,CAAEgF,WAAY,QAASxyB,MAAO,QAASC,OAAQ,QAAS6K,SAAU,WAAYyc,IAAK,EAAGE,KAAM,EAAGD,OAAQ,EAAGE,MAAO,EAAGsE,OAAQ,OAAQkC,SAAU,MAAOW,SAAU,WAA3K,WAJO,IAKa4D,OAAOz0B,KAAK8R,MAAMmiB,oB,mCAqB9C,IAAMS,EAAUzD,aAAH,MAKP0D,EAAOtD,KAAOuD,IAAV,KAWI50B,KAAK8R,MAAMyiB,KAAOG,EAAU,MAIpCG,EAASxD,KAAO1T,OAAV,MAgBZ,OAEI,kBAACgX,EAAD,CAAM/D,eAAgB5wB,KAAK4wB,gBACvB,kBAACiE,EAAD,CAAQhF,QAAS7vB,KAAKq0B,cAAtB,c,+BAQR,OAAQr0B,KAAK8R,MAAM8hB,OAAiC5zB,KAAK8R,MAAMsiB,SAA+B,KAApBp0B,KAAK80B,aAAnD90B,KAAK+0B,oB,GArHJrD,IAAMC,WCW5BqD,G,uKATX,OACE,6BACG,kBAAC,GAAD,MACA,kBAAC,GAAD,CAASxF,MAAO,CAAC1iB,SAAU,WAAYgkB,OAAO,U,GANrCY,IAAMC,WCOJsD,QACW,cAA7BhD,OAAOiD,SAASC,UAEe,UAA7BlD,OAAOiD,SAASC,UAEhBlD,OAAOiD,SAASC,SAASC,MACvB,2DCZNC,IAAStzB,OAEP,kBAAC,IAAMuzB,WAAP,KACE,kBAAC,GAAD,OAGFlD,SAASmD,eAAe,SDuHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB5f,MAAK,SAAA6f,GACJA,EAAaC,gBAEd5f,OAAM,SAAA1B,GACLC,QAAQD,MAAMA,EAAMuhB,c","file":"static/js/main.3ef22652.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/roadracerlogo.bc79bb73.png\";","module.exports = __webpack_public_path__ + \"static/media/mightychickenlogo.58923630.png\";","module.exports = __webpack_public_path__ + \"static/media/pawsnfind.3a4c06f8.png\";","import InputManager from './InputManager';\n\nlet Input = null;\n\nif (Input === null)\n    Input = new InputManager();\n\nexport default Input;","export default class InputManager {\n    constructor() {\n        this.keyDown = new Map();\n        this.keyPressed = new Map();\n    }\n\n    addKey(key) {\n        this.keyDown.set(key.toLowerCase(), 1);\n        if (this.keyPressed.get(key.toLowerCase()) !== 2) {\n            this.keyPressed.set(key.toLowerCase(), 1);\n        }\n    }\n\n    removeKey(key) {\n        this.keyDown.delete(key.toLowerCase());\n        this.keyPressed.delete(key.toLowerCase());\n    }\n\n    isKeyDown(key) {\n        return this.keyDown.has(key.toLowerCase());\n    }\n\n    isKeyPressed(key) {\n\n        if (this.keyPressed.has(key.toLowerCase()) && this.keyPressed.get(key.toLowerCase()) === 1) {\n            this.keyPressed.set(key.toLowerCase(), 2);\n            return true;\n        }\n\n        return false;\n    }\n\n    clearKeys() {\n        this.keyDown.clear();\n        this.keyPressed.clear();\n    }\n\n    json(){\n        return {\n            keyDown: this.keyDown,\n            keyPressed: this.keyPressed\n        }\n    }\n}","import * as THREE from \"three\";\n\nclass SceneManager {\n\n    static FOG_TYPE = {\n        LINEAR: 0,\n        EXPONENTIAL: 1,\n    };\n\n    constructor() {\n        this.scene = new THREE.Scene();\n        this.enabledObjects = {};\n        this.disabledObjects = {};\n        this.screenWidth = 1024;\n        this.screenHeight = 600;\n        this.aspectRatio = 1024 / 600;\n        this.objectLoading = 0;\n        this.objectLoaded = 0;\n    }\n\n    add(obj) {\n        this.scene.add(obj);\n    }\n\n    addGameObject(obj) {\n\n        if (obj.objID in this.disabledObjects)\n            this.enableObject(obj);\n        else\n            if (!(obj.objID in this.enableObject))\n                this.enabledObjects[obj.objID] = obj;\n    }\n\n    getScene() {\n        return this.scene;\n    }\n\n    enableObject(obj) {\n        if (obj.objID in this.disabledObjects) {\n            this.enabledObjects[obj.objID] = obj;\n            delete this.disabledObjects[obj.objID];\n        }\n    }\n\n    disableObject(obj) {\n        if (obj.objID in this.enableObjects) {\n            this.disabledObjects[obj.objID] = obj;\n            delete this.enabledObjects[obj.objID];\n        }\n    }\n\n    deleteObject(obj){\n       // const object = this.scene.getObjectByProperty( 'uuid', obj.objID );\n    }\n\n    update() {\n\n        for (let obj in this.enabledObjects) {\n            this.enabledObjects[obj].update();\n        }\n\n        if (this.ball !== undefined && this.ball !== null)\n            this.cameraController.ball = this.ball;\n\n        for (let obj in this.enabledObjects) {\n            this.enabledObjects[obj].lateUpdate();\n        }\n        \n        for (let obj in this.enabledObjects) {\n            this.enabledObjects[obj].render();\n        }\n    }\n\n    setScreenSize(width, height) {\n        this.screenWidth = width;\n        this.screenHeight = height;\n\n        this.aspectRatio = width / height;\n    }\n\n    setLinearFog(color, near, far) {\n        this.scene.fog = new THREE.Fog(color, near, far);\n    }\n\n    setExpoFog(color, density) {\n        this.scene.fog = new THREE.FogExp2(color, density);\n    }\n\n    isLoaded(){\n        return this.objectLoaded === this.objectLoading && this.objectLoading !== 0;\n    }\n}\n\nconst Scene = new SceneManager();\n\nexport default Scene;","export default class MathTools {\n    static get rad2Deg() {\n        return 180.0 / Math.PI;\n    }\n\n    static get deg2Rad() {\n        return Math.PI / 180.0;\n    }\n\n    static approximate(v1, v2) {\n        if (v1 > v2 - Number.EPSILON && v1 < v2 + Number.EPSILON)\n            return true;\n\n        return false;\n    }\n\n    static clamp(value, min, max) {\n        let minVal = min;\n        let maxVal = max;\n\n        if (min > max) {\n            minVal = max;\n            maxVal = min;\n        }\n\n        if (value < minVal)\n            return minVal;\n\n        if (value > maxVal)\n            return maxVal;\n\n        return value;\n    }\n\n    static moveTowards(from, to, deltaTime) {\n\n        if (Math.abs(from - to) <= deltaTime) return from;\n\n        return from + ((to - from) * deltaTime);\n    }\n}","import * as THREE from \"three\";\nimport MathTools from './MathTools';\nimport Ammo from 'ammo.js';\n\nexport default class Vector3 {\n\n    constructor(x = 0.0, y = 0.0, z = 0.0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        \n  \n    }\n\n    set(x, y, z){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n\n        return this;\n    }\n\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n\n    magnitude() {\n        return this.length();\n    }\n\n    rotate(quat){\n        let v = new Vector3(quat.x, quat.y, quat.z);\n\n        const d1 = 2.0 * Vector3.Dot(v, this);\n        const d2 = (quat.w * quat.w - Vector3.Dot(v, v));\n        \n        let vOut = new Vector3();\n\n        vOut.x = d1 * v.x;\n        vOut.y = d1 * v.y;\n        vOut.z = d1 * v.z;\n\n        vOut.x += d2 * this.x;\n        vOut.y += d2 * this.y;\n        vOut.z += d2 * this.z;\n\n        let c1 = Vector3.Cross(v, this);\n\n        vOut.x += 2.0 * quat.w * c1.x;\n        vOut.y += 2.0 * quat.w * c1.y;\n        vOut.z += 2.0 * quat.w * c1.z;\n\n        this.x = vOut.x;\n        this.y = vOut.y;\n        this.z = vOut.z;\n    }\n\n    normalize() {\n        let mag = this.magnitude();\n\n        if (MathTools.approximate(mag, 0.0)) {\n            this.x = 0.0;\n            this.y = 0.0;\n            this.z = 0.0;\n\n            return;\n        }\n\n        this.x /= mag;\n        this.y /= mag;\n        this.z /= mag;\n\n        return this;\n    }\n\n    negate() {\n        this.x *= -1.0;\n        this.y *= -1.0;\n        this.z *= -1.0;\n    }\n\n    to3jsV3() {\n        return new THREE.Vector3(this.x, this.y, this.z);\n    }\n\n    to_btVector3() {\n        return new Ammo.btVector3(this.x, this.y, this.z);\n    }\n\n    toString() {\n        return '( x: ' + this.x + '  y: ' + this.y + '  z: ' + this.z + ' )';\n    }\n\n    static get zero() { return new Vector3(0.0, 0.0, 0.0); }\n    static get one() { return new Vector3(1.0, 1.0, 1.0); }\n    static get up() { return new Vector3(0.0, 1.0, 0.0); }\n    static get down() { return new Vector3(0.0, -1.0, 0.0); }\n    static get forward() { return new Vector3(0.0, 0.0, -1.0); }\n    static get back() { return new Vector3(0.0, 0.0, 1.0); }\n    static get left() { return new Vector3(-1.0, 0.0, 0.0); }\n    static get right() { return new Vector3(1.0, 0.0, 0.0); }\n\n    static Add(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x + v2.x;\n        v.y = v1.y + v2.y;\n        v.z = v1.z + v2.z;\n\n        return v;\n    }\n\n    static Subtract(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x - v2.x;\n        v.y = v1.y - v2.y;\n        v.z = v1.z - v2.z;\n\n        return v;\n    }\n\n    static Multiply(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x * v2.x;\n        v.y = v1.y * v2.y;\n        v.z = v1.z * v2.z;\n\n        return v;\n    }\n\n\n    static AddScalar(v1, scalar) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x + scalar;\n        v.y = v1.y + scalar;\n        v.z = v1.z + scalar;\n\n        return v;\n    }\n\n    static SubtractScalar(v1, scalar) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x - scalar;\n        v.y = v1.y - scalar;\n        v.z = v1.z - scalar;\n\n        return v;\n    }\n\n    static MultiplyScalar(v1, scalar) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n        v.x = v1.x * scalar;\n        v.y = v1.y * scalar;\n        v.z = v1.z * scalar;\n\n        return v;\n    }\n\n    static Cross(v1, v2) {\n        let v = new Vector3(0.0, 0.0, 0.0);\n\n        v.x = v1.y * v2.z - v1.z * v2.y;\n        v.y = v1.z * v2.x - v1.x * v2.z;\n        v.z = v1.x * v2.y - v1.y * v2.x;\n\n        return v;\n    }\n\n    static Distance(v1, v2) {\n        let delta = Vector3.Subtract(v2, v1);\n\n        let distance = Math.sqrt(delta.x * delta.x + delta.y * delta.y + delta.z * delta.z);\n\n        return distance;\n    }\n\n    static Lerp(a, b, t)\n    {\n        let out = b;\n        out.x = b.x - a.x;\n        out.y = b.y - a.y;\n        out.z = b.z - a.z;\n\n        out.x *= MathTools.clamp(t, 0.0, 1.0);\n        out.y *= MathTools.clamp(t, 0.0, 1.0);\n        out.y *= MathTools.clamp(t, 0.0, 1.0);\n\n        a.x += out.x;\n        a.y += out.y;\n        a.z += out.z;\n\n        return a;\n    }\n\n\n    static Dot(v1, v2) {\n        return v1.x * v2.x + v1.y * v2.y + v1.z * v2.z;\n    }\n\n    static Normalize(v1) {\n        v1.normalize();\n        return v1;\n    }\n\n    static Equals(v1, v2) {\n        return (v1.x > v2.x - Number.EPSILON && v1.x < v2.x + Number.EPSILON) &&\n            (v1.y > v2.y - Number.EPSILON && v1.y < v2.y + Number.EPSILON) &&\n            (v1.z > v2.z - Number.EPSILON && v1.z < v2.z + Number.EPSILON);\n    }\n\n    static Angle(v1, v2) {\n        let cp = Vector3.Cross(v1, v2);\n\n        let angle = Math.atan2(cp.length(), Vector3.Dot(v1, v2));\n\n        return Vector3.Dot(cp, Vector3.up) < 0 ? -angle : angle;\n    }\n\n    static Negate(v1) {\n        let vec = v1;\n        vec.x *= -1.0;\n        vec.y *= -1.0;\n        vec.z *= -1.0;\n\n        return vec;\n    }\n\n    static toBTV3(v) {\n        return new Ammo.btVector3(v.x, v.y, v.z);\n    }\n\n    static toJSV3(v) {\n        return new THREE.Vector3(v.x, v.y, v.z);\n    }\n}","import Vector3 from './Vector3';\nimport MathTools from './MathTools';\n\nexport default class  Quaternion {\n\n    constructor(x = 0.0, y = 0.0, z = 0.0, w = 1.0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n\n        this.euler = new Vector3(0,0,0);\n    }\n    set(x, y, z, w){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n\n    Normalize() {\n        const scale = 1.0 / this.Length();\n        this.x *= scale;\n        this.y *= scale;\n        this.z *= scale;\n        this.w *= scale;\n    }\n\n    Inverse() {\n        return new Quaternion(this.x, this.y, this.z, -this.w);\n    }\n\n    Negate() {\n        return new Quaternion(-this.x, -this.y, -this.z, this.w);\n    }\n\n    Euler() {\n        this.euler.y = Math.atan2(2.0 * this.w * this.y + 2.0 * this.z * this.x, 1.0 - 2.0 * (this.x * this.x + this.y * this.y)) * MathTools.rad2Deg;\n        this.euler.x = Math.asin(2.0 * (this.w * this.x - this.y * this.z)) * MathTools.rad2Deg;\n        this.euler.z = Math.atan2(2.0 * this.w * this.z + 2.0 * this.x * this.y, 1.0 - 2.0 * (this.z * this.z + this.x * this.x)) * MathTools.rad2Deg;\n\n        return this.euler;\n    }\n\n    Length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n    }\n\n    LengthSquared() {\n        return (this.x * this.x + this.y * this.y + this.z * this.z) + this.w * this.w;\n    }\n\n    static LookAt(sourcePoint, destPoint, up) {\n        let forwardVector = Vector3.Normalize(Vector3.Subtract(destPoint, sourcePoint));\n\n        let dot = Vector3.Dot(Vector3.forward, forwardVector);\n\n        if (Math.abs(dot - (-1.0)) < 0.000001) {\n            return new Quaternion(Vector3.up.x, Vector3.up.y, Vector3.up.z, Math.PI);\n        }\n\n        if (Math.abs(dot - (1.0)) < 0.000001) {\n            return Quaternion.Identity();\n        }\n\n        let rotAngle = Math.acos(dot);\n        let rotAxis = Vector3.Cross(Vector3.forward, forwardVector);\n        rotAxis = Vector3.Normalize(rotAxis);\n        return Quaternion.CreateFromAxisAngle(rotAxis, rotAngle);\n    }\n\n    static LookRotation(forward, up) {\n        let frwd = Vector3.Normalize(forward);\n\n        let vector = Vector3.Normalize(frwd);\n        let vector2 = Vector3.Normalize(Vector3.Cross(up, vector));\n        let vector3 = Vector3.Cross(vector, vector2);\n\n        let m00 = vector2.x;\n        let m01 = vector2.y;\n        let m02 = vector2.z;\n        let m10 = vector3.x;\n        let m11 = vector3.y;\n        let m12 = vector3.z;\n        let m20 = vector.x;\n        let m21 = vector.y;\n        let m22 = vector.z;\n\n        let num8 = (m00 + m11) + m22;\n        let quaternion = new Quaternion();\n\n        if (num8 > 0.0) {\n            let num = Math.sqrt(num8 + 1.0);\n\n            quaternion.w = num * 0.5;\n            num = 0.5 / num;\n            quaternion.x = (m12 - m21) * num;\n            quaternion.y = (m20 - m02) * num;\n            quaternion.z = (m01 - m10) * num;\n\n            return quaternion;\n        }\n        if ((m00 >= m11) && (m00 >= m22)) {\n            let num7 = Math.sqrt(((1.0 + m00) - m11) - m22);\n            let num4 = 0.5 / num7;\n\n            quaternion.x = 0.5 * num7;\n            quaternion.y = (m01 + m10) * num4;\n            quaternion.z = (m02 + m20) * num4;\n            quaternion.w = (m12 - m21) * num4;\n\n            return quaternion;\n        }\n        if (m11 > m22) {\n            let num6 = Math.sqrt(((1.0 + m11) - m00) - m22);\n            let num3 = 0.5 / num6;\n\n            quaternion.x = (m10 + m01) * num3;\n            quaternion.y = 0.5 * num6;\n            quaternion.z = (m21 + m12) * num3;\n            quaternion.w = (m20 - m02) * num3;\n\n            return quaternion;\n        }\n        let num5 = Math.sqrt(((1.0 + m22) - m00) - m11);\n        let num2 = 0.5 / num5;\n\n        quaternion.x = (m20 + m02) * num2;\n        quaternion.y = (m21 + m12) * num2;\n        quaternion.z = 0.5 * num5;\n        quaternion.w = (m01 - m10) * num2;\n\n        return quaternion;\n    }\n\n    static RotatePointAroundPivot(point, pivot, maxRot) {\n        return Quaternion.LookRotation(Vector3.Subtract(point, pivot), Vector3.up) * point;\n    }\n\n    static RotateAround(point, pivot) {\n        let dir = point - pivot;\n        dir = Quaternion.LookRotation(dir, Vector3.up) * dir;\n\n        return dir + pivot;\n    }\n\n    static CreateFromAxisAngle(axis, angle) {\n        let halfAngle = angle * 0.5;\n        let s = Math.sin(halfAngle);\n        let q = new Quaternion();\n        q.x = axis.x * s;\n        q.y = axis.y * s;\n        q.z = axis.z * s;\n        q.w = Math.cos(halfAngle);\n        return q;\n    }\n\n    static FromEuler(x, y, z) {\n        let yaw = y * MathTools.deg2Rad;\n        let pitch = x * MathTools.deg2Rad;\n        let roll = z * MathTools.deg2Rad;\n\n        let rollOver2 = roll * 0.5;\n        let sinRollOver2 = Math.sin(rollOver2);\n        let cosRollOver2 = Math.cos(rollOver2);\n        let pitchOver2 = pitch * 0.5;\n        let sinPitchOver2 = Math.sin(pitchOver2);\n        let cosPitchOver2 = Math.cos(pitchOver2);\n        let yawOver2 = yaw * 0.5;\n        let sinYawOver2 = Math.sin(yawOver2);\n        let cosYawOver2 = Math.cos(yawOver2);\n        let result = new Quaternion();\n        result.w = cosYawOver2 * cosPitchOver2 * cosRollOver2 + sinYawOver2 * sinPitchOver2 * sinRollOver2;\n        result.x = cosYawOver2 * sinPitchOver2 * cosRollOver2 + sinYawOver2 * cosPitchOver2 * sinRollOver2;\n        result.y = sinYawOver2 * cosPitchOver2 * cosRollOver2 - cosYawOver2 * sinPitchOver2 * sinRollOver2;\n        result.z = cosYawOver2 * cosPitchOver2 * sinRollOver2 - sinYawOver2 * sinPitchOver2 * cosRollOver2;\n\n        return result;\n    }\n\n    static Dot(q1, q2) {\n        return q1.x * q2.x + q1.y * q2.y + q1.z * q2.z + q1.w * q2.w;\n    }\n\n    static Normalize(q) {\n        let q1 = q;\n        let scale = 1.0 / q1.Length();\n        q1.x *= scale;\n        q1.y *= scale;\n        q1.z *= scale;\n        q1.w *= scale;\n\n        return q1;\n    }\n\n    static Identity() {\n        return new Quaternion(0.0, 0.0, 0.0, 1.0);\n    }\n}","import { Clock } from \"three\";\n\nclass TimeManager{\n \n    constructor(){\n        this.clock = new Clock(true);\n        this.deltaTime = 0;\n    }\n\n    Update(){\n        this.deltaTime = this.clock.getDelta();  \n    }\n\n    DeltaTime(){\n        return this.deltaTime;\n    }\n}\n\nconst Time = new TimeManager();\nexport default Time;","import Time from './Time';\nimport Ammo from 'ammo.js';\n\nclass PhysicsEngine {\n\n    static PhysicShapes = {\n        SPHERE: 0,\n        BOX: 1,\n        PLANE: 2,\n        CAPSULE: 3,\n        CYLINDER: 4,\n        CONE: 5,\n    };\n\n    constructor() {\n        this.collisionConfig = new Ammo.btDefaultCollisionConfiguration();\n        this.dispatcher = new Ammo.btCollisionDispatcher(this.collisionConfig);\n        this.broadphase = new Ammo.btDbvtBroadphase();\n        this.solver = new Ammo.btSequentialImpulseConstraintSolver();\n        this.world = new Ammo.btDiscreteDynamicsWorld(this.dispatcher, this.broadphase, this.solver, this.collisionConfig);\n\n        this.world.setGravity(new Ammo.btVector3(0, -9.8, 0));\n\n        this.rigidBodies = [];\n    }\n\n    setGravity(v) {\n        this.world.setGravity(new Ammo.btVector3(v.x, v.y, v.z));\n    }\n\n    addRigidBody(body) {\n\n        if (body === null) return;\n\n        this.world.addRigidBody(body);\n        this.rigidBodies.push(body);\n\n        return this.rigidBodies[this.rigidBodies.length - 1];\n    }\n\n    removeRigidBody(body){\n        this.world.removeRigidBody(body);\n    }\n    \n    createSphereShape(radius = 1) {\n        let shape = new Ammo.btSphereShape(radius);\n        shape.setMargin(0.05);\n\n        return shape;\n    }\n\n    createBoxShape(boxSize) {\n        let shape = new Ammo.btBoxShape(new Ammo.btVector3(boxSize.x * 0.5, boxSize.y * 0.5, boxSize.z * 0.5));\n        \n        return shape;\n    }\n\n    createPlaneShape(normal) {\n        let shape = new Ammo.btStaticPlaneShape(new Ammo.btVector3(normal.x, normal.y, normal.z), 0.0001);\n\n        return shape;\n    }\n\n    createCapsuleShape(radius, height, direction) {\n        let shape = new Ammo.btCapsuleShape(radius, height, new Ammo.btVector3(direction.x, direction.y, direction.z));\n        shape.setMargin(0.05);\n\n        return shape;\n    }\n\n    createCylinderShape(radius, height, direction) {\n        let shape = new Ammo.btCylinderShape(radius, height, new Ammo.btVector3(direction.x, direction.y, direction.z));\n        shape.setMargin(0.05);\n\n        return shape;\n    }\n\n    createConeShape(radius, height, direction) {\n        let shape = new Ammo.btConeShape(radius, height, new Ammo.btVector3(direction.x, direction.y, direction.z));\n        shape.setMargin(0.05);\n\n        return shape;\n    }\n\n    createMeshShape(mesh) {\n        return new Promise((resolve, reject) => {\n\n            let vertsV3 = [];\n            let indices = [];\n\n            mesh.children.forEach(group => {\n                if (group.hasOwnProperty('children') && group.children.length > 0) {\n                    group.children.forEach(mesh => {\n                        if (mesh.hasOwnProperty('geometry')) {\n                            let index = mesh.geometry.index.array;\n                            let verts = mesh.geometry.attributes.position.array;\n                            // This code wont work.  Will create a garbage collision mesh.\n                            for (let i = 0; i < index.length; i += 3) {\n                                indices.push(index[i]);\n                            }\n\n                            for (let i = 0; i < verts.length; i += 3) {\n                                vertsV3.push(new Ammo.btVector3(verts[i], verts[i + 1], verts[i + 2]));\n                            }\n                        }\n                    });\n                }\n                else\n                    if (group.hasOwnProperty('geometry')) {\n                        indices = group.geometry.index.array;\n                        let verts = group.geometry.attributes.position.array;\n\n                        for (let i = 0; i < verts.length; i += 3) {\n                            vertsV3.push(new Ammo.btVector3(verts[i], verts[i + 1], verts[i + 2]));\n                        }\n                    }\n            });\n\n            let triMesh = new Ammo.btTriangleMesh();\n\n            for (let i = 0; i < indices.length; i += 3) {\n\n                triMesh.addTriangle(vertsV3[indices[i]], vertsV3[indices[i + 1]], vertsV3[indices[i + 2]]);\n            }\n\n            const shape = new Ammo.btBvhTriangleMeshShape(triMesh, true);\n\n            resolve(shape);\n        });\n    }\n\n    update() {\n        this.world.stepSimulation(Time.deltaTime, 10);\n    }\n}\n\nconst Physics = new PhysicsEngine();\nexport default Physics;","\nimport Physics from './Physics';\nimport Quaternion from './Quaternion';\nimport Vector3 from './Vector3';\nimport Ammo from 'ammo.js';\nimport MathTools from './MathTools';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport default class RigidBody {\n   \n    constructor(position = new Vector3(0, 0, 0), shape, rotation = Quaternion.Identity(), options = { mass: 0, friction: 1, rollingFriction: 1, restitution: 0.8 }) {\n\n        this.isKinematic = false;\n        this.active = true;\n        this.mass = options.mass;\n\n        this.shape = shape;\n        this.friction = options.friction;\n        this.rollingFriction = options.rollingFriction;\n        this.restitution = options.restitution;\n        this.ragdollActive = false;\n\n        this.btPos = new Ammo.btVector3(position.x, position.y, position.z);\n        this.btQuat = new Ammo.btQuaternion(rotation.x, rotation.y, rotation.z, rotation.w);\n\n        this.id = uuidv4();\n \n        this.cachedbtVec3 = new Ammo.btVector3(0, 0, 0);\n        this.transform = new Ammo.btTransform();\n        this.transform.setIdentity();\n        this.transform.setOrigin(this.btPos);\n        this.transform.setRotation(this.btQuat);\n        this.motionState = new Ammo.btDefaultMotionState(this.transform);\n\n        let localInertia = new Ammo.btVector3(0.0, 0.0, 0.0);\n        localInertia = this.shape.calculateLocalInertia(this.mass, localInertia);\n        let ri = new Ammo.btRigidBodyConstructionInfo(this.mass, this.motionState, this.shape, localInertia);\n        this.position = position;\n        this.rotation = rotation;\n        \n        this.body = new Ammo.btRigidBody(ri);;\n\n        this.body.setFriction(this.friction);\n        this.body.setDamping(0.25, 0.25);\n        this.body.setCcdMotionThreshold(1);\n        this.body.setCcdSweptSphereRadius(0.2);\n        this.body.setRestitution(this.restitution);\n\n       \n        this.SetKinematic(MathTools.approximate(this.mass, 0.0));\n        Physics.addRigidBody(this.body);\n    }\n\n\n    setMass(mass) {\n        if (this.body) {\n            this.mass = mass;\n            this.body.setMassProps(mass, new Ammo.btVector3(0.0, 0.0, 0.0));\n        }\n    }\n\n    SetKinematic(value) {\n        this.isKinematic = value;\n\n        if (value) {\n            this.body.setMassProps(0.0, new Ammo.btVector3(0.0, 0.0, 0.0));\n            this.body.setCollisionFlags(2);\n            this.body.setActivationState(4);\n        }\n        else {\n            this.body.setMassProps(this.mass, new Ammo.btVector3(0.0, 0.0, 0.0));\n            this.body.setCollisionFlags(0);\n            this.body.setActivationState(4);\n        }\n    }\n\n    AddForce(force) {\n        this.body.applyCentralForce(force.to_btVector3());\n    }\n\n    AddForceAt(force, position) {\n        this.body.applyForce(force.to_btVector3(), position.to_btVector3());\n    }\n\n    SetLinearFactor(factor) {\n        this.body.setLinearFactor(factor.to_btVector3());\n    }\n\n    SetSleepingThreshold(linear, angular) {\n        this.body.setSleepingThresholds(linear, angular);\n    }\n\n    ApplyTorque(torque) {\n        this.body.applyTorque(torque.to_btVector3());\n    }\n\n    ApplyCentralImpulse(impulse) {\n        this.body.applyCentralImpulse(impulse.to_btVector3());\n    }\n\n    ApplyTorqueImpulse(impulse) {\n        this.body.applyTorqueImpulse(impulse.to_btVector3());\n    }\n\n    ApplyImpulse(impulse) {\n        this.body.applyImpulse(impulse.to_btVector3(), new Ammo.btVector3(0, 0, 0));\n    }\n\n    ApplyImpulseAt(impulse, position) {\n        this.body.applyImpulse(impulse.to_btVector3(), position.to_btVector3());\n    }\n\n    ClearForces() {\n        this.body.clearForces();\n    }\n\n    GetOrentation() {\n        let quat = this.body.getOrientation();\n\n        return new Quaternion(quat.x(), quat.y(), quat.z(), quat.w());\n    }\n\n    GetLinearVelocity() {\n        let v = this.body.getLinearVelocity();\n\n        return new Vector3(v.x(), v.y(), v.z());\n    }\n\n    GetAngularVelocity() {\n        let v = this.body.getAngularVelocity();\n\n        return new Vector3(v.x(), v.y(), v.z());\n    }\n\n    SetLinearVelocity(velocity) {\n        this.bodysetLinearVelocity(velocity.to_btVector3());\n    }\n\n    setAngularVelocity(velocity) {\n        this.body.setAngularVelocity(velocity.to_btVector3());\n    }\n\n    translate(position) {\n        this.body.translate(position.to_btVector3());\n    }\n\n    setPosition(position) {\n        this.btPos.setValue(position.x, position.y, position.z);\n        this.body.getWorldTransform().setOrigin(this.btPos);\n    }\n\n    Move(position) {\n        this.body.translate(position.to_btVector3());\n    }\n\n    setRotation(rotation) {\n        this.btQuat.setValue(rotation.x, rotation.y, rotation.z, rotation.w);\n        this.body.getWorldTransform().setRotation(this.btQuat);\n        this.body.getMotionState().setWorldTransform(this.body.getWorldTransform());\n    }\n\n    setQuaternion(quat) {\n        this.body.getWorldTransform().setRotation(quat);\n        this.body.getMotionState().setWorldTransform(this.body.getWorldTransform());\n    }\n\n    WantsSleep() {\n        return this.body.wantsSleeping();\n    }\n\n    GetMotionState() {\n        return this.body.getMotionState();\n    }\n\n    SetMotionState(state) {\n        this.body.setMotionState(state);\n    }\n\n    SetAngularFactor(factor) {\n        Physics.removeRigidBody(this.body);\n        this.body.setAngularFactor(factor.to_btVector3());\n        Physics.addRigidBody(this.body);\n    }\n\n    GetAngularFactor() {\n        let v = this.body.getAngularFactor();\n        return new Vector3(v.x(), v.y(), v.z());\n    }\n\n    IsInWorld() {\n        return this.body.isInWorld();\n    }\n\n    AddContraint(constraint) {\n        this.addConstraintRef(constraint);\n    }\n\n    RemoveContraint(constriant) {\n        this.removeConstraintRef(constriant);\n    }\n\n    SetFlags(flags) {\n        this.setFlags(flags);\n    }\n\n    GetFlags() {\n        return this.getFlags();\n    }\n\n    GetLocalInertia() {\n        let v = this.body.getLocalInertia()\n        return new Vector3(v.x(), v.y(), v.z());\n    }\n\n    IsActive() {\n        return this.active;\n    }\n\n    GetCollisionShape() {\n        return this.body.getCollisionShape();\n    }\n\n    SetCollisionShape(collider) {\n        this.body.setCollisionShape(collider);\n    }\n\n    SetRollingFriction(friction) {\n        Physics.removeRigidBody(this.body);\n        this.body.setRollingFriction(friction);\n        Physics.addRigidBody(this.body);\n    }\n\n    SetRestitution(restitiuion) {\n        Physics.removeRigidBody(this.body);\n        this.body.setRestitution(restitiuion);\n        Physics.addRigidBody(this.body);\n    }\n\n    GetCollisionFlags() {\n        return this.body.getCollisionFlags();\n    }\n\n    SetCollisionFlags(flags) {\n        this.body.setCollisionFlags(flags);\n    }\n\n    GetPosition() {\n        let v = this.body.getWorldTransform().getOrigin();\n        this.position.set(v.x(), v.y(), v.z());\n        return this.position;\n    }\n\n    GetRotation() {\n        let quat = this.body.getWorldTransform().getRotation();\n        this.rotation.set(quat.x(), quat.y(), quat.z(), quat.w());\n        return this.rotation;\n    }\n\n    SetActivationState(state) {\n        this.body.setActivationState(state);\n    }\n\n    SetBounciness(value) {\n        this.body.setRestitution(value);\n    }\n\n    IsKinematic() {\n        return this.isKinematic;\n    }\n\n    SetFriction(value) {\n        this.body.setFriction(value);\n    }\n}","import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport Scene from './Scene';\nimport * as THREE from 'three';\n\nexport default class Mesh {\n    constructor(path = null, castShadow = false, receiveShadow = false, flatShading = false, culling = true) {\n        this.mixer = null;\n        this.action = null;\n        this.meshData = null;\n        this.mesh = null;\n        this.scene = null;\n        this.culling = culling;\n        this.castShadow = castShadow;\n        this.receiveShadow = receiveShadow;\n        this.flatShading = flatShading;\n     \n        if (path !== null)\n            this.LoadMesh(path);\n    }\n\n    setShadows() {\n\n        this.scene.traverse(child => {\n            if (child.isMesh) {\n                child.castShadow = this.castShadow;\n                child.receiveShadow = this.receiveShadow;\n            }\n        });\n    }\n\n    castShadow(value) {\n        this.castShadow = value;\n    }\n\n    receiveShadow(value) {\n        this.receiveShadow = value;\n    }\n\n    LoadMesh(path) {\n        Scene.objectLoading++;\n\n        return new Promise((resolve, reject) => {\n            let loader = new GLTFLoader();\n            loader.load(path, (gltf) => {\n\n                gltf.scene.traverse(child => {\n                    if (child.isMesh) {\n                        child.castShadow = this.castShadow;\n                        child.receiveShadow = this.receiveShadow;\n                        if (this.culling)\n                            child.material.side = THREE.FrontSide;\n                        if (this.flatShading)\n                            child.material.flatShading = this.flatShading;\n                    }\n                });\n\n                this.scene = gltf.scene;\n                this.meshData = gltf.scene.children;\n                this.mesh = gltf.scene;\n                this.mesh.doubleSided = false;\n                Scene.add(gltf.scene);\n                Scene.objectLoaded++;\n                resolve(this);\n\n            }, undefined, function (error) {\n                console.error(error);\n                Scene.objectLoading--;\n                reject('error');\n            });\n        });\n\n    }\n\n    isLoaded(){\n        return this.mesh === null;\n    }\n}\n","import * as THREE from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport Scene from './Scene';\nimport Time from './Time';\n \n\nexport default class SkinnedMesh {\n\n    constructor(path, castShadow = false, receiveShadow = false, flatShading = false) {\n        this.mixer = null;\n        this.action = null;\n        this.meshData = null;\n        this.mesh = null;\n        this.anim = null;\n        this.scene = null;\n        this.currentAnimation = '';\n        this.bones = [];\n        this.ragdollActivated = false;\n      \n        this.castShadow = castShadow;\n        this.receiveShadow = receiveShadow;\n        this.flatShading = flatShading;\n        this.LoadMesh(path, flatShading);\n    }\n\n    setShadows() {\n        this.scene.traverse(child => {\n            if (child.isMesh) {\n                child.castShadow = this.castShadow;\n                child.receiveShadow = this.receiveShadow;\n            }\n        });\n    }\n\n    castShadow(value) {\n        this.castShadow = value;\n        this.updateScene();\n    }\n\n    receiveShadow(value) {\n        this.receiveShadow = value;\n        this.updateScene();\n    }\n\n    updateScene(){\n       this.scene.traverse(child => {\n\n            if (child.isMesh) {\n\n                child.castShadow = this.castShadow;\n                child.receiveShadow = this.receiveShadow;\n\n                if (this.flatShading)\n                    child.material.flatShading = this.flatShading;\n            }\n        });\n    }\n    async LoadMesh(path, flatShading = false) {\n        Scene.objectLoading++;\n        let loader = new GLTFLoader();\n\n        this.flatShading = flatShading;\n        await loader.load(path, (gltf) => {\n            this.meshData = new THREE.SkinnedMesh(gltf);\n\n            this.mixer = new THREE.AnimationMixer(gltf.scene);\n            this.mixer.timeScale = 1;\n \n            gltf.scene.traverse(child => {\n/*\n                if (child.isBone) {\n                    console.log(child);\n\n                    const quat = child.quaternion;\n                    let pos = child.position;\n                    pos = new Vector3(pos.x, pos.y, pos.z);\n            \n\n                    this.bones.push({\n                        bone:child,\n                        body: new RigidBody(new Vector3(pos.x, pos.y, pos.z), Phsyics.createCapsuleShape(0.051, 0.051, Vector3.forward), new Quaternion(quat.x, quat.y, quat.z, quat.w), {\n                        mass: 0.0,\n                        friction: 1,\n                        rollingFriction: 0,\n                        restitution: 0\n                        })\n                        });\n                }\n*/\n                if (child.isMesh) {\n\n                    child.castShadow = this.castShadow;\n                    child.receiveShadow = this.receiveShadow;\n\n                    if (flatShading)\n                        child.material.flatShading = flatShading;\n                }\n            });\n\n            this.scene = gltf.scene;\n            this.meshData = gltf.scene.children;\n            this.mesh = gltf.scene;\n            this.anim = gltf;\n            Scene.objectLoaded++;\n            Scene.add(gltf.scene);\n\n        }, undefined, function (error) {\n            Scene.objectLoading--;\n            console.error(error);\n        });\n    }\n\n    playAnimation(animation) {\n\n        if (this.meshData === null)\n            return;\n\n        if (this.currentAnimation !== animation) {\n            this.currentAnimation = animation;\n            let clip = THREE.AnimationClip.findByName(this.anim, animation);\n\n            if (this.action !== null)\n                this.action.stop();\n\n            this.action = this.mixer.clipAction(clip);\n\n            if (this.action !== null)\n                this.action.play();\n        }\n    }\n\n    SetRagdollActive(value){\n\n        this.ragdollActivated = value;\n        for (let i = 0; i < this.bones.length; i++)\n        {   \n            if (this.bones[i].body !== null){\n                const mass = value ? 0.25 : 0;\n                this.bones[i].body.setMass(mass);\n            }\n        }\n    }\n\n    Animate() {\n\n     /*\n\n        for (let i = 0; i < this.bones.length; i++)\n        {\n            if (this.bones[i].body !== null && this.bones[i].body.mass > 0){\n            \n                const rot = this.bones[i].body.GetRotation().Euler();\n                const pos = this.bones[i].body.GetPosition();\n                this.bones[i].bone.rotation.set(rot.x, rot.y, rot.z);\n                this.bones[i].bone.position.set(pos.x, pos.y, pos.z);\n            }\n        }\n*/\n        if (this.mixer !== null && !this.ragdollActivated) {\n            this.mixer.update(Time.deltaTime);\n        }\n    }\n}\n","import Mesh from './Mesh';\nimport SkinnedMesh from './SkinnedMesh';\n\nclass ContentManager {\n    constructor() {\n        this.meshes = {};\n        this.sounds = {};\n    }\n\n    LoadMesh = (name = null, path = null, skinnedMesh = false, castShadow = false, recieveShadow = false, flatShading = false, culling = true) => {\n        if (name === null) console.log('LoadMesh requires name');\n        if (path === null) console.log('LoadMesh requires a path');\n\n        return new Promise((resolve, reject) => {\n\n            if (skinnedMesh) {\n                let model = new SkinnedMesh(path, castShadow, recieveShadow, flatShading);\n                this.meshes[name] = model;\n                resolve(model);\n            }\n            else {\n                let model = new Mesh(null, castShadow, recieveShadow, flatShading, culling);\n                model.LoadMesh(path)\n                    .then(data => {\n                        this.meshes[name] = model;\n                        resolve(model);\n                    })\n                    .catch(e => {\n                        reject(e);\n                    });\n            }\n        });\n    }\n}\n\nconst Content = new ContentManager();\nObject.freeze(Content);\nexport default Content;","import Vector3 from './Vector3';\nimport Scene from './Scene';\nimport RigidBody from './RigidBody';\nimport Quaternion from './Quaternion';\nimport Content from './Content';\nimport Ammo from 'ammo.js';\nimport { v4 as uuidv4 } from 'uuid';\nexport default class GameObject {\n\n \n\n    constructor(name = null, meshPath = null, skinnedMesh = false, castShadow = false, recieveShadow = false, flatShading = false, position = Vector3.zero, rotation = Quaternion.Identity()) {\n        this.position = position;\n        this.rotation = rotation;\n        this.scale = new Vector3(0.0, 0.0, 0.0);\n        this.isEnabled = true;\n        this.texture = null;\n        this.model = null;\n        this.skinnedMesh = skinnedMesh;\n        this.forward = Vector3.forward;\n        this.objID = uuidv4();\n    \n        this.rigidBody = null;\n        this.castShadow = castShadow;\n        this.recieveShadow = recieveShadow;\n        this.allowUpdate = true;\n        this.name = name;\n        this.tag = {};\n\n \n\n        this.LoadModel(name, meshPath, flatShading);\n        Scene.addGameObject(this);\n    }\n\n    LoadModel = async (name, meshPath, flatShading = false, culling = true) => {\n\n        if (meshPath === null) return;\n\n        await Content.LoadMesh(name, meshPath, this.skinnedMesh, this.castShadow, this.recieveShadow, flatShading, culling)\n            .then(model => {\n                this.model = model;\n\n                this.setPosition(this.position);\n                this.setRotation(this.rotation);\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n\n    setEnabled(value) {\n        this.isEnabled = value;\n\n        if (this.isEnabled)\n            Scene.enableObject(this);\n        else\n            Scene.disableObject(this);\n    }\n\n    setRotation(degrees) {\n        this.rotation = Quaternion.FromEuler(degrees.x, degrees.y, degrees.z);\n\n        if (this.rigidBody !== null)\n            this.rigidBody.setRotation(this.rotation);\n    }\n\n    setQuaternion(quat) {\n        this.rotation = quat;\n\n        if (this.rigidBody !== null)\n            this.rigidBody.setQuaternion(new Ammo.btQauternion(quat.x, quat.y, quat.z, quat.w));\n    }\n\n    rotate(degrees) {\n        if (this.rigidBody !== null) {\n            const euler = Vector3.zero;\n            this.rigidBody.setRotation(euler);\n            const rot = Vector3.Add(degrees, new Vector3(euler.x, euler.y, euler.z));\n            this.rotation = Quaternion.FromEuler(rot.x, rot.y, rot.z);\n            this.rigidBody.setRotation(this.rotation);\n        }\n        else\n            this.rotation = Vector3.Add(this.rotation, degrees);\n    }\n\n    setPosition(newPosition) {\n        this.position = newPosition;\n\n        if (this.rigidBody !== null)\n            this.rigidBody.setPosition(this.position);\n    }\n\n    move(moveDir) {\n\n        if (this.rigidBody !== null) {\n            this.position = this.rigidBody.GetPosition();\n            this.position = Vector3.Add(this.position, moveDir);\n            this.rigidBody.setPosition(this.position);\n        }\n        else {\n            this.position = Vector3.Add(this.position,  moveDir);\n        }\n    }\n\n    setScale(newScale) {\n        this.scale = newScale;\n    }\n\n    changeScale(scaleVector) {\n        this.scale.x += scaleVector.x;\n        this.scale.y += scaleVector.y;\n        this.scale.z += scaleVector.z;\n    }\n\n    update() {\n\n        if (!this.allowUpdate) return;\n\n        if (this.rigidBody !== null) {\n            this.position = this.rigidBody.GetPosition();\n            this.rotation = this.rigidBody.GetRotation();\n        }\n\n        if ((this.model === null || !this.model.hasOwnProperty('mesh')))\n            return;\n\n        if (this.model.mesh === null)\n            return;\n\n        const rot = this.rotation.Euler();\n    \n        this.model.mesh.position.set(this.position.x, this.position.y, this.position.z);\n        this.model.mesh.rotation.set(rot.x, rot.y, rot.z);\n    }\n\n    lateUpdate() { }\n\n    addRigidBody(options = {mass: 0, friction: 1, rollingFriction: 1, restitution: 0.8}, shape = null, position = Vector3.zero, rotation = Quaternion.Identity()) {\n        this.rigidBody = new RigidBody(position, shape, rotation, options);\n    }\n\n    render() {\n        if (this.skinnedMesh && this.model)\n            this.model.Animate();\n    }\n\n    collision(col) {\n        //console.log(col);\n    }\n}","import * as THREE from \"three\";\nimport Quaternion from \"./Quaternion\";\nimport Scene from \"./Scene\";\nimport GameObject from './GameObject';\nimport Vector3 from './Vector3';\n\nclass CameraManager extends GameObject {\n    constructor() {\n        super();\n        this.mainCamera = new THREE.PerspectiveCamera(60, 1024 / 600, 0.1, 1000);\n        this.target = null;\n \n        this.position = Vector3.zero;\n       \n        this.controller = null;\n        Scene.addGameObject(this);\n    }\n\n    Configure(fov, aspect, zNear, zFar) {\n        this.mainCamera = new THREE.PerspectiveCamera(fov, aspect, zNear, zFar);\n    }\n\n    SetController(controller){\n        this.controller = controller;\n    }\n\n    Move(pos) {\n        this.mainCamera.translateX(pos.x);\n        this.mainCamera.translateY(pos.y);\n        this.mainCamera.translateZ(pos.z);\n    }\n\n    Rotate(rot) {\n        this.rotation = Quaternion.FromEuler(rot.x, rot.y, rot.z);\n        this.mainCamera.rotation.set(rot.x, rot.y, rot.z);\n    }\n\n    SetPosition(pos) {\n        this.position = pos;\n        this.mainCamera.position.set(pos.x, pos.y, pos.z);\n    }\n\n    GetCamera() {\n        return this.mainCamera;\n    }\n\n    update(){\n        if (this.controller !== null)\n        this.controller.update();\n    }\n\n    lateUpdate() {\n        if (this.controller !== null)\n            this.controller.lateUpdate();\n    }\n}\n\nconst Camera = new CameraManager();\n\nexport default Camera;","import * as THREE from 'three';\n\nclass Renderer {\n    constructor() {\n        this.renderer = null;\n    }\n\n    InitRenderer(canvas, width, height, loopCallback) {\n\n        return new Promise((resolve, reject) => {\n            this.renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: false, antialias: true, precision: 'highp', powerPreference:'high-performance' });\n            this.renderer.setSize(width, height);\n            this.renderer.shadowMap.enabled = true;\n            this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n            this.renderer.cullFace = THREE.CullFaceBack;\n          \n            this.renderer.outputEncoding = THREE.GammaEncoding;\n       \n            this.renderer.autoClear = true;\n    \n            this.renderer.setClearColor('skyblue', 1.0);\n            this.renderer.clearAlpha = 1;\n            this.renderer.setAnimationLoop(loopCallback);\n            \n            if (this.renderer !== null)\n                resolve(this.renderer);\n            else\n                reject('Error creating renderer');\n        });\n    }\n\n    Render(scene, camera){\n        this.renderer.render(scene, camera);\n    }\n}\n\nexport default Renderer;","import Camera from './Camera';\nimport * as THREE from 'three';\nimport Time from './Time';\nimport Scene from './Scene';\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass';\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader';\nimport { BokehPass } from 'three/examples/jsm/postprocessing/BokehPass';\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\n\nclass PostProcessingManager {\n    init(renderer) {\n        this.composer = new EffectComposer(renderer);\n        this.renderPass = new RenderPass(Scene.getScene(), Camera.mainCamera);\n        this.renderPass.clearColor = new THREE.Color('skyblue');\n        this.renderPass.clearAlpha = 1;\n\n        this.composer.addPass(this.renderPass);\n\n        this.bokeh = null;\n        this.bloom = null;\n        this.ffxa = null;\n        this.renderer = renderer;\n    }\n\n    isUsingEffects() {\n        return this.bokeh || this.bloom || this.fxaa;\n    }\n\n    addFXAA() {\n        this.ffxa = new ShaderPass(FXAAShader);\n        this.ffxa.uniforms['resolution'].value.set(1 / Scene.screenWidth, 1 / Scene.screenHeight);\n        this.composer.addPass(this.ffxa);\n    }\n\n    addBokeh() {\n        this.bokeh = new BokehPass(Scene.scene, Camera.mainCamera, {\n            focus: 3000.0,\n            aperture: 0.002,\n            maxblur: 0.0025,\n\n            width: Scene.width,\n            height: Scene.height\n        });\n        this.composer.addPass(this.bokeh);\n    }\n\n    addBloom() {\n        this.bloom = new UnrealBloomPass(\n            new THREE.Vector2(Scene.screenWidth, Scene.screenHeight),\n            .3,\n            0.4,\n            .8);\n\n        this.composer.addPass(this.bloom)\n    }\n\n    render() {\n        this.renderPass.camera = Camera.mainCamera;\n        this.composer.render(Time.deltaTime);\n    }\n}\n\nconst PostProcessing = new PostProcessingManager();\n\nexport default PostProcessing;","import MathTools from './MathTools';\n\nexport default class Vector2 {\n\n    constructor(x = 0.0, y = 0.0) {\n        this.x = x;\n        this.y = y;\n    }\n\n    static get zero() { return new Vector2(0.0, 0.0); }\n    static get one() { return new Vector2(1.0, 1.0); }\n    static get up() { return new Vector2(0.0, 1.0); }\n    static get down() { return new Vector2(0.0, -1.0); }\n    static get left() { return new Vector2(-1.0, 0.0); }\n    static get right() { return new Vector2(1.0, 0.0); }\n\n    static add(v1, v2) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x + v2.x;\n        v.y = v1.y + v2.y;\n\n        return v;\n    }\n\n    static subtract(v1, v2) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x - v2.x;\n        v.y = v1.y - v2.y;\n\n        return v;\n    }\n\n    static multiply(v1, v2) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x * v2.x;\n        v.y = v1.y * v2.y;\n\n        return v;\n    }\n\n    static addScalar(v1, scalar) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x + scalar;\n        v.y = v1.y + scalar;\n\n        return v;\n    }\n\n    static subtractScalar(v1, scalar) {\n        let v = new Vector2(0.0, 0.0, 0.0);\n        v.x = v1.x - scalar;\n        v.y = v1.y - scalar;\n\n        return v;\n    }\n\n    static multiplyScalar(v1, scalar) {\n        let v = new Vector2(0.0, 0.0);\n        v.x = v1.x * scalar;\n        v.y = v1.y * scalar;\n\n        return v;\n    }\n\n    static distance(v1, v2) {\n        let delta = Vector2.subtract(v2, v1);\n\n        let distance = Math.sqrt(delta.x * delta.x + delta.y * delta.y);\n\n        return distance;\n    }\n\n    static dot(v1, v2) {\n        return v1.x * v2.x + v1.y * v2.y;\n    }\n\n    static Equals(v1, v2) {\n        return (v1.x > v2.x - Number.EPSILON && v1.x < v2.x + Number.EPSILON) &&\n            (v1.y > v2.y - Number.EPSILON && v1.y < v2.y + Number.EPSILON);\n    }\n\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n\n    magnitude() {\n        return this.length();\n    }\n\n    normalize() {\n        let mag = this.magnitude();\n\n        if (MathTools.approximate(mag, 0.0)) {\n            this.x = 0.0;\n            this.y = 0.0;\n            this.z = 0.0;\n\n            return;\n        }\n\n        this.x /= mag;\n        this.y /= mag;\n        this.z /= mag;\n    }\n\n    toString() {\n        return '( x: ' + this.x + '  y: ' + this.y + ')';\n    }\n}","import GamepadManager from './GamepadManager';\n\nconst Gamepad = new GamepadManager();\n\nexport default Gamepad;","import Vector2 from './Vector2';\nimport Gamepads from 'gamepads';\n\nexport default class GamepadManager {\n\n    constructor(noListener = false) {\n\n        this.Buttons = {\n            BUTTON_BOTTOM: 0,\n            BUTTON_RIGHT: 1,\n            BUTTON_LEFT: 2,\n            BUTTON_TOP: 3,\n            BUMPER_LEFT: 4,\n            BUMPER_RIGHT: 5,\n            TRIGGER_LEFT: 6,\n            TRIGGER_RIGHT: 7,\n            BUTTON_CONTROL_LEFT: 8,\n            BUTTON_CONTROL_RIGHT: 9,\n            BUTTON_JOYSTICK_LEFT: 10,\n            BUTTON_JOYSTICK_RIGHT: 11,\n            D_PAD_UP: 12,\n            D_PAD_BOTTOM: 13,\n            D_PAD_LEFT: 14,\n            D_PAD_RIGHT: 15,\n            BUTTON_CONTROL_MIDDLE: 16,\n        };\n\n        this.statusCallback = null;\n\n        this.buttonsDown = new Map();\n        this.buttonsPressed = new Map();\n\n        this.connected = false;\n\n\n        this.inputAxisSmoothAmount = 10;\n        this.leftAxis = new Vector2(0, 0);\n\n        this.rightAxis = new Vector2(0, 0);\n\n        this.rightTriggerValue = 0.0;\n        this.leftTriggerValue = 0.0;\n\n        this.gamepad = null;\n       \n        if (!noListener) {\n            Gamepads.start();\n            Gamepads.addEventListener('connect', e => {\n                this.connected = true;\n                this.gamepad = e.gamepad;\n     \n                if (this.statusCallback !== null){\n                    this.statusCallback('connected');\n                }\n\n                e.gamepad.addEventListener('joystickmove', e => {\n                    // Multiply by 1.12 because axis values only reaching +/- 0.9 instead of 1.0\n                    this.leftAxis.x = e.horizontalValue * 1.12;\n                    this.leftAxis.y = e.verticalValue * 1.12;\n                   \n          \n                }, [0, 1]);\n\n                e.gamepad.addEventListener('joystickmove', e => {\n                    // Multiply by 1.12 because axis values only reaching +/- 0.9 instead of 1.0\n                    this.rightAxis.x = e.horizontalValue *  1.12;\n                    this.rightAxis.y = e.verticalValue * 1.12;\n                }, [2, 3]);\n\n                e.gamepad.addEventListener('buttonpress', e => {\n\n                    this.addButton(e.index);\n                });\n\n                e.gamepad.addEventListener('buttonvaluechange', e => {\n                    this.rightTriggerValue = e.value;\n\n                }, 7);\n\n                e.gamepad.addEventListener('buttonvaluechange', e => {\n                    this.leftTriggerValue = e.value;\n                }, 6);\n\n                e.gamepad.addEventListener('buttonpress', e => {\n                    this.addButton(e.index);\n                });\n                e.gamepad.addEventListener('buttonrelease', e => {\n                    this.removeButton(e.index);\n                });\n            });\n\n            Gamepads.addEventListener('disconnect', e => {\n                this.connected = false;\n                if (this.statusCallback !== null){\n                    this.statusCallback('disconnected');\n                }\n                \n            });\n        }\n    }\n \n    leftStick() {\n        if (!this.connected) return Vector2.zero;\n      \n        return this.leftAxis;\n    }\n\n    rightStick() {\n        if (!this.connected) return Vector2.zero;\n    \n        return this.rightAxis;\n    }\n\n    addButton(button) {\n        this.buttonsDown.set(button, 1);\n        if (this.buttonsPressed.get(button) !== 2) {\n            this.buttonsPressed.set(button, 1);\n        }\n    }\n\n    removeButton(button) {\n        this.buttonsDown.delete(button);\n        this.buttonsPressed.delete(button);\n    }\n\n    isButtonDown(button) {\n        return this.buttonsDown.has(button);\n    }\n\n    isButtonPressed(button) {\n\n        if (this.buttonsPressed.has(button) && this.buttonsPressed.get(button) === 1) {\n            this.buttonsPressed.set(button, 2);\n            return true;\n        }\n\n        return false;\n    }\n\n    rightTrigger() {\n        return this.rightTriggerValue;\n    }\n\n    leftTrigger() {\n        return this.leftTriggerValue;\n    }\n\n    clearButtons() {\n        this.buttonsDown.clear();\n        this.buttonsPressed.clear();\n    \n    }\n\n    isConnected() {\n        return this.connected;\n    }\n\n    update() {\n      \n    }\n\n    json() {\n        return {\n            buttonsDown: this.buttonsDown,\n            buttonsPressed: this.buttonsPressed,\n            leftAxis: this.leftAxis,\n            rightAxis: this.rightAxis,\n            rightTrigger: this.rightTriggerValue,\n            leftTrigger: this.leftTriggerValue\n        }\n    }\n}\n","import Vector3 from './Vector3';\nimport GameObject from './GameObject';\nimport Quaternion from './Quaternion';\nimport Camera from './Camera';\nimport MathTools from './MathTools';\n\nclass VehicleController {\n    constructor() {\n        this.vehicles = [];\n        this.distFromVehicle = 3;\n        this.isReady = false;\n\n        this.ekey = new GameObject('ekey', null, false, false, true, true, new Vector3(-23.75, 2, -10), Quaternion.Identity());\n        this.rkey = new GameObject('rkey', null, false, false, true, true, new Vector3(-23.75, 2, -10), Quaternion.Identity());\n\n        this.ekey.LoadModel('ekey', './assets/models/ekey.glb', true)\n            .then(() => {\n                this.ekey.model.mesh.visible = false;\n            \n            });\n            this.rkey.LoadModel('rkey', './assets/models/rkey.glb', true)\n            .then(() => {\n                this.isReady = true;\n                this.rkey.model.mesh.visible = false;\n            });\n        this.inRangeVehicle = null;\n        this.vehicleInUse = null;\n    }\n\n    addVehicle(vehicle) {\n        this.vehicles.push(vehicle);\n    }\n\n    useVehicle(player) {\n        if (this.inRangeVehicle === null) return null;\n\n        this.inRangeVehicle.inUse = true;\n        Camera.target = this.inRangeVehicle;\n        this.vehicleInUse = this.inRangeVehicle;\n\n        return this.inRangeVehicle;\n    }\n\n    controllVehicle(vehicle) {\n        if (vehicle === null) return null;\n\n        vehicle.inUse = true;\n        Camera.target = vehicle;\n        this.vehicleInUse = vehicle;\n\n        return vehicle;\n    }\n\n    leaveVehicle(){\n        this.vehicleInUse = null;\n    }\n\n    updateEKey(){\n        if (this.inRangeVehicle !== null) {\n\n            let vehiclePos = this.inRangeVehicle.position;\n            this.ekey.setPosition(new Vector3(vehiclePos.x, vehiclePos.y + 1, vehiclePos.z));\n            this.ekey.model.mesh.visible = true;\n        }\n        else {\n            this.ekey.model.mesh.visible = false;\n        }\n\n        if (this.ekey.model.mesh.visible) {\n            let camPos = new Vector3(Camera.position.x, 0, Camera.position.z);\n            let eKeyPos = new Vector3(this.ekey.position.x, 0, this.ekey.position.z);\n            let lookAt = Quaternion.LookRotation(Vector3.Subtract(camPos, eKeyPos), Vector3.up);\n            this.ekey.setRotation(Vector3.MultiplyScalar(lookAt.Euler(), MathTools.deg2Rad));\n        }\n\n    }\n\n    updateRKey(){\n        if (this.vehicleInUse !== null) {\n\n            if (this.vehicleInUse.inUse && this.vehicleInUse.isUpsideDown()) {\n                let vehiclePos = this.vehicleInUse.position;\n                vehiclePos.y += 1;\n                this.rkey.setPosition(vehiclePos);\n                this.rkey.model.mesh.visible = true;\n            }\n            else {\n                this.rkey.model.mesh.visible = false;\n            }\n        }\n    }\n\n    findInRangeVehicle(pos){\n        this.inRangeVehicle = null;\n        let closest = this.distFromVehicle + 1;\n\n        for (let i = 0; i < this.vehicles.length; i++) {\n            let vehiclePos = this.vehicles[i].position;\n\n            const dist = Vector3.Distance(pos, vehiclePos);\n            if (dist < closest && dist <= 3 && !this.vehicles[i].inUse) {\n                closest = dist;\n                this.inRangeVehicle = this.vehicles[i];\n            }\n        }\n    }\n    \n    checkVehicleInRange(pos) {\n\n        if (!this.isReady) return;\n\n        this.findInRangeVehicle(pos);\n        this.updateEKey();\n        this.updateRKey();\n    }\n}\n\nconst VehicleManager = new VehicleController();\nexport default VehicleManager; ","\nimport GameObject from '../engine/GameObject';\nimport Input from '../engine/Input';\nimport Vector3 from '../engine/Vector3';\nimport VehicleManager from '../engine/VehicleManager';\nimport Quaternion from '../engine/Quaternion';\nimport Camera from '../engine/Camera';\nimport Vector2 from '../engine/Vector2';\nimport Gamepad from '../engine/Gamepad';\nimport Ammo from 'ammo.js';\n\nexport default class Player extends GameObject {\n\n    constructor(name = null, meshPath = null, skinnedMesh = false, castShadow = false, recieveShadow = false, flatShading = false, position = Vector3.zero, rotation = Quaternion.Identity()) {\n        super(name, meshPath, skinnedMesh, castShadow, recieveShadow, flatShading, position, rotation);\n        this.vehicle = null;\n        this.moveDir = new Vector3(0, 0, 0);\n        this.euler = new Vector3(0, 0, 0);\n        this.btMoveVec3 = new Ammo.btVector3(0, 0, 0);\n    }\n\n    changeAnimation(animation) {\n        this.moveSpeed = 5.0;\n\n        if (this.model !== null)\n            this.model.playAnimation(animation);\n    }\n\n    update() {\n\n        const ePressed = Input.isKeyPressed('e') || Gamepad.isButtonPressed(Gamepad.Buttons.BUTTON_TOP);\n        if (ePressed && this.vehicle === null)\n            this.vehicle = VehicleManager.useVehicle();\n        else\n            if (ePressed && this.vehicle !== null) {\n                this.vehicle.inUse = false;\n                VehicleManager.leaveVehicle();\n                let pos = this.vehicle.position;\n                Camera.target = this;\n                this.vehicle = null;\n                this.setPosition(pos.set(pos.x + 2, 1, pos.z));\n\n            }\n\n        if (this.vehicle !== null && this.vehicle !== 'undefined' && this.position.y > -90) {\n            this.setPosition(new Vector3(0.0, -100, 0.0));\n\n            super.update();\n            return;\n        }\n\n        if (this.model && this.model.hasOwnProperty('mixer') && this.model.mixer !== null)\n            this.model.mixer.timeScale = 1.0;\n\n        let zMove = 0;\n        let xMove = 0;\n\n        if (Input.isKeyDown('w') || Input.isKeyDown('ArrowUp'))\n            zMove = -1;\n\n        if (Input.isKeyDown('s') || Input.isKeyDown('ArrowDown'))\n            zMove = 1;\n\n        if (Input.isKeyDown('a') || Input.isKeyDown('ArrowLeft'))\n            xMove = -1;\n\n        if (Input.isKeyDown('d') || Input.isKeyDown('ArrowRight'))\n            xMove = 1;\n\n    //    if (Input.isKeyPressed('l')){\n    //        this.model.ragdollActive = !this.model.ragdollActive;\n    //        this.model.SetRagdollActive(this.model.ragdollActive);\n    //    }\n\n        let stick = Gamepad.leftStick();\n\n        if (!Vector2.Equals(stick, Vector2.zero)) {\n     \n            xMove = stick.x;\n            zMove = stick.y;\n        }\n\n        this.moveDir.x = xMove ;\n        this.moveDir.z = zMove ;\n        this.moveDir.normalize();\n        \n        if (!Vector3.Equals(this.moveDir, Vector3.zero)) {\n            this.forward = this.moveDir.normalize();\n       \n            this.moveDir.x = this.forward.x * 3 ;\n            this.moveDir.z = this.forward.z * 3 ;\n            \n            this.euler.y = Vector3.Angle(Vector3.back, this.forward);\n            this.changeAnimation('Walk');\n        }\n        else {\n            this.changeAnimation('Rest');\n        }\n        \n \n        this.movePlayer();\n        this.setRotation(this.euler);\n\n        super.update();\n    }\n\n    movePlayer() {\n        const moveVec = new Vector3(this.moveDir.x, this.moveDir.y, this.moveDir.z);\n        moveVec.y = this.rigidBody.GetLinearVelocity().y;\n        this.btMoveVec3.setValue(moveVec.x, moveVec.y, moveVec.z);\n        this.rigidBody.body.setLinearVelocity(this.btMoveVec3);\n    }\n\n    collision(col) {\n        // Need to implement collision callbacks\n    }\n}","import * as THREE from \"three\";\nimport Camera from './Camera';\n\nclass AudioManager {\n    constructor() {\n        this.InitAudio();   \n        this.sounds = [];\n    }\n\n    InitAudio(){\n        this.listener = new THREE.AudioListener();\n        Camera.mainCamera.add(this.listener);\n        \n    }\n\n    LoadSound(path, loop = false, volume = 0.5) {\n        return new Promise((resolve, reject) => {\n            const loader = new THREE.AudioLoader();\n            let sound = new THREE.PositionalAudio(this.listener);\n\n            try {\n                loader.load(path, (buffer) => {\n\n                    if (buffer === null) reject('Error loading sound');\n\n                    sound.setBuffer(buffer);\n                    sound.setLoop(loop);\n                    sound.setVolume(volume);\n                    sound.setRefDistance(20);\n\n                    this.sounds.push({audio: sound, volume: volume});\n                    resolve(sound);\n                });\n            }\n            catch (e) {\n                resolve(e);\n            }\n        });\n    }\n\n    PlaySoundsMuted(){\n        for (let i = 0; i < this.sounds.length; i++){\n            this.sounds[i].audio.setVolume(0);\n            this.sounds[i].audio.play();\n            this.sounds[i].audio.stop();\n            this.sounds[i].audio.setVolume(this.sounds[i].volume);\n        }\n    }\n}\n\nconst Audio = new AudioManager();\nObject.freeze(Audio);\nexport default Audio;","import Scene from '../engine/Scene';\nimport Physics from '../engine/Physics';\nimport GameObject from '../engine/GameObject';\nimport Quaternion from '../engine/Quaternion';\nimport Vector3 from '../engine/Vector3';\nimport Input from '../engine/Input';\nimport Time from '../engine/Time';\nimport MathTools from '../engine/MathTools';\nimport Camera from '../engine/Camera';\nimport Audio from '../engine/Audio';\nimport Content from '../engine/Content';\nimport Ammo from 'ammo.js';\nimport VehicleManager from '../engine/VehicleManager';\nimport Gamepad from '../engine/Gamepad';\nimport Vector2 from '../engine/Vector2';\n\nexport default class Vehicle extends GameObject {\n    constructor(options) {\n        super();\n\n        this.inUse = false;\n        this.castShadow = true;\n        this.recieveShadow = true;\n        this.skinnedMesh = false;\n\n        this.btPos = new Ammo.btVector3(0,0,0);\n        this.btQuat = new Ammo.btQuaternion(0,0,0,1);\n        this.btDownForce = new Ammo.btVector3(0,0,0);\n        this.topSpeed = options.topSpeed;\n        this.steeringRate = 25.0;\n        this.accelRate = options.accelRate;\n        this.breakForce = options.breakForce;\n        this.accelForceFront = options.accelForceFront;\n        this.accelForceBack = options.accelForceBack;\n        this.reverse = false;\n        this.engineSound = null;\n        this.tireSquealSound = null;\n        this.enginePitch = options.enginePitch;\n        this.centerOfMass = options.centerOfMass;\n        this.downForce = options.downForce;\n        this.options = options;\n        this.speed = 0;\n        this.constantDownforce = options.constantDownforce;\n        this.downForceVel = new Vector3(0, -(Math.abs(this.speed) * this.downForce), 0);\n\n        Audio.LoadSound('./assets/sounds/engine.wav', true, 0.1)\n            .then(sound => {\n                this.engineSound = sound;\n                Content.LoadMesh(options.bodyModel, options.bodyModel, false, true, true, false)\n                    .then(model => {\n                        this.model = model;\n                        this.engineSound.parrent = this.model;\n                        this.setPosition(this.position);\n                        this.setRotation(this.rotation);\n\n                    })\n                    .catch(e => {\n                        console.log(e);\n                    });\n\n            })\n            .catch(e => {\n                console.log(e)\n            });\n\n        Audio.LoadSound('./assets/sounds/tiresqueal.wav', true, 0.5)\n            .then(sound => {\n                this.tireSquealSound = sound;\n            })\n            .catch(e => {\n                console.log(e)\n            });\n\n        this.bodyShape = Physics.createBoxShape(new Vector3(options.bodyWidth, options.bodyHeight, options.bodyLength));\n\n        let transform = new Ammo.btTransform();\n        transform.setIdentity();\n        transform.setOrigin(new Ammo.btVector3(options.position.x, options.position.y, options.position.z));\n        transform.setRotation(new Ammo.btQuaternion(options.rotation.x, options.rotation.y, options.rotation.z, options.rotation.w));\n        let motionState = new Ammo.btDefaultMotionState(transform);\n        let localInertia = new Ammo.btVector3(0, 0, 0);\n        this.bodyShape.calculateLocalInertia(options.mass, localInertia);\n        this.body = new Ammo.btRigidBody(new Ammo.btRigidBodyConstructionInfo(options.mass, motionState, this.bodyShape, localInertia));\n        this.body.setActivationState(4);\n        this.body.setRestitution(0.5);\n        Physics.world.addRigidBody(this.body);\n        this.tuning = new Ammo.btVehicleTuning();\n\n        this.raycaster = new Ammo.btDefaultVehicleRaycaster(Physics.world);\n        this.vehicle = new Ammo.btRaycastVehicle(this.tuning, this.body, this.raycaster);\n\n        this.vehicle.setCoordinateSystem(0, 1, 2);\n\n        Physics.world.addAction(this.vehicle);\n        Scene.addGameObject(this);\n\n\n        this.wheelModels = [];\n        this.wheelModels.push(new GameObject(options.wheelLeftModel, options.wheelLeftModel, false, true, true));\n        this.wheelModels.push(new GameObject(options.wheelRightModel, options.wheelRightModel, false, true, true));\n        this.wheelModels.push(new GameObject(options.wheelRightModel, options.wheelRightModel, false, true, true));\n        this.wheelModels.push(new GameObject(options.wheelLeftModel, options.wheelLeftModel, false, true, true));\n\n        for (let i = 0; i < this.wheelModels.length; i++) {\n            this.wheelModels[i].allowUpdate = false;\n        }\n\n        this.wheelInfo = [];\n        this.wheelInfo.push(this.createWheel(options, true, options.frontLeftPos, new Vector3(0, -1, 0), new Vector3(-1, 0, 0)));\n        this.wheelInfo.push(this.createWheel(options, true, options.frontRightPos, new Vector3(0, -1, 0), new Vector3(-1, 0, 0)));\n        this.wheelInfo.push(this.createWheel(options, false, options.backRightPos, new Vector3(0, -1, 0), new Vector3(-1, 0, 0)));\n        this.wheelInfo.push(this.createWheel(options, false, options.backLeftPos, new Vector3(0, -1, 0), new Vector3(-1, 0, 0)));\n\n        this.tuning = new Ammo.btVehicleTuning();\n        this.currentAccelFront = 0;\n        this.currentAccelBack = 0;\n        this.currentBrakingFront = 0;\n        this.currentBrakingBack = 0;\n        this.steeringAngle = 0;\n \n\n        VehicleManager.addVehicle(this);\n    }\n\n    createWheel(options, front, wheelPos, wheelDir, wheelAxle) {\n\n        let wheel = this.vehicle.addWheel(wheelPos.to_btVector3(), wheelDir.to_btVector3(), wheelAxle.to_btVector3(), options.suspensionLen, options.radius, this.tuning, front);\n\n        wheel.set_m_suspensionStiffness(options.stiffness);\n        wheel.set_m_wheelsDampingRelaxation(options.damping);\n        wheel.set_m_wheelsDampingCompression(options.compression);\n\n        const friction = front ? options.frontFriction : options.backFriction;\n        wheel.set_m_frictionSlip(friction);\n        wheel.set_m_rollInfluence(options.roll);\n\n        return wheel;\n    }\n\n    isUpsideDown() {\n        const rot = this.rotation.Euler();\n    \n        return (Math.abs(rot.x) * MathTools.rad2Deg >= 40  || Math.abs(rot.z) * MathTools.rad2Deg >= 40 );\n    }\n    updateInput() {\n        if (this.isUpsideDown() && this.inUse) {\n            if (Input.isKeyDown('r') || Gamepad.isButtonPressed(Gamepad.Buttons.BUMPER_RIGHT)) {\n                const position = new Vector3(this.position.x, this.position.y + 1.5, this.position.z);\n                const rotation = new Quaternion(0.0, this.rotation.y, 0.0, this.rotation.w);\n \n                this.btPos.setValue(position.x, position.y, position.z);\n                this.btQuat.setValue(rotation.x, rotation.y, rotation.z, rotation.w);\n                this.body.getWorldTransform().setOrigin(this.btPos);\n                this.body.getWorldTransform().setRotation(this.btQuat);\n                this.body.getMotionState().setWorldTransform(this.body.getWorldTransform());\n            }\n        }\n\n        if (!this.inUse && MathTools.approximate(this.speed, 0.0)){\n            if (this.engineSound !== null && this.engineSound.isPlaying)\n            this.engineSound.stop();\n        }\n\n        if (!this.inUse  ) return;\n\n        if (Gamepad.isConnected()) {\n            let axis = Gamepad.leftStick();\n\n            if (!Vector2.Equals(axis, Vector2.zero))\n                this.steeringAngle = -30 * axis.x;\n        }\n\n        if (this.engineSound !== null && !this.engineSound.isPlaying)\n            this.engineSound.play();\n\n        this.reverse = false;\n\n        if ((Input.isKeyDown('w') || Input.isKeyDown('ArrowUp') || Gamepad.rightTrigger() > 0) && this.speed <= this.topSpeed) {\n\n            const accel = (Gamepad.rightTrigger() > 0) ? Gamepad.rightTrigger() : 1;\n            this.currentBrakingFront = 0;\n            this.currentBrakingBack = 0;\n            this.currentAccelBack = (this.accelForceBack * this.accelRate) * accel;\n            this.currentAccelFront = (this.accelForceFront * this.accelRate) * accel;\n        }\n        else {\n            this.currentAccelBack = 0;\n            this.currentAccelFront = 0;\n            this.currentBrakingFront = 0.5;\n            this.currentBrakingBack = 0.5;\n        }\n\n        if (Input.isKeyDown('s') || Input.isKeyDown('ArrowDown') || Gamepad.leftTrigger() > 0) {\n            this.reverse = true;\n            const breaking = (Gamepad.leftTrigger() > 0) ? Gamepad.leftTrigger() : 1;\n            if (this.speed <= 0) {\n                this.currentBrakingFront = 0;\n                this.currentBrakingBack = 0;\n                this.currentAccelBack = -((this.accelForceBack * 0.5) * this.accelRate) * breaking;\n                this.currentAccelFront = -((this.accelForceFront * 0.5) * this.accelRate) * breaking;\n            }\n            else {\n                this.currentBrakingFront = this.breakForce * 0.25 * breaking;\n                this.currentBrakingBack = this.breakForce * 0.25 * breaking;\n            }\n        }\n\n        if (Input.isKeyDown('a') || Input.isKeyDown('ArrowLeft')) {\n            this.steeringAngle += 15 * this.steeringRate * Time.deltaTime;\n        }\n        else\n            if (Input.isKeyDown('d') || Input.isKeyDown('ArrowRight')) {\n                this.steeringAngle -= 15 * this.steeringRate * Time.deltaTime;\n            }\n            else {\n                this.steeringAngle = MathTools.moveTowards(this.steeringAngle, 0.0, this.steeringRate * Time.deltaTime);\n            }\n\n        this.steeringAngle = MathTools.clamp(this.steeringAngle, -25, 25);\n    }\n\n    updateSound() {\n        if (Math.abs(this.body.getAngularVelocity().y()) > 1) {\n\n            if (this.tireSquealSound !== null && this.model !== null) {\n\n                if (!this.tireSquealSound.isPlaying)\n                    this.tireSquealSound.play();\n\n                this.tireSquealSound.panner.setPosition(this.model.mesh.position.x, this.model.mesh.position.y, this.model.mesh.position.z);\n\n                this.tireSquealSound.setPlaybackRate(0.7);\n                this.tireSquealSound.setDetune(-250);\n            }\n        }\n        else {\n            if (this.tireSquealSound !== null && this.tireSquealSound.isPlaying)\n                this.tireSquealSound.stop();\n        }\n\n        if (this.engineSound !== null && this.model !== null) {\n\n            if (this.engineSound.isPlaying && this.model.mesh) {\n\n                this.engineSound.setDetune((Math.abs(this.speed) + this.enginePitch) * 10);\n                this.engineSound.panner.setPosition(this.model.mesh.position.x, this.model.mesh.position.y, this.model.mesh.position.z);\n\n            }\n        }\n    }\n\n    updateWheels() {\n        for (let i = 0; i < this.vehicle.getNumWheels(); i++) {\n\n            this.vehicle.updateWheelTransform(i, false);\n\n            const tm = this.vehicle.getWheelTransformWS(i);\n            const p = tm.getOrigin();\n            const q = tm.getRotation();\n\n            if (this.wheelModels[i].model && this.wheelModels[i].model.mesh) {\n                this.wheelModels[i].model.mesh.position.set(p.x(), p.y(), p.z());\n                this.wheelModels[i].model.mesh.quaternion.set(q.x(), q.y(), q.z(), q.w());\n            }\n        }\n    }\n\n    updateRigidBody() {\n        const tm = this.body.getWorldTransform();\n        const p = tm.getOrigin();\n        const q = tm.getRotation();\n        this.rotation.set(q.x(), q.y(), q.z(), q.w());\n        this.position.set(p.x(), p.y(), p.z());\n        let euler = this.rotation.Euler();\n        euler.x *= MathTools.deg2Rad;\n        euler.y *= MathTools.deg2Rad;\n        euler.z *= MathTools.deg2Rad;\n        this.rotation = Quaternion.FromEuler(euler.x, euler.y, euler.z);\n\n   \n        if (this.model && this.model.mesh) {\n            this.model.mesh.position.set(p.x(), p.y(), p.z());\n            this.model.mesh.quaternion.set(q.x(), q.y(), q.z(), q.w());\n     \n      \n        }\n    }\n\n    updateSpeed() {\n        let vel = (this.vehicle.getRigidBody().getLinearVelocity().length() - 0.163);\n\n        if (vel < 0.009)\n            vel = 0;\n\n        const dir = this.reverse && this.speed < 0.05 ? -1 : 1;\n        this.speed = vel * 9.8 * dir;\n    }\n\n    updateMovement() {\n        this.vehicle.applyEngineForce(this.currentAccelFront, 0);\n        this.vehicle.applyEngineForce(this.currentAccelFront, 1);\n        this.vehicle.applyEngineForce(this.currentAccelBack, 2);\n        this.vehicle.applyEngineForce(this.currentAccelBack, 3);\n\n        this.vehicle.setBrake(this.currentBrakingFront, 0);\n        this.vehicle.setBrake(this.currentBrakingFront, 1);\n        this.vehicle.setBrake(this.currentBrakingBack / 2, 2);\n        this.vehicle.setBrake(this.currentBrakingBack / 2, 3);\n    }\n\n    updateSteering() {\n\n        this.vehicle.setSteeringValue(0, 3);\n        this.vehicle.setSteeringValue(0, 2);\n        this.vehicle.setSteeringValue(this.steeringAngle * MathTools.deg2Rad, 0);\n        this.vehicle.setSteeringValue(this.steeringAngle * MathTools.deg2Rad, 1);\n    }\n\n    applyDownforce() {\n        const downForce = this.constantDownforce ? -this.downForce : -(Math.abs(this.speed) * this.downForce);\n        this.downForceVel = new Vector3(0, downForce,0);\n        this.btDownForce.setValue(this.downForceVel.x, this.downForceVel.y, this.downForceVel.z);\n        this.body.applyCentralImpulse(this.btDownForce);\n    }\n    resetMovementWhenNotInUse() {\n        if (!this.inUse) {\n            this.currentBrakingFront = this.breakForce * 0.25;\n            this.currentBrakingBack = this.breakForce * 0.25;\n            this.currentAccelBack = 0;\n            this.currentAccelFront = 0;\n        }\n    }\n\n    update() {\n        Camera.mainCamera.add(Audio.listener);\n        this.applyDownforce();\n        this.resetMovementWhenNotInUse();\n        this.updateInput();\n        this.updateSound();\n        this.updateMovement();\n        this.updateSteering();\n        this.updateWheels();\n        this.updateRigidBody();\n        this.updateSpeed();\n    }\n}\n","import Vector3 from '../engine/Vector3';\nimport GameEngine from '../engine/GameEngine';\nimport Input from '../engine/Input';\n\nclass InfoStationsController {\n    constructor() {\n        this.infoStations = [];\n        this.activationDistance = 0.75;\n        this.inUse = false;\n    }\n\n    addInfoStation(position, stationName) {\n        this.infoStations.push({ position: position, name: stationName });\n    }\n\n    update(pos) {\n        let activate = false;\n        let openModal = '';\n        let closestDistance = 10;\n\n        for (let i = 0; i < this.infoStations.length; i++) {\n            const dist = Vector3.Distance(this.infoStations[i].position, pos);\n\n            if (dist < closestDistance) closestDistance = dist;\n\n            if (dist <= this.activationDistance && !this.inUse) {\n                this.inUse = true;\n                activate = true;\n                openModal = this.infoStations[i].name;\n                break;\n            }\n        }\n\n        if (closestDistance > this.activationDistance)\n            this.inUse = false;\n\n        if (activate) {\n            Input.clearKeys();\n            GameEngine.openModal(openModal);\n        }\n    }\n}\n\nconst InfoStationManager = new InfoStationsController();\n\nexport default InfoStationManager; ","import * as THREE from 'three';\nimport GameObject from './GameObject';\nimport Scene from './Scene';\nimport Camera from './Camera';\nimport { Vector3 } from 'three';\nimport MathTools from './MathTools';\n\nexport default class Light extends GameObject {\n\n    static LightType = {\n        DIRECTIONAL: 0,\n        POINT: 1,\n        SPOT: 2,\n        AMBIENT: 3,\n    }\n\n\n    constructor(options = { lightType: Light.LightType.DirectionalLight, \n                            color: 0xffffff, \n                            intensity: 1, \n                            castShadow: true, \n                            shadowMapWidth: 2048, \n                            shadowMapHeight: 2048, \n                            cameraNear: 0.1, \n                            cameraFar: 50, \n                            shadowBias: -0.00025, \n                            shadowCameraSize: 50,\n                            target: new Vector3(0 , -1, 0),\n                            position: new Vector3(0, 1, 0),\n                            distance: 100,\n                            decay: 2,\n                            angle: 30 * MathTools.deg2Rad,\n                            penumbra: 0.03\n                            }) {\n        super();\n        this.options = options;\n        this.light = null;\n\n        if (this.options.position === undefined)\n            this.options.position = new Vector3(0, 1, 0);\n\n        switch (options.lightType) {\n            case Light.LightType.DIRECTIONAL:\n                this.createDirectionalLight();\n                break;\n            case Light.LightType.POINT:\n                this.createPointLight();\n                break;\n            case Light.LightType.SPOT:\n                this.createSpotLight();\n                break;\n            case Light.LightType.AMBIENT:\n                this.createAmbientLight();\n                break;\n            default:\n                console.log('Unknown light type')\n        }\n    }\n\n    createDirectionalLight() {\n        this.light = new THREE.DirectionalLight(this.options.color, this.options.intensity);\n\n        if (this.options.castShadow)\n            this.enableShadows();\n\n        this.light.target = new THREE.Object3D();\n\n        Scene.add(this.light.target);\n        Scene.add(this.light);\n    }\n\n    createAmbientLight() {\n        this.light = new THREE.AmbientLight(this.options.color, this.options.intensity);\n        Scene.add(this.light);\n    }\n\n    createPointLight(){\n        this.light = new THREE.PointLight(this.position.color, this.options.intensity, this.options.distance);\n        this.light.decay = this.options.decay;\n        const pos = this.options.position;\n        this.light.position.set(pos.x, pos.y, pos.z);\n\n        if (this.options.castShadow)\n            this.enableShadows();\n\n        Scene.add(this.light);\n    }\t \n    createSpotLight(){\n        this.light = new THREE.SpotLight(this.options.color, this.options.intensity, this.options.distance, this.options.angle, this.options.penumbra, this.options.decay);\n\n        const pos = this.options.position;\n        const target = this.options.target;\n        \n        this.light.position.set(pos.x, pos.y, pos.z);\n        \n        this.light.target.position.set(target.x, target.y, target.z);\n        \n        if (this.options.castShadow)\n            this.enableShadows();\n            \n        Scene.add(this.light.target);\n        Scene.add(this.light);\n    }\n\n    enableShadows(){\n        this.light.castShadow = this.options.castShadow;\n\n        this.light.shadow.mapSize.width = this.options.shadowMapWidth;\n        this.light.shadow.mapSize.height = this.options.shadowMapHeight;\n        this.light.shadow.camera.near = this.options.cameraNear;\n        this.light.shadow.camera.far = this.options.cameraFar;\n        this.light.shadow.bias = this.options.shadowBias;\n\n        this.light.shadow.camera.top = this.options.shadowCameraSize;\n        this.light.shadow.camera.bottom = -this.options.shadowCameraSize;\n        this.light.shadow.camera.left = -this.options.shadowCameraSize;\n        this.light.shadow.camera.right = this.options.shadowCameraSize;\n    }\n\n    update() {\n\n        if (this.light === null) return;\n\n        if (this.options.lightType === Light.LightType.DIRECTIONAL) {\n            const camPos = Camera.position;\n            this.light.position.set(camPos.x, 1, camPos.z + 5);\n            this.light.target.position.set(this.options.target.x + camPos.x, this.options.target.y, this.options.target.z + camPos.z);\n        }\n        else\n        if(this.options.lightType === Light.LightType.SPOT){\n            this.light.position.set(this.options.position.x, this.options.position.y, this.options.position.z);\n            this.light.target.position.set(this.options.target.x , this.options.target.y, this.options.target.z);\n        }\n    }\n}","import Scene from './Scene';\nimport Physics from './Physics';\nimport GameObject from './GameObject';\n\nimport Vector3 from './Vector3';\n\nimport Ammo from 'ammo.js';\nimport Quaternion from './Quaternion';\nimport  Vector2  from './Vector2';\n\n\nexport default class Ball extends GameObject {\n    constructor(options = { position: Vector3.zero, rotation: Quaternion.Identity(), mass: 1, friction: 1, rollingFriction: 0.8, damping: new Vector2(0.2, 0.1), restitution: 0.8, radius: 1,  model: ''}) {\n        super(options.model, null, false, true, true, false, Vector3.zero, Quaternion.Identity());\n\n        this.inUse = false;\n        this.castShadow = true;\n        this.recieveShadow = true;\n        this.skinnedMesh = false;\n\n        this.options = options;\n        this.shape = Physics.createSphereShape(options.radius);\n        this.body = null;\n        this.tag = options.tag;\n\n        this.LoadModel(options.model, options.model, false, false)\n        .then(() => {\n            \n            let transform = new Ammo.btTransform();\n            transform.setIdentity();\n            transform.setOrigin(new Ammo.btVector3(this.options.position.x, this.options.position.y, this.options.position.z));\n            transform.setRotation(new Ammo.btQuaternion(this.options.rotation.x, this.options.rotation.y, this.options.rotation.z, this.options.rotation.w));\n            let motionState = new Ammo.btDefaultMotionState(transform);\n            let localInertia = new Ammo.btVector3(0, 0, 0);\n            this.shape.calculateLocalInertia(this.options.mass, localInertia);\n            this.body = new Ammo.btRigidBody(new Ammo.btRigidBodyConstructionInfo(this.options.mass, motionState, this.shape, localInertia));\n            this.body.setActivationState(4);\n\n            this.body.setFriction(this.options.friction);\n            this.body.setRestitution(this.options.restitution);\n            this.body.setRollingFriction(this.options.rollingFriction);\n            this.body.setDamping(this.options.damping.x, this.options.damping.y);\n            \n            Physics.world.addRigidBody(this.body);\n            Scene.addGameObject(this);\n        });\n    \n\n    }\n\n    update() {\n        if (this.body === null) return;\n            const p = this.body.getWorldTransform().getOrigin();\n            const q = this.body.getWorldTransform().getRotation();\n\n            if (this.model && this.model.mesh) {\n                this.model.mesh.position.set(p.x(), p.y(), p.z());\n                this.model.mesh.quaternion.set(q.x(), q.y(), q.z(), q.w());\n                this.position.set(p.x(), p.y(), p.z());\n                this.rotation.set(q.x(), q.y(), q.z(), q.w());\n            }\n    }\n}\n","import Vector3 from '../engine/Vector3';\nimport Camera from '../engine/Camera';\nimport Quaternion from '../engine/Quaternion';\nimport MathTools from '../engine/MathTools';\nimport Input from '../engine/Input';\nimport Gamepad from '../engine/Gamepad';\n\nexport default class CameraController{\n    constructor(offset){\n        this.offset = offset;\n        this.fixedCameraMode = true;\n        \n    }\n\n    update(){\n        if (Input.isKeyPressed('c') || Gamepad.isButtonPressed(Gamepad.Buttons.BUMPER_LEFT))\n            this.fixedCameraMode = !this.fixedCameraMode;\n    }\n\n    lateUpdate(){\n           \n    if (this.fixedCameraMode)\n        this.fixedCamera();\n    else\n        this.followCamera();\n\n   \n    }\n\n    fixedCamera(){\n        if (Camera.target === null) return;\n\n        \n        Camera.position = Vector3.Add(Camera.target.position, this.offset);\n        Camera.rotation = Quaternion.LookAt(Camera.position, Camera.target.position, Vector3.up);\n\n        Camera.SetPosition(Camera.position);\n\n        const rot = Camera.rotation.Euler();\n        rot.x *= MathTools.deg2Rad;\n        rot.y *= MathTools.deg2Rad;\n        rot.z *= MathTools.deg2Rad;\n\n        Camera.Rotate(rot);\n    }\n\n    followCamera(){\n     \n        if (Camera.target === null) return;\n\n        Camera.rotation = Quaternion.LookAt(Camera.position, Camera.target.position, Vector3.up);\n        let euler = Camera.target.rotation.Euler();\n        euler.x *= MathTools.rad2Deg;\n        euler.y *= MathTools.rad2Deg;\n        euler.z *= MathTools.rad2Deg;\n\n        const quat = Quaternion.FromEuler(euler.x, euler.y, euler.z);\n        let forward  =  new Vector3(0, 0, -4);\n        forward.rotate(quat);\n        \n        forward.y = Camera.target.position.y + 1;\n      \n        Camera.SetPosition(Vector3.Add(Camera.target.position,  forward));\n        \n        Camera.mainCamera.lookAt(Camera.target.position.x, Camera.target.position.y, Camera.target.position.z)\n      \n \n    }\n}","import Player from './Player';\nimport Scene from '../engine/Scene';\nimport Camera from '../engine/Camera';\nimport Vector3 from '../engine/Vector3';\nimport Vector2 from '../engine/Vector2';\nimport Physics from '../engine/Physics';\nimport GameObject from '../engine/GameObject';\nimport Vehicle from './Vehicle';\nimport Quaternion from '../engine/Quaternion';\nimport InfoStationManager from './InfoStationManager';\nimport Light from '../engine/Light';\nimport Ball from '../engine/Ball';\nimport VehicleManager from '../engine/VehicleManager';\nimport CameraController from './CameraController';\n\nexport default class MainGame{\n    Init() {\n     \n        this.ball = new Ball({\n            position: new Vector3(0.0, 2.0, -20.0),\n            rotation: Quaternion.Identity(),\n            mass: 0.2,\n            friction: 0.5,\n            rollingFriction: 0.3,\n            restitution: 1.5,\n            damping: new Vector2(0.2, 0.1),\n            radius: 0.175,\n            model: './assets/models/soccerball.glb'\n        });\n\n        Scene.setExpoFog('skyblue', 0.0075);\n\n        this.light = new Light({\n            lightType: Light.LightType.DIRECTIONAL,\n            color: 0xffffff,\n            intensity: 1,\n            castShadow: true,\n            shadowMapWidth: 8192,\n            shadowMapHeight: 8192,\n            cameraNear: 0.1,\n            cameraFar: 500,\n            shadowBias: -0.00025,\n            shadowCameraSize: 75,\n            target: new Vector3(-5, -5, -5)\n        });\n\n        this.ambientLight = new Light({\n            lightType: Light.LightType.AMBIENT,\n            color: 0xffffff,\n            intensity: 0.5\n        });\n\n   \n\n        this.Load().then(() => { });\n    }\n\n    Load = async () => {\n        return await new Promise((resolve, reject) => {\n            this.player = new Player('player', null, true, true, true, new Vector3(0, 1, 0), Quaternion.FromEuler(0, 180, 0));\n            this.player.LoadModel('player', './assets/models/chris.glb', true)\n            .then(() => {\n                this.player.addRigidBody({\n                    friction: 0.5,\n                    rollingFriction: 0,\n                    restitution: 0.5,\n                    mass: 1\n                }, Physics.createCapsuleShape(0.25, 0.5, Vector3.up), new Vector3(0, 1, 0));\n            });\n\n            this.ground = new GameObject('ground', './assets/models/ground.glb', false, false, true,);\n            this.ground.addRigidBody({\n                friction: 1,\n                rollingFriction: 1,\n                restitution: 0.5   ,\n                mass: 0\n            }, Physics.createPlaneShape(Vector3.up), new Vector3(0, 0.0, 0));\n\n            this.grass = new GameObject('grass', './assets/models/grass.glb', false, true, true, true, new Vector3(0, 0, -10));\n\n            this.moundSign = new GameObject('moundsign', './assets/models/moundsign.glb', false, true, true,);\n            this.moundSign.setPosition(new Vector3(0, 0, -10));\n\n            this.road = new GameObject('road', null, false, true, true, true);\n            this.road.LoadModel('road', './assets/models/road.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.road.model.mesh)\n                        .then(shape => {\n                            this.road.addRigidBody(\n                                {\n                                    friction: 1,\n                                    rollingFriction: 1,\n                                    restitution: 0.0,\n                                    mass: 0\n                                }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.parkinglot = new GameObject('parkinglot', null, false, true, true, true);\n            this.parkinglot.LoadModel('parkinglot', './assets/models/parkinglot.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.parkinglot.model.mesh)\n                        .then(shape => {\n                            this.parkinglot.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.infostation = new GameObject('infostation', './assets/models/infostation.glb', false, false, true, false, new Vector3(0, 0, -10));\n\n            this.infostationbase = new GameObject('infostationbase', null, false, false, true, false, new Vector3(0, 0, -10));\n            this.infostationbase.LoadModel('infostation', './assets/models/infostationbase.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.infostationbase.model.mesh)\n                        .then(shape => {\n                            this.infostationbase.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.mightychicken = new GameObject('mightychicken', null, false, true, true, true);\n\n\n            this.mightychicken.LoadModel('mightychicken', './assets/models/mightychicken.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.mightychicken.model.mesh)\n                        .then(shape => {\n                            this.mightychicken.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.mightychickensign = new GameObject('mightychickensign', null, false, true, true, true);\n\n\n            this.mightychickensign.LoadModel('mightychickensign', './assets/models/mightychickensign.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.mightychickensign.model.mesh)\n                        .then(shape => {\n                            this.mightychickensign.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n \n\n            InfoStationManager.addInfoStation(new Vector3(-19.921, 0, -7.5799), 'roadracer');\n            InfoStationManager.addInfoStation(new Vector3(-41.183, 0, -0.5502), 'mightychicken');\n            InfoStationManager.addInfoStation(new Vector3(28.144, 0, -10.426), 'pawsnfind');\n            InfoStationManager.addInfoStation(new Vector3(37.3217, 0, -7.9411), 'pawsnfind');\n            this.pawsnfind = new GameObject('pawsnfind', null, false, true, true, false);\n            this.pawsnfind.LoadModel('pawsnfind', './assets/models/pawsnfind.glb', false)\n                .then(() => {\n                    Physics.createMeshShape(this.pawsnfind.model.mesh)\n                        .then(shape => {\n                            this.pawsnfind.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -10));\n                        });\n                });\n\n\n                this.bentogirl = new GameObject('bentogirl', null, false, true, true, false);\n                this.bentogirl.LoadModel('bentogirl', './assets/models/bentogirl.glb', false)\n                    .then(() => {\n                        Physics.createMeshShape(this.bentogirl.model.mesh)\n                            .then(shape => {\n                                this.bentogirl.addRigidBody({\n                                    friction: 0.5,\n                                    rollingFriction: 1,\n                                    restitution: 0.0,\n                                    mass: 0\n                                }, shape, new Vector3(0, 0.0, -10));\n                            });\n                    });\n\n            this.racetrack = new GameObject('racetrack', null, false, false, true, true);\n            this.racetrack.LoadModel('racetrack', './assets/models/racetrack.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.racetrack.model.mesh)\n                        .then(shape => {\n                            this.racetrack.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0.0, -25));\n                        });\n                });\n\n                this.racetrackstart = new GameObject('racetrackstart', null, false, true, true, false);\n                this.racetrackstart.LoadModel('racetrackstart', './assets/models/racetrackstart.glb', false)\n                    .then(() => {\n                        Physics.createMeshShape(this.racetrackstart.model.mesh)\n                            .then(shape => {\n                                this.racetrackstart.addRigidBody({\n                                    friction: 0.5,\n                                    rollingFriction: 1,\n                                    restitution: 0.0,\n                                    mass: 0\n                                }, shape, new Vector3(0, 0.075, -25));\n                            });\n                    });\n\n/*sa\n            this.racetrackbarrie1 = new GameObject('racetrackbarrier1', null, false, false, true, true);\n            this.racetrackbarrie1.LoadModel('racetrackbarrier1', './assets/models/racetrackbarrier1.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.racetrackbarrie1.model.mesh)\n                        .then(shape => {\n                            this.racetrackbarrie1.addRigidBody({\n                                friction: 0.5,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(-50, 0.0, -50));\n                        });\n                });\n\n                this.racetrackbarrier2 = new GameObject('racetrackbarrier2', null, false, false, true, true);\n                this.racetrackbarrier2.LoadModel('racetrackbarrier2', './assets/models/racetrackbarrier2.glb', true)\n                    .then(() => {\n                        Physics.createMeshShape(this.racetrackbarrier2.model.mesh)\n                            .then(shape => {\n                                this.racetrackbarrier2.addRigidBody({\n                                    friction: 0.5,\n                                    rollingFriction: 1,\n                                    restitution: 0.0,\n                                    mass: 0\n                                }, shape, new Vector3(-50, 0.0, -50));\n                            });\n                    });\n    */\n\n            this.parkinglotcurb = new GameObject('parkinglotcurb', null, false, true, true, true);\n            this.parkinglotcurb.LoadModel('parkinglotcurb', './assets/models/parkinglotcurb.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.parkinglotcurb.model.mesh)\n                        .then(shape => {\n                            this.parkinglotcurb.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.garage = new GameObject('garage', null, false, true, true, true);\n            this.garage.LoadModel('garage', './assets/models/garage.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.garage.model.mesh)\n                        .then(shape => {\n                            this.garage.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.garagedoor = new GameObject('garagedoor', null, false, true, true, true);\n            this.garagedoor.LoadModel('garagedoor', './assets/models/garagedoor.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.garagedoor.model.mesh)\n                        .then(shape => {\n                            this.garagedoor.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.rrsign = new GameObject('rrsign', null, false, true, true, true);\n            this.rrsign.LoadModel('rrsign', './assets/models/rrsign.glb', true, false)\n                .then(() => {\n                    Physics.createMeshShape(this.rrsign.model.mesh)\n                        .then(shape => {\n                            this.rrsign.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.mound = new GameObject('mound', null, false, true, true, true);\n            this.mound.LoadModel('mound', './assets/models/mound.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.mound.model.mesh)\n                        .then(shape => {\n                            this.mound.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n            this.fenceleft = new GameObject('fenceleft', null, false, true, true, true);\n            this.fenceleft.LoadModel('fenceleft', './assets/models/fenceleft.glb', true)\n                .then(() => {\n                    Physics.createMeshShape(this.fenceleft.model.mesh)\n                        .then(shape => {\n                            this.fenceleft.addRigidBody({\n                                friction: 1,\n                                rollingFriction: 1,\n                                restitution: 0.0,\n                                mass: 0\n                            }, shape, new Vector3(0, 0, -10));\n                        });\n                });\n\n   \n\n            this.cameraController = new CameraController( new Vector3(0, 3.0, 5.0));\n            Camera.controller = this.cameraController;\n            Camera.target = this.player;\n\n            this.vehicle2 = new Vehicle({\n                breakForce: 25,\n                accelForceFront: 20,\n                accelForceBack: 100,\n                accelRate: 3,\n                downForce: 0.02,\n                topSpeed: 120,\n                bodyWidth: 0.956,\n                bodyHeight: 0.738,\n                bodyLength: 2.28,\n                mass: 100,\n                enginePitch: 25,\n                position: new Vector3(-38.62, 0.56, -9.23),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/classicbug.glb',\n                wheelLeftModel: './assets/models/classicbugwheelLeft.glb',\n                wheelRightModel: './assets/models/classicbugwheelRight.glb',\n                stiffness: 50.0,\n                damping: 1.75,\n                compression: 2.4,\n                backFriction: 0.95,\n                frontFriction: 1,\n                roll: .25,\n                radius: 0.25,\n                suspensionLen: 0.095,\n                backLeftPos: new Vector3(-0.4, -0.35, -0.654),\n                backRightPos: new Vector3(0.4, -0.35, -0.654),\n                frontRightPos: new Vector3(0.38, -0.35, 0.719),\n                frontLeftPos: new Vector3(-0.38, -0.35, 0.719),\n            });\n\n            this.vehicle = new Vehicle({\n                breakForce: 25,\n                accelForceFront: 50,\n                accelForceBack: 150,\n                downForce: 0.15,\n                accelRate: 3,\n                topSpeed: 250,\n                bodyWidth: 1.25,\n                bodyHeight: 0.6,\n                bodyLength: 2.128,\n                mass: 150,\n                enginePitch: -100,\n                position: new Vector3(-24.438, 0.624, -10.447),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/hotrod.glb',\n                wheelLeftModel: './assets/models/hotrodwheelLeft.glb',\n                wheelRightModel: './assets/models/hotrodwheelRight.glb',\n                stiffness: 125.0,\n                damping: 3,\n                compression: 2.5,\n                backFriction: 1,\n                frontFriction: 1,\n                roll: 0.35,\n                radius: 0.25,\n                suspensionLen: 0.1,\n                backLeftPos: new Vector3(-0.524, -0.309, -0.654),\n                backRightPos: new Vector3(0.524, -0.309, -0.654),\n                frontRightPos: new Vector3(0.524, -0.309, 0.719),\n                frontLeftPos: new Vector3(-0.524, -0.309, 0.719),\n            });\n\n            this.vehicle3 = new Vehicle({\n                breakForce: 25,\n                accelForceFront: 180,\n                accelForceBack: 250,\n                accelRate: 1,\n                downForce: 0.15,\n                topSpeed: 200,\n                bodyWidth: 1.15,\n                bodyHeight: 0.5,\n                bodyLength: 2.128,\n                mass: 200,\n                enginePitch: -50,\n                position: new Vector3(-27.407, 0.59, -9.5),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/sportscar.glb',\n                wheelLeftModel: './assets/models/sportscarwheelLeft.glb',\n                wheelRightModel: './assets/models/sportscarwheelRight.glb',\n                stiffness: 250.0,\n                damping: 10,\n                compression: 2.5,\n                backFriction: 1,\n                frontFriction: 1.0,\n                roll: 0.1,\n                radius: 0.25,\n                suspensionLen: 0.075,\n                backLeftPos: new Vector3(-0.45, -0.23, -0.62),\n                backRightPos: new Vector3(0.45, -0.23, -0.62),\n                frontRightPos: new Vector3(0.45, -0.23, 0.69),\n                frontLeftPos: new Vector3(-0.45, -0.23, 0.69),\n            });\n\n            this.vehicle4 = new Vehicle({\n                breakForce: 35,\n                accelForceFront: 0,\n                accelForceBack: 500,\n                accelRate: 1,\n                downForce: 0.15,\n                topSpeed: 322,\n                bodyWidth: 1.15,\n                bodyHeight: 0.35,\n                bodyLength: 2.128,\n                mass: 100,\n                enginePitch: 50,\n                position: new Vector3(-35.883, 0.295, -6.466),\n                rotation: new Quaternion(0, 0.545, 0, 0.8383),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/racecar.glb',\n                wheelLeftModel: './assets/models/racecarwheelLeft.glb',\n                wheelRightModel: './assets/models/racecarwheelRight.glb',\n                stiffness: 500.0,\n                damping: 2.3,\n                compression: 2.4,\n                backFriction: 1.95,\n                frontFriction:2,\n                roll: 0.0,\n                radius: 0.25,\n                suspensionLen: 0.01,\n                backLeftPos: new Vector3(-0.4, 0, -0.8),\n                backRightPos: new Vector3(0.4, 0, -0.8),\n                frontRightPos: new Vector3(0.4, 0, 0.67),\n                frontLeftPos: new Vector3(-0.4, 0, 0.67),\n            });\n\n            this.vehicle5 = new Vehicle({\n                breakForce: 10,\n                accelForceFront: 0,\n                accelForceBack: 250,\n                accelRate: 1,\n                downForce: 0.01,\n                topSpeed: 100,\n                bodyWidth: 1.0,\n                bodyHeight: 1.5,\n                bodyLength: 2.128,\n                mass: 500,\n                enginePitch: -100,\n                position: new Vector3(-33.75, 0.649, -10.43),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/truck.glb',\n                wheelLeftModel: './assets/models/truckwheelLeft.glb',\n                wheelRightModel: './assets/models/truckwheelRight.glb',\n                stiffness: 250.0,\n                damping: 2.3,\n                compression: 1.4,\n                backFriction: 0.95,\n                frontFriction: 0.95,\n                roll: .25,\n                radius: 0.25,\n                suspensionLen: 0.1,\n                backLeftPos: new Vector3(-0.45, -0.5, -0.6),\n                backRightPos: new Vector3(0.45, -0.5, -0.6),\n                frontRightPos: new Vector3(0.45, -0.5, 0.95),\n                frontLeftPos: new Vector3(-0.45, -0.5, 0.95),\n            });\n\n            this.vehicle5 = new Vehicle({\n                breakForce: 20,\n                accelForceFront: 0,\n                accelForceBack: 225,\n                accelRate: 3,\n                downForce: 0.2,\n                topSpeed: 160,\n                bodyWidth: 1.0,\n                bodyHeight: 1.0,\n                bodyLength: 2.128,\n                mass: 300,\n                enginePitch: -100,\n                position: new Vector3(-30.404, 0.649, -8.43),\n                rotation: new Quaternion(0, 0.191, 0, 0.982),\n                centerOfMass: new Vector3(0, -1, 0),\n                bodyModel: './assets/models/pickup.glb',\n                wheelLeftModel: './assets/models/pickupwheelLeft.glb',\n                wheelRightModel: './assets/models/pickupwheelRight.glb',\n                stiffness: 50.0,\n                damping: 2.3,\n                compression: 1.4,\n                backFriction: 0.95,\n                frontFriction: 0.95,\n                roll: .25,\n                radius: 0.25,\n                suspensionLen: 0.125,\n                backLeftPos: new Vector3(-0.425, -0.3, -0.79),\n                backRightPos: new Vector3(0.425, -0.3, -0.79),\n                frontRightPos: new Vector3(0.425, -0.3, 0.71),\n                frontLeftPos: new Vector3(-0.425, -0.3, 0.71),\n            });\n            resolve(true);  // This needs to be better\n        });\n    }\n\n    update(){\n      \n        VehicleManager.checkVehicleInRange(this.player.position);\n        InfoStationManager.update(this.player.position);\n    }\n}","import Scene from './Scene';\nimport Camera from './Camera';\nimport Time from './Time';\nimport Physics from './Physics';\nimport Renderer from './Renderer';\nimport PostProcessing from './PostProcessing';\nimport Input from './Input';\nimport Gamepad from './Gamepad';\nimport MainGame from '../maingame/MainGame';\n//import StadiumGame from '../stadiumgame/StadiumGame';\n\nclass Engine {\n    constructor() {\n        this.fps = 0;\n        this.fpsTime = 0;\n    \n        this.mainGame = new MainGame();\n        this.mainGame.Init();\n    }\n\n    Init(){\n    \n   \n        requestAnimationFrame(this.Animate);\n    }\n    SetOpenModalCallback(openModal, isModalOpen) {\n        this.openModal = openModal;\n        this.isModalOpen = isModalOpen;\n    }\n\n    InitRenderer = (canvas, width, height) => {\n        this.renderer = new Renderer();\n        this.renderer.InitRenderer(canvas, width, height, this.Animate).then(renderer => {\n            PostProcessing.init(renderer);\n           //  PostProcessing.addFXAA();\n           //  PostProcessing.addBloom();\n            //rz PostProcessing.addBokeh(); \n        })\n            .then(() => {\n                //    this.renderer.compile(Scene.scene, Camera.mainCamera); \n            });\n    }\n\n    GetRenderer() {\n        return this.renderer.renderer;\n    }\n\n    Animate = () => {\n\n        if (this.isModalOpen()) {\n            Gamepad.clearButtons();\n            Input.clearKeys();\n        }\n\n        Gamepad.update();\n        Time.Update();\n\n     \n       \n        this.mainGame.update();\n\n        Scene.update();\n\n        if (PostProcessing.isUsingEffects())\n            PostProcessing.render();\n        else\n            this.renderer.Render(Scene.getScene(), Camera.mainCamera);\n\n        this.fpsTime += Time.deltaTime;\n        this.fps++;\n        if (this.fpsTime >= 1) {\n            //   document.title = this.fps + ' fps';\n            this.fps = 0;\n            this.fpsTime = 0;\n        }\n\n        Physics.update();\n    }\n}\n\nconst GameEngine = new Engine();\n\nexport default GameEngine;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport roadracerbanner from '../../images/roadracerlogo.png';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            width: 'auto',\n            transform: `translate(-${top}%, -${left}%)`,\n        },\n        image: {\n            backgroundImage: \"url(\" + roadracerbanner + \")\",\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'contain',\n            width: \"100%\",\n            minWidth: '80%',\n            height: \"30%\",\n            margin: '10px'\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            minWidth: '400px',\n            height: '75%',\n            backgroundColor: 'rgb(40.9%, 38.5%, 52.3%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: 'rgb(29.9%, 28.2%, 37.8%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n                \n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.image}></div>\n\n                <div style={styles.promoText}>\n                    Tilt to steer, swipe to jump over obstacles, buy cars to unlock Powerups and collect coins to upgrade them, collect gears for rewinds and see how far you can race!\n                </div>\n\n                <div style={styles.promoText}>\n                    <div style={styles.contentText}> - Custom C++ engine on iOS </div>\n                    <div style={styles.contentText}> - Unity 3D on Android and Windows Phone </div>\n                    <div style={styles.contentText}> - PHP and MYSQL backend to facilitate in game events and app usage insight </div>\n                    <div style={styles.contentText}> - Firebase integration </div>\n                    <div style={styles.contentText}> - Admob for interstitial ads and reward ads </div>\n                    <div style={styles.contentText}> - Game Center integration on iOS and Google Play Services integration on Android </div>\n                    <div style={styles.contentText}> - Push notification </div>\n                    <div style={styles.contentText}> - In App Purchases (consumable and non-consumable) </div>\n                    <div style={styles.contentText}> - Procedurally generated levels </div>\n                </div>\n\n                <div style={{ width: '100%' }}>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Apple App Store:</span> <a href='https://itunes.apple.com/us/app/road-racer/id575817068?mt=8' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Road Racer</a>\n                    </div>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Google Play Store:</span>  <a href='https://play.google.com/store/apps/details?id=com.intoxic8studio.roadracer' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Road Racer 168</a>\n                    </div>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Website:</span>  <a href='http://intoxic8studio.com/' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Intoxic8 Studio LLC</a>\n                    </div>\n\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n                \n            </div>\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport mightychickenbanner from '../../images/mightychickenlogo.png';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            transform: `translate(-${top}%, -${left}%)`,\n            width: 'auto',\n        },\n        image: {\n            backgroundImage: \"url(\" + mightychickenbanner + \")\",\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'contain',\n            width: \"100%\",\n            height: \"30%\",\n            margin: '10px'\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            height: '65%',\n            backgroundColor: 'rgb(100%, 54.9%, 0%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none',\n            minWidth: '400px'\n        },\n        button: {\n            backgroundColor: 'rgb(78.8%, 43.4%, 0.2%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n\n    }));\n\n    const classes = useStyles();\n  \n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n     \n            \n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.image}></div>\n\n                <div style={styles.promoText}>\n                    Dodge the mutant robo fish, killer bomb, spinning blades and poisonous arrow! Avoid getting sliced in half in the spear cave.\n                </div>\n\n                <div style={styles.promoText}>\n                    <div style={styles.contentText}> - Unity 3D on Android and iOS </div>\n                    <div style={styles.contentText}> - Firebase integration </div>\n                    <div style={styles.contentText}> - Admob and Unity Ads for interstitial ads and reward ads </div>\n                    <div style={styles.contentText}> - Game Center integration on iOS and Google Play Services integration on Android </div>\n                    <div style={styles.contentText}> - Push notification </div>\n                    <div style={styles.contentText}> - In App Purchases </div>\n                </div>\n\n                <div style={{ width: '100%' }}>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Apple App Store:</span> <a href='https://itunes.apple.com/us/app/mighty-chicken-and-friends/id1422459374?ls=1' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Mighty Chicken iOS</a>\n                    </div>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Google Play Store:</span>  <a href='https://play.google.com/store/apps/details?id=com.intoxic8studio.mightychicken' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Mighty Chicken Android</a>\n                    </div>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Website:</span>  <a href='http://www.themightychicken.com/' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>Mighty Chicken</a>\n                    </div>\n\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n            \n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport pawsnfindBanner from '../../images/pawsnfind.png';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            transform: `translate(-${top}%, -${left}%)`,\n            width: 'auto',\n        },\n        image: {\n            backgroundImage: \"url(\" + pawsnfindBanner + \")\",\n            backgroundSize: \"contain\",\n            backgroundPosition: 'center',\n            backgroundRepeat: 'no-repeat',\n            width: \"100%\",\n            height: \"30%\",\n            margin: '0px'\n        },\n        promoText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        contentText: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        linkSection: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n        linkText: {\n            width: '150px',\n            color: 'white',\n        },\n        closeButton: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: '600px',\n            minWidth: '400px',\n            height: '65%',\n            backgroundColor: '#235775e0',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: '#558a9d',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\">\n\n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.image}></div>\n\n                <div style={styles.promoText}>\n                    Animal Rescue organizations have so much to manage, but their biggest concern is making sure pets go to a great home.\n                    Pawsnfind allows rescues to manage their operations while making it easier for adopters to find their perfect pet and connect with the rescue.\n                </div>\n\n                <div style={styles.promoText}>\n                    <div style={styles.contentText}> - React frontend with MaterialUI</div>\n                    <div style={styles.contentText}> - Redux </div>\n                    <div style={styles.contentText}> - Serparate dashboard for animal rescues and adopters </div>\n                    <div style={styles.contentText}> - Express.js backend with a Postgres database</div>\n                    <div style={styles.contentText}> - Stripe integration for rescues to receive donations. </div>\n                    <div style={styles.contentText}> - Bank accounts can be verified with stripe directly from Pawsnfind's dashboard </div>\n                    <div style={styles.contentText}> - Image hosting (Uploading and retrieval of images) using PHP and MySQL </div>\n                    <div style={styles.contentText}> - React frontend for image hosting for the creation of new accounts and api keys </div>\n                </div>\n\n                <div style={{ width: '100%' }}>\n\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Website:</span>  <a href='https://pawsnfind.com' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>www.pawsnfind.com</a>\n                    </div>\n                    <div style={styles.linkSection}>\n                        <span style={styles.linkText}>Github:</span> <a href='https://github.com/Pawsnfind' target=\"_blank\" rel=\"noopener noreferrer\" style={{ textDecoration: 'none' }}>https://github.com/Pawsnfind</a>\n                    </div>\n                </div>\n\n                <Button style={styles.closeButton} className={classes.button} onClick={closeModal}>Close</Button>\n\n            </div>\n            \n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\n\nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            width: '100vw',\n            height: '100vh',\n        },\n        title: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n            fontSize: '60px',\n            textAlign: 'center',\n            position: 'absolute'\n        },\n        buttonGroup: {\n            display: 'flex',\n            flexDirection: 'column',\n            marginTop: '10px',\n            color: 'white',\n            justifyContent: 'center'\n        },\n        buttons: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: 600,\n            height: '75%',\n            backgroundColor: 'rgb(100%, 100%, 100%, 0%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: 'rgb(29.9%, 28.2%, 37.8%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            width: '25%',\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n    }));\n\n    const classes = useStyles();\n\n    function practiceClicked(){\n        closeModal();\n    }\n\n    function multiplayerClicked(){\n\n    }\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n        >\n            <div>\n                <div style={styles.title}>\n                    Road Racer League\n                </div>\n                <div style={styles.modal} className={classes.main}>\n\n\n                    <div style={styles.buttonGroup}>\n                        <Button style={styles.buttons} className={classes.button} onClick={practiceClicked}>Practice</Button>\n                        <Button style={styles.buttons} className={classes.button} onClick={multiplayerClicked}>Multiplayer</Button>\n                    </div>\n                </div>\n            </div>\n        </Modal>\n    );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\n \nexport default props => {\n    const { isOpen, closeModal } = props;\n\n    const top = 50;\n    const left = 50;\n\n    let styles = {\n        modal: {\n            display: 'flex',\n            flexDirection: 'column',\n            top: `${top}%`,\n            left: `${left}%`,\n            width: 'auto',\n            transform: `translate(-${top}%, -${left}%)`,\n        },\n        title: {\n            width: '100%',\n            margin: '10px',\n            color: 'white',\n        },\n        buttons: {\n            marginTop: '10px',\n            color: 'white',\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        main: {\n            position: 'absolute',\n            width: 600,\n            height: '75%',\n            backgroundColor: 'rgb(40.9%, 38.5%, 52.3%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n        button: {\n            backgroundColor: 'rgb(29.9%, 28.2%, 37.8%)',\n            border: '0px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            outline: 'none'\n        },\n    }));\n\n    const classes = useStyles();\n\n    return (\n        <Modal\n            open={isOpen}\n            onClose={closeModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n        >\n\n            <div style={styles.modal} className={classes.main}>\n\n                <div style={styles.title}>\n                        Road Racer League\n                </div>\n\n                <Button style={styles.buttons} className={classes.button} onClick={closeModal}>Close</Button>\n                \n            </div>\n        </Modal>\n    );\n}","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faGamepad } from '@fortawesome/free-solid-svg-icons'\nimport styled, { keyframes } from \"styled-components\";\nimport Gamepad from '../../../engine/Gamepad';\n\nexport default class GamepadUI extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            popup: 'none'\n        };\n        this.animCount = 0;\n        Gamepad.statusCallback = this.setStatus;\n    }\n    \n    setStatus = (status) =>{\n        this.animCount = 0;\n        this.setState({popup: status});\n    }\n\n    onAnimationEnd = () => {\n        this.animCount++;\n\n        if (this.animCount >= 2){\n            this.animCount = 0;\n            this.setState({popup: 'none'});\n        }\n    }\n\n    render() {\n        let render = false;\n\n        if (this.state.popup === 'connected' || this.state.popup === 'disconnected')\n            render = true;\n\n        const style = {\n            gamepadUI: {\n                position: 'fixed', width: '100vw', height: '100vh', padding: 0, margin: 0, overflow: 'hidden', zIndex: 1,\n            }\n        };\n        return (\n            <div style={style.gamepadUI}>\n                {render ? this.renderComponent() : null}\n            </div>\n        );\n    }\n\n    renderComponent() {\n\n        const popin = keyframes`\n            from { left: 150%; }\n            to { left: 50%; }\n            from { top:50%; }\n            to  { top: 50%; }       \n        `;\n\n        const wait = keyframes`\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top: 50%; }\n            to { top: 50%; } \n        `;\n\n \n        const drop = keyframes`\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top: 50%; }\n            to { top: 150%; }\n        `;\n\n        const PopUp = styled.span`\n            background-color: white;\n            border-radius: 25px;\n            border: 3px solid black;\n            padding: 10px;\n            position: relative;\n        \n            translateZ(0);\n            z-index: 150;\n            backface-visibility: hidden;\n            perspective: 1000;\n            animation:  ${popin} 0.5s, ${wait} 2s,  ${drop} 0.5s;\n            animation-delay: 0s, 0.5s, 2s;\n            animation-timing-function: ease-out, linear, ease-in;\n        `;\n\n        return (\n            <PopUp onAnimationEnd={this.onAnimationEnd}> \n                <FontAwesomeIcon color=\"##495057\" size='lg' icon={faGamepad} /> Gamepad {this.state.popup} \n            </PopUp>\n        );\n    }\n}\n","import React from 'react';\nimport Gamepad from '../../engine/Gamepad';\nimport GamepadUI from './components/GamepadUI';\nimport Scene from '../../engine/Scene';\nimport Camera from '../../engine/Camera';\nimport GameEngine from '../../engine/GameEngine';\n\nexport default class MainGameUI extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.canvas = null;\n        this.isLoaded = false;\n        this.state = {\n\n        }\n        Gamepad.connectedCallback = this.gamepadConnected;\n        window.addEventListener('resize', this.ScreenResize);\n    }\n\n    gamepadConnected = () => {\n        this.setState({ gamepadConnected: true });\n    }\n\n    ScreenResize() {\n        Scene.setScreenSize(document.body.clientWidth, document.body.clientHeight);\n        Camera.Configure(60, Scene.aspectRatio, 0.1, 1000.0);\n\n        GameEngine.GetRenderer().setSize(Scene.screenWidth, Scene.screenHeight);\n    }\n\n    gamepadConnected(e) {\n        console.log(e);\n    }\n\n    gamepadeDisconnected(e) {\n        console.log(e);\n    }\n\n\n    closeModal = () => {\n        this.setState({ currentModal: 'none' });\n    }\n\n    openModal = (modal) => {\n        this.setState({ currentModal: modal });\n    }\n\n    isModalOpen = () => {\n        return this.state.currentModal !== 'none';\n    }\n\n    render() {\n        return (\n            <div style={{ position: 'absolute', width: '100vw', height: '100vh', padding: 0, margin: 0, overflow: 'hidden', zIndex: 1 }}>\n                <GamepadUI />\n                <div style={{ position: 'relative', width: '100vw', height: '100vh', padding: 0, margin: 0, overflow: 'hidden', zIndex: 1 }}>\n                 \n                </div>\n            </div>\n        )\n    }\n}\n//   <span style= {{backgroundColor:'white', borderRadius: '25px', padding: '10px', top: 15, left: 15, position:'absolute'}}>Menu: esc</span>","import React from 'react';\nimport Input from '../engine/Input';\nimport GameEngine from '../engine/GameEngine';\nimport Scene from '../engine/Scene';\nimport Camera from '../engine/Camera';\nimport RoadRacerModal from './modal/RoadRacerModal';\nimport MightyChickenModal from './modal/MightyChickenModal';\nimport PawsnfindModal from './modal/PawsnfindModal';\nimport MainMenuStadium from '../stadiumgame/ui/mainmenu';\nimport StadiumGameUI from '../stadiumgame/ui/gameui';\nimport MainGameUI from './MainGameUI/MainGameUI';\n\nexport default class Game extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.canvas = null;\n        this.isLoaded = false;\n        this.state = {\n            currentModal: 'none'\n        }\n\n        document.addEventListener('keydown', this.HandleKeyPress);\n        document.addEventListener('keyup', this.HandleKeyUp);\n    }\n\n    componentDidMount(){\n        \n        GameEngine.SetOpenModalCallback(this.openModal, this.isModalOpen);\n        GameEngine.Init();\n    }\n\n    Load = () => {\n\n        if (this.isLoaded) return;\n\n        this.isLoaded = true;\n        Scene.setScreenSize(document.body.clientWidth, document.body.clientHeight );\n        Camera.Configure(60, Scene.aspectRatio, 0.1, 1000.0);\n        GameEngine.InitRenderer(this.canvas, Scene.screenWidth, Scene.screenHeight);\n\n        this.canvas.focus();\n    }\n\n    gamepadConnected(e) {\n        console.log(e);\n    }\n\n    gamepadeDisconnected(e) {\n        console.log(e);\n    }\n    HandleKeyPress(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        Input.addKey(e.key);\n    }\n\n    HandleKeyUp(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        Input.removeKey(e.key);\n    }\n\n    clearInput = () => {\n        Input.clearKeys();\n    }\n\n    closeModal = () => {\n        this.setState({currentModal: 'none'});\n    }\n\n    openModal = (modal) => {\n        this.setState({currentModal: modal});\n    }\n\n    isModalOpen = () => {\n        return this.state.currentModal !== 'none';\n    }\n\n    render() {\n        return (\n            <div  style={{   width: '100vw', height:'100vh', padding:0, margin:0, overflow:'hidden' }}>\n                <MainGameUI />\n                <canvas style={{ outline: 'none', display: 'block', width: '100vw', height: '100vh', position:'fixed'}} tabIndex=\"0\" ref={(c) => { this.canvas = c; this.Load(); }} onBlur={this.clearInput}></canvas> />\n             \n                <RoadRacerModal isOpen={this.state.currentModal === 'roadracer'} closeModal={this.closeModal}/>\n                <MightyChickenModal isOpen={this.state.currentModal === 'mightychicken'} closeModal={this.closeModal}/>\n                <PawsnfindModal isOpen={this.state.currentModal === 'pawsnfind'} closeModal={this.closeModal}/>\n                <StadiumGameUI isOpen={this.state.currentModal === 'stadiumui'} closeModal={this.closeModal} openModel={this.openModal}/>\n                <MainMenuStadium isOpen={this.state.currentModal === 'stadiummenu'} closeModal={this.closeModal} openModel={this.openModal}/>\n            </div>\n        )\n    }\n}\n","import React from 'react';\nimport Audio from '../engine/Audio';\nimport Scene from '../engine/Scene';\nimport styled, { keyframes } from \"styled-components\";\nimport Time from '../engine/Time';\n\nexport default class Loading extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loadingCounter: 0,\n            loaded: false,\n            finished: false,\n            fade: false\n        };\n        this.enterWasClicked = false;\n        this.timer = 0.0;\n\n    }\n\n    componentDidMount() {\n        window.requestAnimationFrame(this.loading);\n    }\n\n    loading = () => {\n        if (Scene.isLoaded()) {\n            this.setState({ loaded: true });\n            clearInterval(this.loadingInterval);\n        }\n\n        this.timer += Time.deltaTime;\n\n        if (this.timer >= 0.5) {\n            this.timer = 0.0;\n            let count = this.state.loadingCounter;\n            count = (count + 1) % 4;\n\n            this.setState({ loadingCounter: count });\n\n        }\n        if (!Scene.isLoaded())\n            window.requestAnimationFrame(this.loading);\n    }\n\n    playSound = () => {\n        Audio.PlaySoundsMuted();\n    }\n\n    renderLoading() {\n        const period = '.';\n\n        return (\n            <div style={{ background: 'white', width: '100%', height: '100%', position: 'absolute', top: 0, left: 0 }}>\n                <div style={{ background: 'white', width: '300px', height: '100px', position: 'absolute', top: 0, left: 0, bottom: 0, right: 0, margin: 'auto', fontSize: '4em', overflow: 'hidden' }}>\n                    loading {period.repeat(this.state.loadingCounter)}\n                </div>\n            </div>\n        );\n    }\n\n    onAnimationEnd = (e) => {\n        e.stopPropagation();\n        this.setState({ finished: true });\n    }\n\n    enterClicked = (e) => {\n\n        e.stopPropagation();\n        if (this.enterWasClicked) return;\n        this.enterWasClicked = true;\n        this.playSound(); // Must play sound muted on user interaction to prevent browser from blocking audio.\n        this.setState({ fade: true });\n    }\n    renderFade() {\n\n        const fadeOut = keyframes`\n            from { opacity: 1; }\n            to { opacity: 0; }    \n        `;\n\n        const Fade = styled.div`\n        background: white;\n        position:absolute;\n        top:0;\n        left:0;\n        width: 100%;\n        height: 100%;\n        translateZ(0);\n        z-index: 150;\n        backface-visibility: hidden;\n        perspective: 1000;\n        animation:  ${this.state.fade ? fadeOut : null} 0.5s;\n        animation-timing-function: linear;\n  \n    `;\n        const Button = styled.button`\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n            margin: auto;\n            height: 100px;\n            width: 180px;\n            font-size: 48px;\n            background-color: white;\n            border: 2px solid black;\n            border-radius: 20px;\n            outline: none;\n        `;\n\n        return (\n\n            <Fade onAnimationEnd={this.onAnimationEnd}>\n                <Button onClick={this.enterClicked}> Enter </Button>\n            </Fade>\n\n        );\n    }\n\n    render() {\n\n        return !this.state.loaded ? this.renderLoading() : !this.state.finished ? this.renderFade() : null;\n    }\n}","import React from 'react';\nimport './App.css';\nimport Game from './components/Game';\nimport Loading from './components/Loading';\n\nclass App extends React.Component {\n\n  render() {\n    return (\n      <div>\n         <Game/> \n         <Loading style={{position: 'absolute', zIndex:1}}/>  \n      </div>\n \n    )\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}