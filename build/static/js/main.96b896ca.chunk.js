(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{143:function(e,t){},154:function(e,t,i){"use strict";i.r(t);var n=i(6),o=i.n(n),s=i(19),a=i.n(s),r=(i(96),i(1)),l=i(0),c=i(4),h=i(5),d=(i(97),null);null===d&&(d=new(function(){function e(){Object(r.a)(this,e),this.keyDown=new Map,this.keyPressed=new Map}return Object(l.a)(e,[{key:"addKey",value:function(e){this.keyDown.set(e.toLowerCase(),1),2!==this.keyPressed.get(e.toLowerCase())&&this.keyPressed.set(e.toLowerCase(),1)}},{key:"removeKey",value:function(e){this.keyDown.delete(e.toLowerCase()),this.keyPressed.delete(e.toLowerCase())}},{key:"isKeyDown",value:function(e){return this.keyDown.has(e.toLowerCase())}},{key:"isKeyPressed",value:function(e){return!(!this.keyPressed.has(e.toLowerCase())||1!==this.keyPressed.get(e.toLowerCase()))&&(this.keyPressed.set(e.toLowerCase(),2),!0)}},{key:"clearKeys",value:function(){this.keyDown.clear(),this.keyPressed.clear()}},{key:"json",value:function(){return{keyDown:this.keyDown,keyPressed:this.keyPressed}}}]),e}()));var u=d,g=i(2),p=function(){function e(){Object(r.a)(this,e),this.scene=new g.nb,this.enabledObjects={},this.disabledObjects={},this.screenWidth=1024,this.screenHeight=600,this.aspectRatio=1024/600,this.objectLoading=0,this.objectLoaded=0}return Object(l.a)(e,[{key:"add",value:function(e){this.scene.add(e)}},{key:"addGameObject",value:function(e){e.objID in this.disabledObjects?this.enableObject(e):e.objID in this.enableObject||(this.enabledObjects[e.objID]=e)}},{key:"getScene",value:function(){return this.scene}},{key:"enableObject",value:function(e){e.objID in this.disabledObjects&&(this.enabledObjects[e.objID]=e,delete this.disabledObjects[e.objID])}},{key:"disableObject",value:function(e){e.objID in this.enableObjects&&(this.disabledObjects[e.objID]=e,delete this.enabledObjects[e.objID])}},{key:"deleteObject",value:function(e){this.scene.remove(e)}},{key:"update",value:function(){for(var e in this.enabledObjects)this.enabledObjects[e].update();for(var t in void 0!==this.ball&&null!==this.ball&&(this.cameraController.ball=this.ball),this.enabledObjects)this.enabledObjects[t].lateUpdate();for(var i in this.enabledObjects)this.enabledObjects[i].render()}},{key:"setScreenSize",value:function(e,t){this.screenWidth=e,this.screenHeight=t,this.aspectRatio=e/t}},{key:"setLinearFog",value:function(e,t,i){this.scene.fog=new g.s(e,t,i)}},{key:"setExpoFog",value:function(e,t){this.scene.fog=new g.t(e,t)}},{key:"isLoaded",value:function(){return this.objectLoaded===this.objectLoading&&0!==this.objectLoading}}]),e}();p.FOG_TYPE={LINEAR:0,EXPONENTIAL:1};var y=new p,b=i(12),f=function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,null,[{key:"rad2Deg",get:function(){return 180/Math.PI}},{key:"deg2Rad",get:function(){return Math.PI/180}},{key:"approximate",value:function(e,t){return e>t-Number.EPSILON&&e<t+Number.EPSILON}},{key:"clamp",value:function(e,t,i){var n=t,o=i;return t>i&&(n=i,o=t),e<n?n:e>o?o:e}},{key:"moveTowards",value:function(e,t,i){return Math.abs(e-t)<=i?t:e+(t-e)*i}}]),e}(),m=i(10),w=i.n(m),v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(r.a)(this,e),this.x=t,this.y=i,this.z=n}return Object(l.a)(e,[{key:"set",value:function(e,t,i){return this.x=e,this.y=t,this.z=i,this}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"magnitude",value:function(){return this.length()}},{key:"rotate",value:function(t){var i=new e(t.x,t.y,t.z),n=2*e.Dot(i,this),o=t.w*t.w-e.Dot(i,i),s=new e;s=e.MultiplyScalar(i,n),s=e.Add(s,e.MultiplyScalar(this,o));var a=e.Cross(i,this);a=e.MultiplyScalar(a,2*t.w),s=e.Add(s,a),this.x=s.x,this.y=s.y,this.z=s.z}},{key:"normalize",value:function(){var e=this.magnitude();return f.approximate(e,0)?(this.x=0,this.y=0,void(this.z=0)):(this.x/=e,this.y/=e,this.z/=e,this)}},{key:"negate",value:function(){this.x*=-1,this.y*=-1,this.z*=-1}},{key:"to3jsV3",value:function(){return new g.Ab(this.x,this.y,this.z)}},{key:"to_btVector3",value:function(){return new w.a.btVector3(this.x,this.y,this.z)}},{key:"toString",value:function(){return"( x: "+this.x+"  y: "+this.y+"  z: "+this.z+" )"}}],[{key:"zero",get:function(){return new e(0,0,0)}},{key:"one",get:function(){return new e(1,1,1)}},{key:"up",get:function(){return new e(0,1,0)}},{key:"down",get:function(){return new e(0,-1,0)}},{key:"forward",get:function(){return new e(0,0,-1)}},{key:"back",get:function(){return new e(0,0,1)}},{key:"left",get:function(){return new e(-1,0,0)}},{key:"right",get:function(){return new e(1,0,0)}},{key:"Add",value:function(t,i){var n=new e(0,0,0);return n.x=t.x+i.x,n.y=t.y+i.y,n.z=t.z+i.z,n}},{key:"Subtract",value:function(t,i){var n=new e(0,0,0);return n.x=t.x-i.x,n.y=t.y-i.y,n.z=t.z-i.z,n}},{key:"Multiply",value:function(t,i){var n=new e(0,0,0);return n.x=t.x*i.x,n.y=t.y*i.y,n.z=t.z*i.z,n}},{key:"Divide",value:function(t,i){var n=new e(0,0,0);return n.x=t.x/i.x,n.y=t.y/i.y,n.z=t.z/i.z,n}},{key:"DivideScalar",value:function(t,i){var n=new e(0,0,0);return n.x=t.x/i,n.y=t.y/i,n.z=t.z/i,n}},{key:"AddScalar",value:function(t,i){var n=new e(0,0,0);return n.x=t.x+i,n.y=t.y+i,n.z=t.z+i,n}},{key:"SubtractScalar",value:function(t,i){var n=new e(0,0,0);return n.x=t.x-i,n.y=t.y-i,n.z=t.z-i,n}},{key:"MultiplyScalar",value:function(t,i){var n=new e(0,0,0);return n.x=t.x*i,n.y=t.y*i,n.z=t.z*i,n}},{key:"Cross",value:function(t,i){var n=new e(0,0,0);return n.x=t.y*i.z-t.z*i.y,n.y=t.z*i.x-t.x*i.z,n.z=t.x*i.y-t.y*i.x,n}},{key:"Distance",value:function(t,i){var n=e.Subtract(i,t);return Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z)}},{key:"Lerp",value:function(t,i,n){var o=e.Subtract(i,t),s=f.clamp(n,0,1);return o=e.MultiplyScalar(o,s),e.Add(t,o)}},{key:"LerpUnclamped",value:function(t,i,n){var o=e.Subtract(i,t);return o=e.MultiplyScalar(o,n),e.Add(t,o)}},{key:"MoveTowards",value:function(t,i,n){var o=e.Subtract(i,t),s=o.magnitude();return s<=n||f.approximate(s,0)?i:o=e.Add(t,e.MultiplyScalar(o,n))}},{key:"Dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"Normalize",value:function(e){return e.normalize(),e}},{key:"Equals",value:function(e,t){return e.x>t.x-Number.EPSILON&&e.x<t.x+Number.EPSILON&&e.y>t.y-Number.EPSILON&&e.y<t.y+Number.EPSILON&&e.z>t.z-Number.EPSILON&&e.z<t.z+Number.EPSILON}},{key:"Angle",value:function(t,i){var n=e.Cross(t,i),o=Math.atan2(n.length(),e.Dot(t,i));return e.Dot(n,e.up)<0?-o:o}},{key:"Negate",value:function(e){var t=e;return t.x*=-1,t.y*=-1,t.z*=-1,t}},{key:"toBTV3",value:function(e){return new w.a.btVector3(e.x,e.y,e.z)}},{key:"toJSV3",value:function(e){return new g.Ab(e.x,e.y,e.z)}}]),e}(),x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(r.a)(this,e),this.x=t,this.y=i,this.z=n,this.w=o,this.euler=new v(0,0,0)}return Object(l.a)(e,[{key:"set",value:function(e,t,i,n){this.x=e,this.y=t,this.z=i,this.w=n}},{key:"Normalize",value:function(){var e=1/this.Length();this.x*=e,this.y*=e,this.z*=e,this.w*=e}},{key:"Inverse",value:function(){return new e(this.x,this.y,this.z,-this.w)}},{key:"Negate",value:function(){return new e(-this.x,-this.y,-this.z,this.w)}},{key:"Euler",value:function(){return this.euler.y=Math.atan2(2*this.w*this.y+2*this.z*this.x,1-2*(this.x*this.x+this.y*this.y))*f.rad2Deg,this.euler.x=Math.asin(2*(this.w*this.x-this.y*this.z))*f.rad2Deg,this.euler.z=Math.atan2(2*this.w*this.z+2*this.x*this.y,1-2*(this.z*this.z+this.x*this.x))*f.rad2Deg,this.euler}},{key:"Length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"LengthSquared",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}}],[{key:"LookAt",value:function(t,i,n){var o=v.Normalize(v.Subtract(i,t)),s=v.Dot(v.forward,o);if(Math.abs(s- -1)<1e-6)return new e(v.up.x,v.up.y,v.up.z,Math.PI);if(Math.abs(s-1)<1e-6)return e.Identity();var a=Math.acos(s),r=v.Cross(v.forward,o);return r=v.Normalize(r),e.CreateFromAxisAngle(r,a)}},{key:"LookRotation",value:function(t,i){var n=v.Normalize(t),o=v.Normalize(n),s=v.Normalize(v.Cross(i,o)),a=v.Cross(o,s),r=s.x,l=s.y,c=s.z,h=a.x,d=a.y,u=a.z,g=o.x,p=o.y,y=o.z,b=r+d+y,f=new e;if(b>0){var m=Math.sqrt(b+1);return f.w=.5*m,m=.5/m,f.x=(u-p)*m,f.y=(g-c)*m,f.z=(l-h)*m,f}if(r>=d&&r>=y){var w=Math.sqrt(1+r-d-y),x=.5/w;return f.x=.5*w,f.y=(l+h)*x,f.z=(c+g)*x,f.w=(u-p)*x,f}if(d>y){var k=Math.sqrt(1+d-r-y),j=.5/k;return f.x=(h+l)*j,f.y=.5*k,f.z=(p+u)*j,f.w=(g-c)*j,f}var O=Math.sqrt(1+y-r-d),S=.5/O;return f.x=(g+c)*S,f.y=(p+u)*S,f.z=.5*O,f.w=(l-h)*S,f}},{key:"RotatePointAroundPivot",value:function(t,i,n){return e.LookRotation(v.Subtract(t,i),v.up)*t}},{key:"RotateAround",value:function(t,i){var n=t-i;return(n=e.LookRotation(n,v.up)*n)+i}},{key:"CreateFromAxisAngle",value:function(t,i){var n=.5*i,o=Math.sin(n),s=new e;return s.x=t.x*o,s.y=t.y*o,s.z=t.z*o,s.w=Math.cos(n),s}},{key:"FromEuler",value:function(t,i,n){var o=i*f.deg2Rad,s=t*f.deg2Rad,a=.5*(n*f.deg2Rad),r=Math.sin(a),l=Math.cos(a),c=.5*s,h=Math.sin(c),d=Math.cos(c),u=.5*o,g=Math.sin(u),p=Math.cos(u),y=new e;return y.w=p*d*l+g*h*r,y.x=p*h*l+g*d*r,y.y=g*d*l-p*h*r,y.z=p*d*r-g*h*l,y}},{key:"Dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}},{key:"Normalize",value:function(e){var t=e,i=1/t.Length();return t.x*=i,t.y*=i,t.z*=i,t.w*=i,t}},{key:"Identity",value:function(){return new e(0,0,0,1)}}]),e}(),k=i(20),j=i(15),O=i.n(j),S=function(){function e(){Object(r.a)(this,e),this.clock=new g.l(!0),this.smoothAmount=20,this.deltaBuffer=[],this.dtBufferIndex=0,this.deltaBuffer.fill(0,0,10),this.deltaTime=0,this.smoothDelta=0,this.physicsRate=1/60;for(var t=0;t<this.deltaBuffer.length;t++)this.deltaBuffer[t]=this.deltaTime}return Object(l.a)(e,[{key:"Update",value:function(){this.deltaTime=this.clock.getDelta(),this.deltaBuffer[this.dtBufferIndex]=this.deltaTime,this.dtBufferIndex=(this.dtBufferIndex+1)%this.smoothAmount,this.smoothDelta=this.SmoothDelta(),this.physicsRate=1/Me.frameRate,this.physicsRate===1/0&&(this.physicsRate=this.deltaTime),this.physicsRate<M.MIN_PHYSICS_RATE&&(this.physicsRate=this.deltaTime)}},{key:"SmoothDelta",value:function(){for(var e=0,t=0;t<this.smoothAmount;t++)e+=this.deltaBuffer[t];return e/this.smoothAmount}},{key:"DeltaTime",value:function(){return this.deltaTime}}]),e}();S.MIN_PHYSICS_RATE=1/30;var M=new S,T=M,R=function(){function e(){Object(r.a)(this,e),this.collisionConfig=new w.a.btDefaultCollisionConfiguration,this.dispatcher=new w.a.btCollisionDispatcher(this.collisionConfig),this.broadphase=new w.a.btDbvtBroadphase,this.solver=new w.a.btSequentialImpulseConstraintSolver,this.world=new w.a.btDiscreteDynamicsWorld(this.dispatcher,this.broadphase,this.solver,this.collisionConfig),this.world.setGravity(new w.a.btVector3(0,-9.8,0)),this.elapsedTime=0,this.physicsRate=1/120,this.rigidBodies=[]}return Object(l.a)(e,[{key:"setGravity",value:function(e){this.world.setGravity(new w.a.btVector3(e.x,e.y,e.z))}},{key:"addRigidBody",value:function(e){if(null!==e)return this.world.addRigidBody(e),this.rigidBodies.push(e),this.rigidBodies[this.rigidBodies.length-1]}},{key:"removeRigidBody",value:function(e){this.world.removeRigidBody(e)}},{key:"createSphereShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new w.a.btSphereShape(e);return t.setMargin(.05),t}},{key:"createBoxShape",value:function(e){return new w.a.btBoxShape(new w.a.btVector3(.5*e.x,.5*e.y,.5*e.z))}},{key:"createPlaneShape",value:function(e){return new w.a.btStaticPlaneShape(new w.a.btVector3(e.x,e.y,e.z),0)}},{key:"createCapsuleShape",value:function(e,t,i){var n=new w.a.btCapsuleShape(e,t,new w.a.btVector3(i.x,i.y,i.z));return n.setMargin(.05),n}},{key:"createCylinderShape",value:function(e,t,i){var n=new w.a.btCylinderShape(e,t,new w.a.btVector3(i.x,i.y,i.z));return n.setMargin(.05),n}},{key:"createConeShape",value:function(e,t,i){var n=new w.a.btConeShape(e,t,new w.a.btVector3(i.x,i.y,i.z));return n.setMargin(.05),n}},{key:"createMeshShape",value:function(e){return new Promise((function(t,i){var n=[],o=[];e.children.forEach((function(e){if(e.hasOwnProperty("children")&&e.children.length>0)e.children.forEach((function(e){if(e.hasOwnProperty("geometry")){for(var t=e.geometry.index.array,i=e.geometry.attributes.position.array,s=0;s<t.length;s+=3)o.push(t[s]);for(var a=0;a<i.length;a+=3)n.push(new w.a.btVector3(i[a],i[a+1],i[a+2]))}}));else if(e.hasOwnProperty("geometry")){o=e.geometry.index.array;for(var t=e.geometry.attributes.position.array,i=0;i<t.length;i+=3)n.push(new w.a.btVector3(t[i],t[i+1],t[i+2]))}}));for(var s=new w.a.btTriangleMesh,a=0;a<o.length;a+=3)s.addTriangle(n[o[a]],n[o[a+1]],n[o[a+2]]);t(new w.a.btBvhTriangleMeshShape(s,!0))}))}},{key:"update",value:function(){this.world.stepSimulation(T.deltaTime,10)}}]),e}();R.PhysicShapes={SPHERE:0,BOX:1,PLANE:2,CAPSULE:3,CYLINDER:4,CONE:5};var z=new R,L=i(176),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new v(0,0,0),i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.Identity(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{mass:0,friction:1,rollingFriction:1,restitution:.8};Object(r.a)(this,e),this.isKinematic=!1,this.active=!0,this.mass=o.mass,this.shape=i,this.friction=o.friction,this.rollingFriction=o.rollingFriction,this.restitution=o.restitution,this.ragdollActive=!1,this.btPos=new w.a.btVector3(t.x,t.y,t.z),this.btQuat=new w.a.btQuaternion(n.x,n.y,n.z,n.w),this.id=Object(L.a)(),this.cachedbtVec3=new w.a.btVector3(0,0,0),this.transform=new w.a.btTransform,this.transform.setIdentity(),this.transform.setOrigin(this.btPos),this.transform.setRotation(this.btQuat),this.motionState=new w.a.btDefaultMotionState(this.transform);var s=new w.a.btVector3(0,0,0);s=this.shape.calculateLocalInertia(this.mass,s);var a=new w.a.btRigidBodyConstructionInfo(this.mass,this.motionState,this.shape,s);this.position=t,this.rotation=n,this.body=new w.a.btRigidBody(a),this.body.setFriction(this.friction),this.body.setDamping(.25,.25),this.body.setCcdMotionThreshold(1),this.body.setCcdSweptSphereRadius(.2),this.body.setRestitution(this.restitution),this.SetKinematic(f.approximate(this.mass,0)),z.addRigidBody(this.body)}return Object(l.a)(e,[{key:"removeRigidBody",value:function(){z.removeRigidBody(this.body)}},{key:"setMass",value:function(e){this.body&&(this.mass=e,this.body.setMassProps(e,new w.a.btVector3(0,0,0)))}},{key:"SetKinematic",value:function(e){this.isKinematic=e,e?(this.body.setMassProps(0,new w.a.btVector3(0,0,0)),this.body.setCollisionFlags(2),this.body.setActivationState(4)):(this.body.setMassProps(this.mass,new w.a.btVector3(0,0,0)),this.body.setCollisionFlags(0),this.body.setActivationState(4))}},{key:"AddForce",value:function(e){this.body.applyCentralForce(e.to_btVector3())}},{key:"AddImpulseForce",value:function(e){this.body.applyCentralImpulse(e.to_btVector3())}},{key:"AddForceAt",value:function(e,t){this.body.applyForce(e.to_btVector3(),t.to_btVector3())}},{key:"SetLinearFactor",value:function(e){this.body.setLinearFactor(e.to_btVector3())}},{key:"SetSleepingThreshold",value:function(e,t){this.body.setSleepingThresholds(e,t)}},{key:"ApplyTorque",value:function(e){this.body.applyTorque(e.to_btVector3())}},{key:"ApplyCentralImpulse",value:function(e){this.body.applyCentralImpulse(e.to_btVector3())}},{key:"ApplyTorqueImpulse",value:function(e){this.body.applyTorqueImpulse(e.to_btVector3())}},{key:"ApplyImpulse",value:function(e){this.body.applyImpulse(e.to_btVector3(),new w.a.btVector3(0,0,0))}},{key:"ApplyImpulseAt",value:function(e,t){this.body.applyImpulse(e.to_btVector3(),t.to_btVector3())}},{key:"ClearForces",value:function(){this.body.clearForces()}},{key:"GetOrentation",value:function(){var e=this.body.getOrientation();return new x(e.x(),e.y(),e.z(),e.w())}},{key:"GetLinearVelocity",value:function(){var e=this.body.getLinearVelocity();return new v(e.x(),e.y(),e.z())}},{key:"GetAngularVelocity",value:function(){var e=this.body.getAngularVelocity();return new v(e.x(),e.y(),e.z())}},{key:"SetLinearVelocity",value:function(e){this.bodysetLinearVelocity(e.to_btVector3())}},{key:"setAngularVelocity",value:function(e){this.body.setAngularVelocity(e.to_btVector3())}},{key:"translate",value:function(e){this.body.translate(e.to_btVector3())}},{key:"setPosition",value:function(e){this.btPos.setValue(e.x,e.y,e.z),this.body.getWorldTransform().setOrigin(this.btPos)}},{key:"Move",value:function(e){this.body.translate(e.to_btVector3())}},{key:"setRotation",value:function(e){this.btQuat.setValue(e.x,e.y,e.z,e.w),this.body.getWorldTransform().setRotation(this.btQuat),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}},{key:"setQuaternion",value:function(e){this.body.getWorldTransform().setRotation(e),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}},{key:"WantsSleep",value:function(){return this.body.wantsSleeping()}},{key:"GetMotionState",value:function(){return this.body.getMotionState()}},{key:"SetMotionState",value:function(e){this.body.setMotionState(e)}},{key:"SetAngularFactor",value:function(e){z.removeRigidBody(this.body),this.body.setAngularFactor(e.to_btVector3()),z.addRigidBody(this.body)}},{key:"GetAngularFactor",value:function(){var e=this.body.getAngularFactor();return new v(e.x(),e.y(),e.z())}},{key:"IsInWorld",value:function(){return this.body.isInWorld()}},{key:"AddContraint",value:function(e){this.addConstraintRef(e)}},{key:"RemoveContraint",value:function(e){this.removeConstraintRef(e)}},{key:"SetFlags",value:function(e){this.setFlags(e)}},{key:"GetFlags",value:function(){return this.getFlags()}},{key:"GetLocalInertia",value:function(){var e=this.body.getLocalInertia();return new v(e.x(),e.y(),e.z())}},{key:"IsActive",value:function(){return this.active}},{key:"GetCollisionShape",value:function(){return this.body.getCollisionShape()}},{key:"SetCollisionShape",value:function(e){this.body.setCollisionShape(e)}},{key:"SetRollingFriction",value:function(e){z.removeRigidBody(this.body),this.body.setRollingFriction(e),z.addRigidBody(this.body)}},{key:"SetRestitution",value:function(e){z.removeRigidBody(this.body),this.body.setRestitution(e),z.addRigidBody(this.body)}},{key:"GetCollisionFlags",value:function(){return this.body.getCollisionFlags()}},{key:"SetCollisionFlags",value:function(e){this.body.setCollisionFlags(e)}},{key:"GetPosition",value:function(){var e=this.body.getWorldTransform().getOrigin();return this.position.set(e.x(),e.y(),e.z()),this.position}},{key:"GetRotation",value:function(){var e=this.body.getWorldTransform().getRotation();return this.rotation.set(e.x(),e.y(),e.z(),e.w()),this.rotation}},{key:"SetActivationState",value:function(e){this.body.setActivationState(e)}},{key:"SetBounciness",value:function(e){this.body.setRestitution(e)}},{key:"IsKinematic",value:function(){return this.isKinematic}},{key:"SetFriction",value:function(e){this.body.setFriction(e)}}]),e}(),C=i(54),B=i(16),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];Object(r.a)(this,e),this.mixer=null,this.action=null,this.meshData=null,this.mesh=null,this.scene=null,this.culling=s,this.castShadow=i,this.receiveShadow=n,this.flatShading=o,null!==t&&this.LoadMesh(t)}return Object(l.a)(e,[{key:"setShadows",value:function(){var e=this;this.scene.traverse((function(t){t.isMesh&&(t.castShadow=e.castShadow,t.receiveShadow=e.receiveShadow)}))}},{key:"castShadow",value:function(e){this.castShadow=e}},{key:"receiveShadow",value:function(e){this.receiveShadow=e}},{key:"LoadMesh",value:function(e){var t=this;return y.objectLoading++,new Promise((function(i,n){(new C.a).load(e,(function(e){e.scene.traverse((function(e){e.isMesh&&(e.castShadow=t.castShadow,e.receiveShadow=t.receiveShadow,t.culling&&(e.material.side=g.u),t.flatShading&&(e.material.flatShading=t.flatShading),e.material.map&&!B.isMobile?e.material.map.anisotropy=16:e.material.map&&B.isMobile&&(e.material.map.anisotropy=1,e.material.map.minFilter=g.U,e.material.map.magFilter=g.U))})),t.scene=e.scene,t.meshData=e.scene.children,t.mesh=e.scene,t.mesh.doubleSided=!1,y.add(e.scene),y.objectLoaded++,i(t)}),void 0,(function(e){console.error(e),y.objectLoading--,n("error")}))}))}},{key:"isLoaded",value:function(){return null===this.mesh}}]),e}(),A=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(r.a)(this,e),this.mixer=null,this.action=null,this.meshData=null,this.mesh=null,this.anim=null,this.scene=null,this.currentAnimation="",this.bones=[],this.ragdollActivated=!1,this.castShadow=i,this.receiveShadow=n,this.flatShading=o,this.LoadMesh(t,o)}return Object(l.a)(e,[{key:"setShadows",value:function(){var e=this;this.scene.traverse((function(t){t.isMesh&&(t.castShadow=e.castShadow,t.receiveShadow=e.receiveShadow)}))}},{key:"castShadow",value:function(e){this.castShadow=e,this.updateScene()}},{key:"receiveShadow",value:function(e){this.receiveShadow=e,this.updateScene()}},{key:"updateScene",value:function(){var e=this;this.scene.traverse((function(t){t.isMesh&&(t.castShadow=e.castShadow,t.receiveShadow=e.receiveShadow,e.flatShading&&(t.material.flatShading=e.flatShading))}))}},{key:"LoadMesh",value:function(){var e=Object(k.a)(O.a.mark((function e(t){var i,n,o=this,s=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>1&&void 0!==s[1]&&s[1],y.objectLoading++,n=new C.a,this.flatShading=i,e.next=6,n.load(t,(function(e){o.meshData=new g.qb(e),o.mixer=new g.d(e.scene),o.mixer.timeScale=1,e.scene.traverse((function(e){e.isMesh&&(e.castShadow=o.castShadow,e.receiveShadow=o.receiveShadow,i&&(e.material.flatShading=i),e.material.map&&!B.isAndroid?e.material.map.anisotropy=16:e.material.map&&B.isAndroid&&(e.material.map.anisotropy=1,e.material.map.minFilter=g.U,e.material.map.magFilter=g.U))})),o.scene=e.scene,o.meshData=e.scene.children,o.mesh=e.scene,o.anim=e,y.objectLoaded++,y.add(e.scene)}),void 0,(function(e){y.objectLoading--,console.error(e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAnimation",value:function(e){if(null!==this.meshData&&this.currentAnimation!==e){this.currentAnimation=e;var t=g.c.findByName(this.anim,e);null!==this.action&&this.action.stop(),this.action=this.mixer.clipAction(t),null!==this.action&&this.action.play()}}},{key:"SetRagdollActive",value:function(e){this.ragdollActivated=e;for(var t=0;t<this.bones.length;t++)if(null!==this.bones[t].body){var i=e?.25:0;this.bones[t].body.setMass(i)}}},{key:"Animate",value:function(){null===this.mixer||this.ragdollActivated||this.mixer.update(T.deltaTime)}}]),e}(),F=Object(l.a)((function e(){var t=this;Object(r.a)(this,e),this.LoadMesh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return null===e&&console.log("LoadMesh requires name"),null===i&&console.log("LoadMesh requires a path"),new Promise((function(l,c){if(n){var h=new A(i,o,s,a);t.meshes[e]=h,l(h)}else{var d=new D(null,o,s,a,r);d.LoadMesh(i).then((function(i){t.meshes[e]=d,l(d)})).catch((function(e){c(e)}))}}))},this.meshes={},this.sounds={}})),I=new F;Object.freeze(I);var V=I,E=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:v.zero,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:x.Identity();Object(r.a)(this,e),this.LoadModel=function(){var e=Object(k.a)(O.a.mark((function e(i,n){var o,s,a=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.length>2&&void 0!==a[2]&&a[2],s=!(a.length>3&&void 0!==a[3])||a[3],null!==n){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,V.LoadMesh(i,n,t.skinnedMesh,t.castShadow,t.recieveShadow,o,s).then((function(e){t.model=e,t.setPosition(t.position),t.setRotation(t.rotation)})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),this.position=c,this.rotation=h,this.scale=new v(0,0,0),this.isEnabled=!0,this.texture=null,this.model=null,this.skinnedMesh=o,this.forward=v.forward,this.objID=Object(L.a)(),this.rigidBody=null,this.castShadow=s,this.recieveShadow=a,this.allowUpdate=!0,this.name=i,this.tag={},this.LoadModel(i,n,l),y.addGameObject(this)}return Object(l.a)(e,[{key:"destroyModel",value:function(){y.deleteObject(this.model.scene),null!==this.rigidBody&&this.rigidBody.removeRigidBody()}},{key:"setEnabled",value:function(e){this.isEnabled=e,this.isEnabled?y.enableObject(this):y.disableObject(this)}},{key:"setRotation",value:function(e){this.rotation=x.FromEuler(e.x,e.y,e.z),null!==this.rigidBody&&this.rigidBody.setRotation(this.rotation)}},{key:"setQuaternion",value:function(e){this.rotation=e,null!==this.rigidBody&&this.rigidBody.setQuaternion(new w.a.btQauternion(e.x,e.y,e.z,e.w))}},{key:"rotate",value:function(e){if(null!==this.rigidBody){var t=v.zero;this.rigidBody.setRotation(t);var i=v.Add(e,new v(t.x,t.y,t.z));this.rotation=x.FromEuler(i.x,i.y,i.z),this.rigidBody.setRotation(this.rotation)}else this.rotation=v.Add(this.rotation,e)}},{key:"setPosition",value:function(e){this.position=e,null!==this.rigidBody&&this.rigidBody.setPosition(this.position)}},{key:"move",value:function(e){null!==this.rigidBody?(this.position=this.rigidBody.GetPosition(),this.position=v.Add(this.position,e),this.rigidBody.setPosition(this.position)):this.position=v.Add(this.position,e)}},{key:"setScale",value:function(e){this.scale=e}},{key:"changeScale",value:function(e){this.scale.x+=e.x,this.scale.y+=e.y,this.scale.z+=e.z}},{key:"update",value:function(){if(this.allowUpdate&&(null!==this.rigidBody&&(this.position=this.rigidBody.GetPosition(),this.rotation=this.rigidBody.GetRotation()),null!==this.model&&this.model.hasOwnProperty("mesh")&&null!==this.model.mesh)){var e=this.rotation.Euler();this.model.mesh.position.set(this.position.x,this.position.y,this.position.z),this.model.mesh.rotation.set(e.x,e.y,e.z)}}},{key:"lateUpdate",value:function(){}},{key:"addRigidBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mass:0,friction:1,rollingFriction:1,restitution:.8},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.zero,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x.Identity();this.rigidBody=new P(i,t,n,e)}},{key:"render",value:function(){this.skinnedMesh&&this.model&&this.model.Animate()}},{key:"collision",value:function(e){}}]),e}(),N=new(function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.call(this)).mainCamera=new g.cb(60,1024/600,.1,1e3),e.target=null,e.position=v.zero,e.controller=null,y.addGameObject(Object(b.a)(e)),e}return Object(l.a)(i,[{key:"Configure",value:function(e,t,i,n){this.mainCamera=new g.cb(e,t,i,n)}},{key:"SetController",value:function(e){this.controller=e}},{key:"Move",value:function(e){this.mainCamera.translateX(e.x),this.mainCamera.translateY(e.y),this.mainCamera.translateZ(e.z)}},{key:"Rotate",value:function(e){this.rotation=x.FromEuler(e.x,e.y,e.z),this.mainCamera.rotation.set(e.x,e.y,e.z)}},{key:"SetPosition",value:function(e){this.position=e,this.mainCamera.position.set(e.x,e.y,e.z)}},{key:"SetPositionXYZ",value:function(e,t,i){this.position.x=e,this.position.y=t,this.position.z=i,this.mainCamera.position.set(e,t,i)}},{key:"GetCamera",value:function(){return this.mainCamera}},{key:"update",value:function(){null!==this.controller&&this.controller.update()}},{key:"lateUpdate",value:function(){null!==this.controller&&this.controller.lateUpdate()}}]),i}(E)),U=function(){function e(){Object(r.a)(this,e),this.renderer=null}return Object(l.a)(e,[{key:"InitRenderer",value:function(e,t,i,n){var o=this;return new Promise((function(s,a){o.renderer=new g.Db({canvas:e,alpha:!1,antialias:!0,precision:"highp",powerPreference:"high-performance"}),o.renderer.setSize(t,i),o.renderer.shadowMap.enabled=!0,o.renderer.shadowMap.type=g.bb,o.renderer.cullFace=g.n,o.renderer.setPixelRatio(window.devicePixelRatio),o.renderer.outputEncoding=g.Eb,o.renderer.setClearColor("skyblue",1),o.renderer.setAnimationLoop(n),null!==o.renderer?s(o.renderer):a("Error creating renderer")}))}},{key:"Render",value:function(e,t){this.renderer.render(e,t)}}]),e}(),W=i(87),_=i(81),G=i(88),H=i(41),K=i(82),q=i(89),Q=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"init",value:function(e){this.composer=new q.a(e),this.renderPass=new K.a(y.getScene(),N.mainCamera),this.renderPass.clearColor=new g.m("skyblue"),this.renderPass.clearAlpha=1,this.composer.addPass(this.renderPass),this.bokeh=null,this.bloom=null,this.ffxa=null,this.renderer=e}},{key:"isUsingEffects",value:function(){return this.bokeh||this.bloom||this.fxaa}},{key:"addFXAA",value:function(){this.ffxa=new H.a(_.a),this.ffxa.uniforms.resolution.value.set(1/y.screenWidth,1/y.screenHeight),this.composer.addPass(this.ffxa)}},{key:"addBokeh",value:function(){this.bokeh=new G.a(y.scene,N.mainCamera,{focus:1,aperture:1,maxblur:.0025,width:y.width,height:y.height}),this.composer.addPass(this.bokeh)}},{key:"addBloom",value:function(){this.bloom=new W.a(new g.zb(y.screenWidth,y.screenHeight),.3,.4,.8),this.composer.addPass(this.bloom)}},{key:"render",value:function(){this.renderPass.camera=N.mainCamera,this.composer.render(T.deltaTime)}}]),e}()),Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r.a)(this,e),this.x=t,this.y=i}return Object(l.a)(e,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"magnitude",value:function(){return this.length()}},{key:"normalize",value:function(){var e=this.magnitude();if(f.approximate(e,0))return this.x=0,this.y=0,void(this.z=0);this.x/=e,this.y/=e,this.z/=e}},{key:"toString",value:function(){return"( x: "+this.x+"  y: "+this.y+")"}}],[{key:"zero",get:function(){return new e(0,0)}},{key:"one",get:function(){return new e(1,1)}},{key:"up",get:function(){return new e(0,1)}},{key:"down",get:function(){return new e(0,-1)}},{key:"left",get:function(){return new e(-1,0)}},{key:"right",get:function(){return new e(1,0)}},{key:"add",value:function(t,i){var n=new e(0,0);return n.x=t.x+i.x,n.y=t.y+i.y,n}},{key:"subtract",value:function(t,i){var n=new e(0,0);return n.x=t.x-i.x,n.y=t.y-i.y,n}},{key:"multiply",value:function(t,i){var n=new e(0,0);return n.x=t.x*i.x,n.y=t.y*i.y,n}},{key:"addScalar",value:function(t,i){var n=new e(0,0);return n.x=t.x+i,n.y=t.y+i,n}},{key:"subtractScalar",value:function(t,i){var n=new e(0,0,0);return n.x=t.x-i,n.y=t.y-i,n}},{key:"multiplyScalar",value:function(t,i){var n=new e(0,0);return n.x=t.x*i,n.y=t.y*i,n}},{key:"distance",value:function(t,i){var n=e.subtract(i,t),o=Math.sqrt(n.x*n.x+n.y*n.y);return o}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"Equals",value:function(e,t){return e.x>t.x-Number.EPSILON&&e.x<t.x+Number.EPSILON&&e.y>t.y-Number.EPSILON&&e.y<t.y+Number.EPSILON}}]),e}(),J=i(57),X=i.n(J),Z=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(r.a)(this,e),this.Buttons={BUTTON_BOTTOM:0,BUTTON_RIGHT:1,BUTTON_LEFT:2,BUTTON_TOP:3,BUMPER_LEFT:4,BUMPER_RIGHT:5,TRIGGER_LEFT:6,TRIGGER_RIGHT:7,BUTTON_CONTROL_LEFT:8,BUTTON_CONTROL_RIGHT:9,BUTTON_JOYSTICK_LEFT:10,BUTTON_JOYSTICK_RIGHT:11,D_PAD_UP:12,D_PAD_BOTTOM:13,D_PAD_LEFT:14,D_PAD_RIGHT:15,BUTTON_CONTROL_MIDDLE:16},this.statusCallback=null,this.buttonsDown=new Map,this.buttonsPressed=new Map,this.connected=!1,this.inputAxisSmoothAmount=10,this.leftAxis=new Y(0,0),this.touchAxis=new Y(0,0),this.rightAxis=new Y(0,0),this.rightTriggerValue=0,this.leftTriggerValue=0,this.gamepad=null,i||(X.a.start(),X.a.addEventListener("connect",(function(e){t.connected=!0,t.gamepad=e.gamepad,null!==t.statusCallback&&t.statusCallback("connected"),e.gamepad.addEventListener("joystickmove",(function(e){t.leftAxis.x=1.12*e.horizontalValue,t.leftAxis.y=1.12*e.verticalValue}),[0,1]),e.gamepad.addEventListener("joystickmove",(function(e){t.rightAxis.x=1.12*e.horizontalValue,t.rightAxis.y=1.12*e.verticalValue}),[2,3]),e.gamepad.addEventListener("buttonpress",(function(e){t.addButton(e.index)})),e.gamepad.addEventListener("buttonvaluechange",(function(e){t.rightTriggerValue=e.value}),7),e.gamepad.addEventListener("buttonvaluechange",(function(e){t.leftTriggerValue=e.value}),6),e.gamepad.addEventListener("buttonpress",(function(e){t.addButton(e.index)})),e.gamepad.addEventListener("buttonrelease",(function(e){t.removeButton(e.index)}))})),X.a.addEventListener("disconnect",(function(e){t.connected=!1,null!==t.statusCallback&&t.statusCallback("disconnected")})))}return Object(l.a)(e,[{key:"leftStick",value:function(){return Y.Equals(this.touchAxis,Y.zero)?this.connected?this.leftAxis:Y.zero:this.touchAxis}},{key:"rightStick",value:function(){return this.connected?this.rightAxis:Y.zero}},{key:"addButton",value:function(e){this.buttonsDown.set(e,1),2!==this.buttonsPressed.get(e)&&this.buttonsPressed.set(e,1)}},{key:"removeButton",value:function(e){this.buttonsDown.delete(e),this.buttonsPressed.delete(e)}},{key:"isButtonDown",value:function(e){return this.buttonsDown.has(e)}},{key:"isButtonPressed",value:function(e){return!(!this.buttonsPressed.has(e)||1!==this.buttonsPressed.get(e))&&(this.buttonsPressed.set(e,2),!0)}},{key:"rightTrigger",value:function(){return this.rightTriggerValue}},{key:"leftTrigger",value:function(){return this.leftTriggerValue}},{key:"clearButtons",value:function(){this.buttonsDown.clear(),this.buttonsPressed.clear()}},{key:"isConnected",value:function(){return this.connected||B.isMobile}},{key:"update",value:function(){}},{key:"json",value:function(){return{buttonsDown:this.buttonsDown,buttonsPressed:this.buttonsPressed,leftAxis:this.leftAxis,rightAxis:this.rightAxis,rightTrigger:this.rightTriggerValue,leftTrigger:this.leftTriggerValue}}}]),e}(),$=new Z,ee=i(8),te=i(7),ie=new(function(){function e(){var t=this;Object(r.a)(this,e),this.vehicles=[],this.distFromVehicle=3,this.isReady=!1,this.ekey=new E("ekey",null,!1,!1,!0,!0,new v(-23.75,2,-10),x.Identity()),this.rkey=new E("rkey",null,!1,!1,!0,!0,new v(-23.75,2,-10),x.Identity()),this.ekey.LoadModel("ekey","./assets/models/ekey.glb",!0).then((function(){t.ekey.model.mesh.visible=!1})),this.rkey.LoadModel("rkey","./assets/models/rkey.glb",!0).then((function(){t.isReady=!0,t.rkey.model.mesh.visible=!1})),this.inRangeVehicle=null,this.vehicleInUse=null}return Object(l.a)(e,[{key:"addVehicle",value:function(e){this.vehicles.push(e)}},{key:"getInVehicle",value:function(e){return null===this.inRangeVehicle?null:(this.inRangeVehicle.inUse=!0,N.target=this.inRangeVehicle,this.vehicleInUse=this.inRangeVehicle,this.inRangeVehicle)}},{key:"controllVehicle",value:function(e){return null===e?null:(e.inUse=!0,N.target=e,this.vehicleInUse=e,e)}},{key:"leaveVehicle",value:function(){this.vehicleInUse=null}},{key:"updateEKey",value:function(){if(null!==this.inRangeVehicle){var e=this.inRangeVehicle.position;this.ekey.setPosition(new v(e.x,e.y+1,e.z)),this.ekey.model.mesh.visible=!0}else this.ekey.model.mesh.visible=!1;if(this.ekey.model.mesh.visible){var t=new v(N.position.x,0,N.position.z),i=new v(this.ekey.position.x,0,this.ekey.position.z),n=x.LookRotation(v.Subtract(t,i),v.up);this.ekey.setRotation(v.MultiplyScalar(n.Euler(),f.deg2Rad))}}},{key:"updateRKey",value:function(){if(null!==this.vehicleInUse)if(this.vehicleInUse.inUse&&this.vehicleInUse.isUpsideDown()){var e=this.vehicleInUse.position;e.y+=1,this.rkey.setPosition(e),this.rkey.model.mesh.visible=!0}else this.rkey.model.mesh.visible=!1;else this.rkey.model.mesh.visible=!1}},{key:"findInRangeVehicle",value:function(e){this.inRangeVehicle=null;for(var t=this.distFromVehicle+1,i=0;i<this.vehicles.length;i++){var n=this.vehicles[i].position,o=v.Distance(e,n);o<t&&o<=3&&!this.vehicles[i].inUse&&(t=o,this.inRangeVehicle=this.vehicles[i])}}},{key:"checkVehicleInRange",value:function(e){this.isReady&&(this.findInRangeVehicle(e),this.updateEKey(),this.updateRKey())}}]),e}()),ne=i(24),oe=i(28),se=i(83),ae=i.n(se),re=function(){function e(){Object(r.a)(this,e),this.InitAudio(),this.sounds=[]}return Object(l.a)(e,[{key:"InitAudio",value:function(){this.listener=new g.e,N.mainCamera.add(this.listener)}},{key:"LoadSound",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return new Promise((function(o,s){var a=new g.f,r=new g.gb(t.listener);try{a.load(e,(function(e){null===e&&s("Error loading sound"),r.setBuffer(e),r.setLoop(i),r.setVolume(n),r.setRefDistance(20),t.sounds.push({audio:r,volume:n}),o(r)}))}catch(l){o(l)}}))}},{key:"PlaySoundsMuted",value:function(){for(var e=0;e<this.sounds.length;e++)this.sounds[e].audio.setVolume(0),this.sounds[e].audio.play(),this.sounds[e].audio.stop(),this.sounds[e].audio.setVolume(this.sounds[e].volume)}}]),e}(),le=new re;Object.freeze(le);var ce=le,he=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(r.a)(this,i),(n=t.call(this)).inUse=!1,n.castShadow=!0,n.recieveShadow=!0,n.skinnedMesh=!1,n.btPos=new w.a.btVector3(0,0,0),n.btQuat=new w.a.btQuaternion(0,0,0,1),n.btDownForce=new w.a.btVector3(0,0,0),n.topSpeed=e.topSpeed,n.steeringRate=25,n.accelRate=e.accelRate,n.breakForce=e.breakForce,n.accelForceFront=e.accelForceFront,n.accelForceBack=e.accelForceBack,n.reverse=!1,n.engineSound=null,n.tireSquealSound=null,n.enginePitch=e.enginePitch,n.centerOfMass=e.centerOfMass,n.downForce=e.downForce,n.options=e,n.speed=0,n.constantDownforce=e.constantDownforce,n.downForceVel=new v(0,-Math.abs(n.speed)*n.downForce,0),ce.LoadSound("./assets/sounds/engine.wav",!0,.1).then((function(t){n.engineSound=t,V.LoadMesh(e.bodyModel,e.bodyModel,!1,!0,!0,!1).then((function(e){n.model=e,n.engineSound.parrent=n.model,n.setPosition(n.position),n.setRotation(n.rotation)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),ce.LoadSound("./assets/sounds/tiresqueal.wav",!0,.5).then((function(e){n.tireSquealSound=e})).catch((function(e){console.log(e)})),n.bodyShape=z.createBoxShape(new v(e.bodyWidth,e.bodyHeight,e.bodyLength));var o=new w.a.btTransform;o.setIdentity(),o.setOrigin(new w.a.btVector3(e.position.x,e.position.y,e.position.z)),o.setRotation(new w.a.btQuaternion(e.rotation.x,e.rotation.y,e.rotation.z,e.rotation.w));var s=new w.a.btDefaultMotionState(o),a=new w.a.btVector3(0,0,0);n.bodyShape.calculateLocalInertia(e.mass,a),n.body=new w.a.btRigidBody(new w.a.btRigidBodyConstructionInfo(e.mass,s,n.bodyShape,a)),n.body.setActivationState(4),n.body.setRestitution(.5),z.world.addRigidBody(n.body),n.tuning=new w.a.btVehicleTuning,n.raycaster=new w.a.btDefaultVehicleRaycaster(z.world),n.vehicle=new w.a.btRaycastVehicle(n.tuning,n.body,n.raycaster),n.vehicle.setCoordinateSystem(0,1,2),z.world.addAction(n.vehicle),y.addGameObject(Object(b.a)(n)),n.wheelModels=[],n.wheelModels.push(new E(e.wheelLeftModel,e.wheelLeftModel,!1,!0,!0)),n.wheelModels.push(new E(e.wheelRightModel,e.wheelRightModel,!1,!0,!0)),n.wheelModels.push(new E(e.wheelRightModel,e.wheelRightModel,!1,!0,!0)),n.wheelModels.push(new E(e.wheelLeftModel,e.wheelLeftModel,!1,!0,!0));for(var l=0;l<n.wheelModels.length;l++)n.wheelModels[l].allowUpdate=!1;return n.wheelInfo=[],n.wheelInfo.push(n.createWheel(e,!0,e.frontLeftPos,new v(0,-1,0),new v(-1,0,0))),n.wheelInfo.push(n.createWheel(e,!0,e.frontRightPos,new v(0,-1,0),new v(-1,0,0))),n.wheelInfo.push(n.createWheel(e,!1,e.backRightPos,new v(0,-1,0),new v(-1,0,0))),n.wheelInfo.push(n.createWheel(e,!1,e.backLeftPos,new v(0,-1,0),new v(-1,0,0))),n.tuning=new w.a.btVehicleTuning,n.currentAccelFront=0,n.currentAccelBack=0,n.currentBrakingFront=0,n.currentBrakingBack=0,n.steeringAngle=0,ie.addVehicle(Object(b.a)(n)),n}return Object(l.a)(i,[{key:"createWheel",value:function(e,t,i,n,o){var s=this.vehicle.addWheel(i.to_btVector3(),n.to_btVector3(),o.to_btVector3(),e.suspensionLen,e.radius,this.tuning,t);s.set_m_suspensionStiffness(e.stiffness),s.set_m_wheelsDampingRelaxation(e.damping),s.set_m_wheelsDampingCompression(e.compression);var a=t?e.frontFriction:e.backFriction;return s.set_m_frictionSlip(a),s.set_m_rollInfluence(e.roll),s}},{key:"isUpsideDown",value:function(){var e=this.rotation.Euler();return Math.abs(e.x)*f.rad2Deg>=40||Math.abs(e.z)*f.rad2Deg>=40}},{key:"updateInput",value:function(){if(this.isUpsideDown()&&this.inUse&&(u.isKeyDown("r")||$.isButtonPressed($.Buttons.BUMPER_RIGHT))){var e=new v(this.position.x,this.position.y+1.5,this.position.z),t=new x(0,this.rotation.y,0,this.rotation.w),i=new w.a.btQuaternion(t.x,t.y,t.z,t.w);this.body.setLinearVelocity(new w.a.btVector3(0,0,0)),this.body.setAngularVelocity(new w.a.btVector3(0,0,0)),this.body.getWorldTransform().setOrigin(e.to_btVector3()),this.body.getWorldTransform().setRotation(i),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}if(!this.inUse&&f.approximate(this.speed,0)&&null!==this.engineSound&&this.engineSound.isPlaying&&this.engineSound.stop(),this.inUse){var n=Y.zero;if($.isConnected()&&(n=$.leftStick(),this.steeringAngle=-30*n.x),null===this.engineSound||this.engineSound.isPlaying||this.engineSound.play(),this.reverse=!1,(u.isKeyDown("w")||u.isKeyDown("ArrowUp")||$.rightTrigger()>0)&&this.speed<=this.topSpeed){var o=$.rightTrigger()>0?$.rightTrigger():1;this.currentBrakingFront=0,this.currentBrakingBack=0,this.currentAccelBack=this.accelForceBack*this.accelRate*o,this.currentAccelFront=this.accelForceFront*this.accelRate*o}else this.currentAccelBack=0,this.currentAccelFront=0,this.currentBrakingFront=.5,this.currentBrakingBack=.5;if(u.isKeyDown("s")||u.isKeyDown("ArrowDown")||$.leftTrigger()>0){this.reverse=!0;var s=$.leftTrigger()>0?$.leftTrigger():1;this.speed<=0?(this.currentBrakingFront=0,this.currentBrakingBack=0,this.currentAccelBack=-.5*this.accelForceBack*this.accelRate*s,this.currentAccelFront=-.5*this.accelForceFront*this.accelRate*s):(this.currentBrakingFront=.25*this.breakForce*s,this.currentBrakingBack=.25*this.breakForce*s)}u.isKeyDown("a")||u.isKeyDown("ArrowLeft")?this.steeringAngle+=15*this.steeringRate*T.deltaTime:u.isKeyDown("d")||u.isKeyDown("ArrowRight")?this.steeringAngle-=15*this.steeringRate*T.deltaTime:Y.Equals(n,Y.zero)&&(this.steeringAngle=f.moveTowards(this.steeringAngle,0,this.steeringRate*T.deltaTime)),this.steeringAngle=f.clamp(this.steeringAngle,-25,25)}}},{key:"updateSound",value:function(){Math.abs(this.body.getAngularVelocity().y())>1?null!==this.tireSquealSound&&null!==this.model&&(this.tireSquealSound.isPlaying||this.tireSquealSound.play(),this.tireSquealSound.panner.setPosition(this.model.mesh.position.x,this.model.mesh.position.y,this.model.mesh.position.z),this.tireSquealSound.setPlaybackRate(.7),this.tireSquealSound.setDetune(-250)):null!==this.tireSquealSound&&this.tireSquealSound.isPlaying&&this.tireSquealSound.stop(),null!==this.engineSound&&null!==this.model&&this.engineSound.isPlaying&&this.model.mesh&&(this.engineSound.setDetune(10*(Math.abs(this.speed)+this.enginePitch)),this.engineSound.panner.setPosition(this.model.mesh.position.x,this.model.mesh.position.y,this.model.mesh.position.z))}},{key:"updateWheels",value:function(){for(var e=0;e<this.vehicle.getNumWheels();e++){this.vehicle.updateWheelTransform(e,!1);var t=this.vehicle.getWheelTransformWS(e),i=t.getOrigin(),n=t.getRotation();this.wheelModels[e].model&&this.wheelModels[e].model.mesh&&(this.wheelModels[e].model.mesh.position.set(i.x(),i.y(),i.z()),this.wheelModels[e].model.mesh.quaternion.set(n.x(),n.y(),n.z(),n.w()))}}},{key:"updateRigidBody",value:function(){var e=this.body.getWorldTransform(),t=e.getOrigin(),i=e.getRotation();this.rotation.set(i.x(),i.y(),i.z(),i.w()),this.position.set(t.x(),t.y(),t.z());var n=this.rotation.Euler();n.x*=f.deg2Rad,n.y*=f.deg2Rad,n.z*=f.deg2Rad,this.rotation=x.FromEuler(n.x,n.y,n.z),this.model&&this.model.mesh&&(this.model.mesh.position.set(t.x(),t.y(),t.z()),this.model.mesh.quaternion.set(i.x(),i.y(),i.z(),i.w()))}},{key:"updateSpeed",value:function(){var e=this.vehicle.getRigidBody().getLinearVelocity().length()-.163;e<.009&&(e=0);var t=this.reverse&&this.speed<.05?-1:1;this.speed=9.8*e*t}},{key:"updateMovement",value:function(){this.vehicle.applyEngineForce(this.currentAccelFront,0),this.vehicle.applyEngineForce(this.currentAccelFront,1),this.vehicle.applyEngineForce(this.currentAccelBack,2),this.vehicle.applyEngineForce(this.currentAccelBack,3),this.vehicle.setBrake(this.currentBrakingFront,0),this.vehicle.setBrake(this.currentBrakingFront,1),this.vehicle.setBrake(this.currentBrakingBack/2,2),this.vehicle.setBrake(this.currentBrakingBack/2,3)}},{key:"updateSteering",value:function(){this.vehicle.setSteeringValue(0,3),this.vehicle.setSteeringValue(0,2),this.vehicle.setSteeringValue(this.steeringAngle*f.deg2Rad,0),this.vehicle.setSteeringValue(this.steeringAngle*f.deg2Rad,1)}},{key:"applyDownforce",value:function(){var e=this.constantDownforce?-this.downForce:-Math.abs(this.speed)*this.downForce;this.downForceVel=new v(0,e,0),this.btDownForce.setValue(this.downForceVel.x,this.downForceVel.y,this.downForceVel.z),this.body.applyCentralImpulse(this.btDownForce)}},{key:"resetMovementWhenNotInUse",value:function(){this.inUse||(this.currentBrakingFront=.25*this.breakForce,this.currentBrakingBack=.25*this.breakForce,this.currentAccelBack=0,this.currentAccelFront=0)}},{key:"update",value:function(){N.mainCamera.add(ce.listener),this.applyDownforce(),this.resetMovementWhenNotInUse(),this.updateInput(),this.updateSound(),this.updateMovement(),this.updateSteering(),this.updateWheels(),this.updateRigidBody(),this.updateSpeed()}}]),i}(E),de=Object(l.a)((function e(t){var i=this;Object(r.a)(this,e),this.uuid=t,this.player=new ge("player",null,!0,!0,!0,new v(0,1,0),x.FromEuler(0,180,0)),this.player.isLocal=!1,this.player.LoadModel("player","./assets/models/chris.glb",!0).then((function(){i.player.addRigidBody({friction:.5,rollingFriction:0,restitution:.5,mass:1},z.createCapsuleShape(.23,.48,v.up),new v(0,1,0))})),this.position=new v(0,.5,0),this.rotation=new x(0,0,0,0)})),ue=new(function(){function e(){Object(r.a)(this,e),this.server="https://chrisriffleportfolio-server.herokuapp.com/",this.uuid=null,this.players=new Map,this.connect()}return Object(l.a)(e,[{key:"connect",value:function(){var e=this;return new Promise((function(t){e.socket=ae()(e.server),console.log("connect"),e.socket.on("uuid",(function(t){e.uuid=t.uuid})),e.socket.on("updateHost",(function(t){e.match=t.match,e.isHost=!0})),e.socket.on("addClient",(function(t){e.players.has(t.uuid)||t.uuid==e.uuid||e.players.set(t.uuid,new de(t.uuid))})),e.socket.on("removeClient",(function(t){e.players.get(t.uuid).player.destroyModel(),e.players.delete(t.uuid)})),e.socket.on("reveiveInput",(function(e){})),e.socket.on("receiveInput",(function(e){})),e.socket.on("playerUpdate",(function(t){var i,n=Object(oe.a)(e.players);try{for(n.s();!(i=n.n()).done;){var o=Object(ne.a)(i.value,2),s=(o[0],o[1]);if(t.uuid===s.uuid){var a=new v(t.position.x,t.position.y,t.position.z),r=new v(t.rotation.euler.x,t.rotation.euler.y,t.rotation.euler.z);s.player.netMove(a,r),s.player.position=t.position,s.player.rotation=t.rotation}}}catch(l){n.e(l)}finally{n.f()}})),t(e.socket)}))}},{key:"sendStateUpdate",value:function(){this.socket.emit("updateState",{matchUUID:this.match.uuid,hostUUID:this.match.uuid,clients:this.clients,ball:this.ball})}},{key:"getClients",value:function(){return this.clients}},{key:"updateWithServer",value:function(e,t){this.socket.emit("updateState",{uuid:this.uuid,position:e,rotation:t})}},{key:"updateInput",value:function(e){}},{key:"update",value:function(){}}]),e}()),ge=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:v.zero,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:x.Identity();return Object(r.a)(this,i),(e=t.call(this,n,o,s,a,l,c,h,d)).vehicle=null,e.moveDir=new v(0,0,0),e.euler=new v(0,0,0),e.btMoveVec3=new w.a.btVector3(0,0,0),e.isMoving=!1,e.isLocal=!0,e.lastPos=e.position,e.netAnimTimer=0,e.netTimerTrigger=.15,e}return Object(l.a)(i,[{key:"changeAnimation",value:function(e){this.moveSpeed=5,null!==this.model&&this.model.playAnimation(e)}},{key:"update",value:function(){this.lastPos=this.position,this.isMoving=!1,this.isLocal||(this.netAnimTimer+=T.DeltaTime(),this.netAnimTimer>this.netTimerTrigger&&this.changeAnimation("Rest"));var e=u.isKeyPressed("e")||$.isButtonPressed($.Buttons.BUTTON_TOP);if(this.isLocal)if(e&&null===this.vehicle)this.vehicle=ie.getInVehicle(),null!==this.vehicle&&(this.setPosition(new v(0,-1e3,0)),Object(ee.a)(Object(te.a)(i.prototype),"update",this).call(this));else if(e&&null!==this.vehicle){this.vehicle.inUse=!1,ie.leaveVehicle();var t=this.vehicle.position;N.target=this,this.vehicle=null,this.setPosition(t.set(t.x+2,1,t.z))}if(null===this.vehicle||"undefined"===this.vehicle){this.model&&this.model.hasOwnProperty("mixer")&&null!==this.model.mixer&&(this.model.mixer.timeScale=1);var n=0,o=0;if(this.isLocal){(u.isKeyDown("w")||u.isKeyDown("ArrowUp"))&&(n=-1,this.isMoving=!0),(u.isKeyDown("s")||u.isKeyDown("ArrowDown"))&&(n=1,this.isMoving=!0),(u.isKeyDown("a")||u.isKeyDown("ArrowLeft"))&&(o=-1,this.isMoving=!0),(u.isKeyDown("d")||u.isKeyDown("ArrowRight"))&&(o=1,this.isMoving=!0);var s=$.leftStick();Y.Equals(s,Y.zero)||(o=s.x,n=s.y,this.isMoving=!0)}this.moveDir.x=o,this.moveDir.z=n,this.moveDir.normalize(),this.isLocal&&(v.Equals(this.moveDir,v.zero)?this.changeAnimation("Rest"):(this.forward=this.moveDir.normalize(),this.moveDir.x=this.forward.x,this.moveDir.z=this.forward.z,this.euler.y=v.Angle(v.back,this.forward),this.changeAnimation("Walk")),this.movePlayer()),Object(ee.a)(Object(te.a)(i.prototype),"update",this).call(this),this.isMoving&&this.isLocal&&ue.updateWithServer(this.position,this.rotation)}}},{key:"movePlayer",value:function(){if(N.controller.fixedCameraMode){this.moveDir.x*=3,this.moveDir.z*=3;var e=new v(this.moveDir.x,this.moveDir.y,this.moveDir.z);e.y=this.rigidBody.GetLinearVelocity().y,this.btMoveVec3.setValue(e.x,e.y,e.z),this.rigidBody.body.setLinearVelocity(this.btMoveVec3),this.setRotation(this.euler)}else{this.forward=new v(0,0,-1);var t=this.rotation.Euler();t.x=0,t.z=0,t.y-=2*this.moveDir.x*T.deltaTime;var i=x.FromEuler(t.x*f.rad2Deg,t.y*f.rad2Deg,t.z*f.rad2Deg);this.forward.rotate(i),this.moveDir.z<.15&&this.moveDir.z>0&&(this.moveDir.z=0),this.moveDir.z>0?this.moveDir.z=1.5:this.moveDir.z<0&&(this.moveDir.z=-3);var n=new v(this.forward.x,this.forward.y,this.forward.z);(n=v.MultiplyScalar(n,this.moveDir.z)).y=this.rigidBody.GetLinearVelocity().y,this.btMoveVec3.setValue(n.x,n.y,n.z),this.rigidBody.body.setLinearVelocity(this.btMoveVec3),this.setRotation(t)}}},{key:"netMove",value:function(e,t){v.Equals(this.position,e)||(this.netAnimTimer=0,this.changeAnimation("Walk"),this.setPosition(e),this.setRotation(t))}},{key:"collision",value:function(e){}}]),i}(E),pe=new(function(){function e(){Object(r.a)(this,e),this.infoStations=[],this.activationDistance=.75,this.inUse=!1}return Object(l.a)(e,[{key:"addInfoStation",value:function(e,t){this.infoStations.push({position:e,name:t})}},{key:"update",value:function(e){for(var t=!1,i="",n=10,o=0;o<this.infoStations.length;o++){var s=v.Distance(this.infoStations[o].position,e);if(s<n&&(n=s),s<=this.activationDistance&&!this.inUse){this.inUse=!0,t=!0,i=this.infoStations[o].name;break}}n>this.activationDistance&&(this.inUse=!1),t&&(u.clearKeys(),Me.openModal(i))}}]),e}()),ye=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lightType:i.LightType.DirectionalLight,color:16777215,intensity:1,castShadow:!0,shadowMapWidth:2048,shadowMapHeight:2048,cameraNear:.1,cameraFar:50,shadowBias:-25e-5,shadowCameraSize:50,target:new g.Ab(0,-1,0),position:new g.Ab(0,1,0),distance:100,decay:2,angle:30*f.deg2Rad,penumbra:.03};switch(Object(r.a)(this,i),(e=t.call(this)).options=n,e.light=null,void 0===e.options.position&&(e.options.position=new g.Ab(0,1,0)),n.lightType){case i.LightType.DIRECTIONAL:e.createDirectionalLight();break;case i.LightType.POINT:e.createPointLight();break;case i.LightType.SPOT:e.createSpotLight();break;case i.LightType.AMBIENT:e.createAmbientLight();break;default:console.log("Unknown light type")}return e}return Object(l.a)(i,[{key:"createDirectionalLight",value:function(){this.light=new g.o(this.options.color,this.options.intensity),this.options.castShadow&&this.enableShadows(),this.light.target=new g.Z,y.add(this.light.target),y.add(this.light)}},{key:"createAmbientLight",value:function(){this.light=new g.b(this.options.color,this.options.intensity),y.add(this.light)}},{key:"createPointLight",value:function(){this.light=new g.db(this.position.color,this.options.intensity,this.options.distance),this.light.decay=this.options.decay;var e=this.options.position;this.light.position.set(e.x,e.y,e.z),this.options.castShadow&&this.enableShadows(),y.add(this.light)}},{key:"createSpotLight",value:function(){this.light=new g.sb(this.options.color,this.options.intensity,this.options.distance,this.options.angle,this.options.penumbra,this.options.decay);var e=this.options.position,t=this.options.target;this.light.position.set(e.x,e.y,e.z),this.light.target.position.set(t.x,t.y,t.z),this.options.castShadow&&this.enableShadows(),y.add(this.light.target),y.add(this.light)}},{key:"enableShadows",value:function(){this.light.castShadow=this.options.castShadow,this.light.shadow.mapSize.width=this.options.shadowMapWidth,this.light.shadow.mapSize.height=this.options.shadowMapHeight,this.light.shadow.camera.near=this.options.cameraNear,this.light.shadow.camera.far=this.options.cameraFar,this.light.shadow.bias=this.options.shadowBias,this.light.shadow.camera.top=this.options.shadowCameraSize,this.light.shadow.camera.bottom=-this.options.shadowCameraSize,this.light.shadow.camera.left=-this.options.shadowCameraSize,this.light.shadow.camera.right=this.options.shadowCameraSize,this.light.shadow.camera.zoom=.55}},{key:"update",value:function(){if(null!==this.light)if(this.options.lightType===i.LightType.DIRECTIONAL){var e=N.position;this.light.position.set(e.x,100,e.z+5),this.light.target.position.set(15*this.options.target.x+e.x,this.options.target.y,15*this.options.target.z+e.z)}else this.options.lightType===i.LightType.SPOT&&(this.light.position.set(this.options.position.x,this.options.position.y,this.options.position.z),this.light.target.position.set(this.options.target.x,this.options.target.y,this.options.target.z))}}]),i}(E);ye.LightType={DIRECTIONAL:0,POINT:1,SPOT:2,AMBIENT:3};var be,fe,me,we,ve,xe,ke,je=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:v.zero,rotation:x.Identity(),mass:1,friction:1,rollingFriction:.8,damping:new Y(.2,.1),restitution:.8,radius:1,model:""};return Object(r.a)(this,i),(e=t.call(this,n.model,null,!1,!0,!0,!1,v.zero,x.Identity())).inUse=!1,e.castShadow=!0,e.recieveShadow=!0,e.skinnedMesh=!1,e.options=n,e.shape=z.createSphereShape(n.radius),e.body=null,e.tag=n.tag,e.LoadModel(n.model,n.model,!1,!1).then((function(){var t=new w.a.btTransform;t.setIdentity(),t.setOrigin(new w.a.btVector3(e.options.position.x,e.options.position.y,e.options.position.z)),t.setRotation(new w.a.btQuaternion(e.options.rotation.x,e.options.rotation.y,e.options.rotation.z,e.options.rotation.w));var i=new w.a.btDefaultMotionState(t),n=new w.a.btVector3(0,0,0);e.shape.calculateLocalInertia(e.options.mass,n),e.body=new w.a.btRigidBody(new w.a.btRigidBodyConstructionInfo(e.options.mass,i,e.shape,n)),e.body.setActivationState(4),e.body.setFriction(e.options.friction),e.body.setRestitution(e.options.restitution),e.body.setRollingFriction(e.options.rollingFriction),e.body.setDamping(e.options.damping.x,e.options.damping.y),z.world.addRigidBody(e.body),y.addGameObject(Object(b.a)(e))})),e}return Object(l.a)(i,[{key:"update",value:function(){if(null!==this.body){var e=this.body.getWorldTransform().getOrigin(),t=this.body.getWorldTransform().getRotation();this.model&&this.model.mesh&&(this.model.mesh.position.set(e.x(),e.y(),e.z()),this.model.mesh.quaternion.set(t.x(),t.y(),t.z(),t.w()),this.position.set(e.x(),e.y(),e.z()),this.rotation.set(t.x(),t.y(),t.z(),t.w()))}}}]),i}(E),Oe=function(){function e(t){Object(r.a)(this,e),this.offset=t,this.fixedCameraMode=!0,this.locked=!0,this.followDistance=3,this.followHeight=1,this.newTargetPos=new v}return Object(l.a)(e,[{key:"update",value:function(){(u.isKeyPressed("c")||$.isButtonPressed($.Buttons.BUMPER_LEFT))&&(this.fixedCameraMode=!this.fixedCameraMode)}},{key:"lateUpdate",value:function(){this.fixedCameraMode?this.fixedCamera():this.followCamera()}},{key:"fixedCamera",value:function(){if(null!==N.target){var e=v.Add(N.target.position,this.offset);v.Distance(N.position,e)>.2&&!this.locked?N.position=v.MoveTowards(N.position,e,.1):(this.locked=!0,N.position=e);var t=v.LerpUnclamped(N.position,e,.1);N.SetPosition(t),N.mainCamera.lookAt(N.target.position.x,N.target.position.y,N.target.position.z)}}},{key:"followCamera",value:function(){if(null!==N.target){this.locked=!1;var e=N.target.rotation.Euler();e.x*=f.rad2Deg,e.y*=f.rad2Deg,e.z*=f.rad2Deg;var t=x.FromEuler(e.x,e.y,e.z),i=new v(0,0,-1);i.rotate(t),(i=v.MultiplyScalar(i,4)).y=N.target.position.y+1,N.SetPosition(v.Add(N.target.position,i)),N.mainCamera.lookAt(N.target.position.x,N.target.position.y,N.target.position.z)}}}]),e}(),Se=function(){function e(){var t=this;Object(r.a)(this,e),this.Load=Object(k.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){t.player=new ge("player",null,!0,!0,!0,new v(0,1,0),x.FromEuler(0,180,0)),t.player.LoadModel("player","./assets/models/chris.glb",!0).then((function(){t.player.addRigidBody({friction:.5,rollingFriction:0,restitution:.5,mass:1},z.createCapsuleShape(.23,.48,v.up),new v(0,1,0))})),t.ground=new E("ground","./assets/models/ground.glb",!1,!1,!0),t.ground.addRigidBody({friction:.5,rollingFriction:1,restitution:.5,mass:0},z.createPlaneShape(v.up),new v(0,0,0)),t.grass=new E("grass","./assets/models/grass.glb",!1,!0,!0,!0,new v(0,0,-10)),t.moundSign=new E("moundsign","./assets/models/moundsign.glb",!1,!0,!0),t.moundSign.setPosition(new v(0,0,-10)),t.road=new E("road",null,!1,!0,!0,!0),t.road.LoadModel("road","./assets/models/road.glb",!0).then((function(){z.createMeshShape(t.road.model.mesh).then((function(e){t.road.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.parkinglot=new E("parkinglot",null,!1,!0,!0,!0),t.parkinglot.LoadModel("parkinglot","./assets/models/parkinglot.glb",!0).then((function(){z.createMeshShape(t.parkinglot.model.mesh).then((function(e){t.parkinglot.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.infostation=new E("infostation","./assets/models/infostation.glb",!1,!1,!0,!1,new v(0,0,-10)),t.infostationbase=new E("infostationbase",null,!1,!1,!0,!1,new v(0,0,-10)),t.infostationbase.LoadModel("infostation","./assets/models/infostationbase.glb",!0).then((function(){z.createMeshShape(t.infostationbase.model.mesh).then((function(e){t.infostationbase.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.mightychicken=new E("mightychicken",null,!1,!0,!0,!0),t.mightychicken.LoadModel("mightychicken","./assets/models/mightychicken.glb",!0).then((function(){z.createMeshShape(t.mightychicken.model.mesh).then((function(e){t.mightychicken.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.mightychickensign=new E("mightychickensign",null,!1,!0,!0,!0),t.mightychickensign.LoadModel("mightychickensign","./assets/models/mightychickensign.glb",!0).then((function(){z.createMeshShape(t.mightychickensign.model.mesh).then((function(e){t.mightychickensign.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),pe.addInfoStation(new v(-19.921,0,-7.5799),"roadracer"),pe.addInfoStation(new v(-41.183,0,-.5502),"mightychicken"),pe.addInfoStation(new v(28.144,0,-10.426),"pawsnfind"),pe.addInfoStation(new v(37.3217,0,-7.9411),"auctionbento"),pe.addInfoStation(new v(-77.743,0,6.29),"skullvalley"),pe.addInfoStation(new v(41.966,0,-3.468),"portfolio"),t.pawsnfind=new E("pawsnfind",null,!1,!0,!0,!1),t.pawsnfind.LoadModel("pawsnfind","./assets/models/pawsnfind.glb",!1).then((function(){z.createMeshShape(t.pawsnfind.model.mesh).then((function(e){t.pawsnfind.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.bentogirl=new E("bentogirl",null,!1,!0,!0,!1),t.bentogirl.LoadModel("bentogirl","./assets/models/bentogirl.glb",!1).then((function(){z.createMeshShape(t.bentogirl.model.mesh).then((function(e){t.bentogirl.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.portfolio=new E("portfolio",null,!1,!0,!0,!1),t.portfolio.LoadModel("portfolio","./assets/models/portfolio.glb",!1).then((function(){z.createMeshShape(t.portfolio.model.mesh).then((function(e){t.portfolio.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.barrier=new E("barrier",null,!1,!0,!0,!1),t.barrier.LoadModel("barrier","./assets/models/barrier.glb",!1).then((function(){z.createMeshShape(t.barrier.model.mesh).then((function(e){t.barrier.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.constructionsign=new E("constructionsign",null,!1,!0,!0,!1,new v(0,0,-10)),t.constructionsign.LoadModel("constructionsign","./assets/models/constructionsign.glb",!1),t.temple=new E("temple",null,!1,!0,!0,!0),t.temple.LoadModel("temple","./assets/models/temple.glb",!0).then((function(){z.createMeshShape(t.temple.model.mesh).then((function(e){t.temple.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.svlogo=new E("svlogo",null,!1,!0,!0,!0),t.svlogo.LoadModel("svlogo","./assets/models/svlogo.glb",!0).then((function(){z.createMeshShape(t.svlogo.model.mesh).then((function(e){t.svlogo.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.svlogoarrows=new E("svlogoarrows",null,!1,!0,!0,!0),t.svlogoarrows.LoadModel("svlogoarrows","./assets/models/svlogoarrows.glb",!0).then((function(){z.createMeshShape(t.svlogoarrows.model.mesh).then((function(e){t.svlogoarrows.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.templewateredge=new E("templewateredge",null,!1,!0,!0,!0),t.templewateredge.LoadModel("templewateredge","./assets/models/templewateredge.glb",!0).then((function(){z.createMeshShape(t.templewateredge.model.mesh).then((function(e){t.templewateredge.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,.05,-10))}))})),t.templewater=new E("templewater",null,!1,!0,!0,!0),t.templewater.LoadModel("templerock","./assets/models/templewater.glb",!0).then((function(){t.templewater.setPosition(new v(0,.05,-10))})),t.templerock=new E("templerock",null,!1,!0,!0,!0),t.templerock.LoadModel("templerock","./assets/models/templerock.glb",!0).then((function(){z.createMeshShape(t.templerock.model.mesh).then((function(e){t.templerock.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.racetrack=new E("racetrack",null,!1,!1,!0,!0),t.racetrack.LoadModel("racetrack","./assets/models/racetrack.glb",!0).then((function(){z.createMeshShape(t.racetrack.model.mesh).then((function(e){t.racetrack.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-38))}))})),t.racetrackstart=new E("racetrackstart",null,!1,!0,!0,!1),t.racetrackstart.LoadModel("racetrackstart","./assets/models/racetrackstart.glb",!1).then((function(){z.createMeshShape(t.racetrackstart.model.mesh).then((function(e){t.racetrackstart.addRigidBody({friction:.5,rollingFriction:1,restitution:0,mass:0},e,new v(0,.075,-38))}))})),t.parkinglotcurb=new E("parkinglotcurb",null,!1,!0,!0,!0),t.parkinglotcurb.LoadModel("parkinglotcurb","./assets/models/parkinglotcurb.glb",!0).then((function(){z.createMeshShape(t.parkinglotcurb.model.mesh).then((function(e){t.parkinglotcurb.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.garage=new E("garage",null,!1,!0,!0,!0),t.garage.LoadModel("garage","./assets/models/garage.glb",!0).then((function(){z.createMeshShape(t.garage.model.mesh).then((function(e){t.garage.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.garagedoor=new E("garagedoor",null,!1,!0,!0,!0),t.garagedoor.LoadModel("garagedoor","./assets/models/garagedoor.glb",!0).then((function(){z.createMeshShape(t.garagedoor.model.mesh).then((function(e){t.garagedoor.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.rrsign=new E("rrsign",null,!1,!0,!0,!0),t.rrsign.LoadModel("rrsign","./assets/models/rrsign.glb",!0,!1).then((function(){z.createMeshShape(t.rrsign.model.mesh).then((function(e){t.rrsign.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.mound=new E("mound",null,!1,!0,!0,!0),t.mound.LoadModel("mound","./assets/models/mound.glb",!0).then((function(){z.createMeshShape(t.mound.model.mesh).then((function(e){t.mound.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.fence=new E("fence",null,!1,!0,!0,!0),t.fence.LoadModel("fence","./assets/models/fence.glb",!0).then((function(){z.createMeshShape(t.fence.model.mesh).then((function(e){t.fence.addRigidBody({friction:1,rollingFriction:1,restitution:0,mass:0},e,new v(0,0,-10))}))})),t.cameraController=new Oe(new v(0,3,5)),N.controller=t.cameraController,N.target=t.player,t.vehicle2=new he({breakForce:5,accelForceFront:0,accelForceBack:100,accelRate:4,downForce:.075,topSpeed:150,bodyWidth:.956,bodyHeight:.738,bodyLength:2.28,mass:100,enginePitch:25,position:new v(-38.62,.56,-9.23),rotation:new x(0,.191,0,.982),centerOfMass:new v(0,-1,0),bodyModel:"./assets/models/classicbug.glb",wheelLeftModel:"./assets/models/classicbugwheelLeft.glb",wheelRightModel:"./assets/models/classicbugwheelRight.glb",stiffness:100,damping:5.75,compression:2.4,backFriction:.95,frontFriction:1,roll:.25,radius:.25,suspensionLen:.095,backLeftPos:new v(-.4,-.35,-.654),backRightPos:new v(.4,-.35,-.654),frontRightPos:new v(.38,-.35,.719),frontLeftPos:new v(-.38,-.35,.719)}),t.vehicle=new he({breakForce:10,accelForceFront:50,accelForceBack:150,downForce:.15,accelRate:3,topSpeed:250,bodyWidth:1.25,bodyHeight:.6,bodyLength:2.128,mass:150,enginePitch:-100,position:new v(-24.438,.624,-10.447),rotation:new x(0,.191,0,.982),centerOfMass:new v(0,-1,0),bodyModel:"./assets/models/hotrod.glb",wheelLeftModel:"./assets/models/hotrodwheelLeft.glb",wheelRightModel:"./assets/models/hotrodwheelRight.glb",stiffness:125,damping:3,compression:2.5,backFriction:1,frontFriction:1,roll:.35,radius:.25,suspensionLen:.1,backLeftPos:new v(-.524,-.309,-.654),backRightPos:new v(.524,-.309,-.654),frontRightPos:new v(.524,-.309,.719),frontLeftPos:new v(-.524,-.309,.719)}),t.vehicle3=new he({breakForce:15,accelForceFront:180,accelForceBack:250,accelRate:1,downForce:.05,topSpeed:200,bodyWidth:1.15,bodyHeight:.5,bodyLength:2.128,mass:200,enginePitch:-50,position:new v(-27.407,.59,-9.5),rotation:new x(0,.191,0,.982),centerOfMass:new v(0,-1,0),bodyModel:"./assets/models/sportscar.glb",wheelLeftModel:"./assets/models/sportscarwheelLeft.glb",wheelRightModel:"./assets/models/sportscarwheelRight.glb",stiffness:100,damping:10,compression:1.4,backFriction:.95,frontFriction:1,roll:.2,radius:.25,suspensionLen:.075,backLeftPos:new v(-.45,-.23,-.62),backRightPos:new v(.45,-.23,-.62),frontRightPos:new v(.45,-.23,.69),frontLeftPos:new v(-.45,-.23,.69)}),t.vehicle4=new he({breakForce:15,accelForceFront:0,accelForceBack:500,accelRate:1,downForce:.15,topSpeed:322,bodyWidth:1.03,bodyHeight:.395,bodyLength:2.21,mass:100,enginePitch:50,position:new v(-35.883,.295,-6.466),rotation:new x(0,.545,0,.8383),centerOfMass:new v(0,-1,0),bodyModel:"./assets/models/racecar.glb",wheelLeftModel:"./assets/models/racecarwheelLeft.glb",wheelRightModel:"./assets/models/racecarwheelRight.glb",stiffness:500,damping:2.3,compression:2.4,backFriction:1.95,frontFriction:2,roll:.2,radius:.25,suspensionLen:.01,backLeftPos:new v(-.4,-.05,-.8),backRightPos:new v(.4,-.05,-.8),frontRightPos:new v(.4,-.05,.67),frontLeftPos:new v(-.4,-.05,.67)}),t.vehicle5=new he({breakForce:10,accelForceFront:0,accelForceBack:250,accelRate:1,downForce:.01,topSpeed:100,bodyWidth:1,bodyHeight:1.5,bodyLength:2.128,mass:500,enginePitch:-100,position:new v(-33.75,.649,-10.43),rotation:new x(0,.191,0,.982),centerOfMass:new v(0,-1,0),bodyModel:"./assets/models/truck.glb",wheelLeftModel:"./assets/models/truckwheelLeft.glb",wheelRightModel:"./assets/models/truckwheelRight.glb",stiffness:250,damping:2.3,compression:1.4,backFriction:.95,frontFriction:.95,roll:.25,radius:.25,suspensionLen:.1,backLeftPos:new v(-.45,-.5,-.6),backRightPos:new v(.45,-.5,-.6),frontRightPos:new v(.45,-.5,.95),frontLeftPos:new v(-.45,-.5,.95)}),t.vehicle5=new he({breakForce:10,accelForceFront:0,accelForceBack:225,accelRate:3,downForce:.2,topSpeed:160,bodyWidth:1,bodyHeight:.747,bodyLength:2.45,mass:300,enginePitch:-100,position:new v(-30.404,.649,-8.43),rotation:new x(0,.191,0,.982),centerOfMass:new v(0,-1,0),bodyModel:"./assets/models/pickup.glb",wheelLeftModel:"./assets/models/pickupwheelLeft.glb",wheelRightModel:"./assets/models/pickupwheelRight.glb",stiffness:100,damping:2.3,compression:1.4,backFriction:.95,frontFriction:.95,roll:.25,radius:.25,suspensionLen:.125,backLeftPos:new v(-.425,-.32,-.79),backRightPos:new v(.425,-.32,-.79),frontRightPos:new v(.425,-.32,.71),frontLeftPos:new v(-.425,-.32,.71)}),e(!0)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}return Object(l.a)(e,[{key:"Init",value:function(){this.ball=new je({position:new v(0,2,-20),rotation:x.Identity(),mass:.2,friction:.5,rollingFriction:.3,restitution:1.5,damping:new Y(.2,.1),radius:.175,model:"./assets/models/soccerball.glb"}),y.setExpoFog("skyblue",.0075),this.light=new ye({lightType:ye.LightType.DIRECTIONAL,color:16777215,intensity:1,castShadow:!0,shadowMapWidth:8192,shadowMapHeight:8192,cameraNear:.1,cameraFar:500,shadowBias:-25e-5,shadowCameraSize:75,target:new v(-5,-5,-5)}),this.ambientLight=new ye({lightType:ye.LightType.AMBIENT,color:16777215,intensity:.5}),this.Load().then((function(){}))}},{key:"update",value:function(){ie.checkVehicleInRange(this.player.position),pe.update(this.player.position)}}]),e}(),Me=new(function(){function e(){var t=this;Object(r.a)(this,e),this.InitRenderer=function(e,i,n){t.renderer=new U,t.renderer.InitRenderer(e,i,n,t.Animate).then((function(e){})).then((function(){}))},this.Animate=function(e){t.isModalOpen()&&($.clearButtons(),u.clearKeys()),z.update(),$.update(),T.Update(),t.mainGame.update(),y.update(),t.fpsTime+=T.deltaTime,t.fps++,t.fpsTime>=1&&(document.title=t.fps+" fps",t.frameRate=parseFloat(t.fps),t.fps=0,t.fpsTime=0),Q.isUsingEffects()?Q.render():t.renderer.Render(y.getScene(),N.mainCamera)},this.fps=0,this.fpsTime=0,this.frameRate=0,this.renderRate=1/90,this.renderTimer=0,console.log("chrome",B.isChrome),(B.isChrome||B.isFirefox||B.isSafari)&&!B.isMobile&&(this.renderRate=0),this.mainGame=new Se,this.mainGame.Init()}return Object(l.a)(e,[{key:"Init",value:function(){}},{key:"SetOpenModalCallback",value:function(e,t){this.openModal=e,this.isModalOpen=t}},{key:"GetRenderer",value:function(){return this.renderer.renderer}}]),e}()),Te=i(171),Re=i(175),ze=i(174),Le=i.p+"static/media/roadracerlogo.4602c4ee.png",Pe=i(3),Ce=function(e){var t=e.isOpen,i=e.closeModal,n={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),width:"auto",transform:"translate(-".concat(50,"%, -").concat(50,"%)")},image:{backgroundImage:"url("+Le+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"100%",minWidth:"80%",height:"30%",margin:"10px"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},o=Object(Te.a)((function(e){return{main:{position:"absolute",width:"600px",minWidth:"400px",height:"75%",backgroundColor:"rgb(40.9%, 38.5%, 52.3%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"rgb(29.9%, 28.2%, 37.8%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return Object(Pe.jsx)(Re.a,{open:t,onClose:i,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Pe.jsxs)("div",{style:n.modal,className:o.main,children:[Object(Pe.jsx)("div",{style:n.image}),Object(Pe.jsx)("div",{style:n.promoText,children:"Tilt to steer, swipe to jump over obstacles, buy cars to unlock Powerups and collect coins to upgrade them, collect gears for rewinds and see how far you can race!"}),Object(Pe.jsx)("div",{style:n.promoText,children:Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" Custom C++ engine on iOS "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Unity 3D on Android and Windows Phone "}),Object(Pe.jsx)("li",{style:n.contentText,children:" PHP and MYSQL backend to facilitate in game events and app usage insight "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Firebase integration "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Admob for interstitial ads and reward ads "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Game Center integration on iOS and Google Play Services integration on Android "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Push notification "}),Object(Pe.jsx)("li",{style:n.contentText,children:" In App Purchases (consumable and non-consumable) "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Procedurally generated levels "})]})}),Object(Pe.jsxs)("div",{style:{width:"100%"},children:[Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Apple App Store:"})," ",Object(Pe.jsx)("a",{href:"https://itunes.apple.com/us/app/road-racer/id575817068?mt=8",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Road Racer"})]}),Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Google Play Store:"}),"  ",Object(Pe.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.intoxic8studio.roadracer",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Road Racer 168"})]}),Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Website:"}),"  ",Object(Pe.jsx)("a",{href:"http://intoxic8studio.com/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Intoxic8 Studio LLC"})]})]}),Object(Pe.jsx)(ze.a,{style:n.closeButton,className:o.button,onClick:i,children:"Close"})]})})},Be=i.p+"static/media/mightychickenlogo.a983d681.png",De=function(e){var t=e.isOpen,i=e.closeModal,n={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),width:"auto"},image:{backgroundImage:"url("+Be+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"100%",height:"30%",margin:"10px"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},o=Object(Te.a)((function(e){return{main:{position:"absolute",width:"600px",height:"65%",backgroundColor:"rgb(100%, 54.9%, 0%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",minWidth:"400px"},button:{backgroundColor:"rgb(78.8%, 43.4%, 0.2%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return Object(Pe.jsx)(Re.a,{open:t,onClose:i,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Pe.jsxs)("div",{style:n.modal,className:o.main,children:[Object(Pe.jsx)("div",{style:n.image}),Object(Pe.jsx)("div",{style:n.promoText,children:"Dodge the mutant robo fish, killer bomb, spinning blades and poisonous arrow! Avoid getting sliced in half in the spear cave."}),Object(Pe.jsx)("div",{style:n.promoText,children:Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" Unity 3D on Android and iOS "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Firebase integration "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Admob and Unity Ads for interstitial ads and reward ads "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Game Center integration on iOS and Google Play Services integration on Android "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Push notification "}),Object(Pe.jsx)("li",{style:n.contentText,children:" In App Purchases "})]})}),Object(Pe.jsxs)("div",{style:{width:"100%"},children:[Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Apple App Store:"})," ",Object(Pe.jsx)("a",{href:"https://itunes.apple.com/us/app/mighty-chicken-and-friends/id1422459374?ls=1",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Mighty Chicken iOS"})]}),Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Google Play Store:"}),"  ",Object(Pe.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.intoxic8studio.mightychicken",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Mighty Chicken Android"})]}),Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Website:"}),"  ",Object(Pe.jsx)("a",{href:"http://www.themightychicken.com/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Mighty Chicken"})]})]}),Object(Pe.jsx)(ze.a,{style:n.closeButton,className:o.button,onClick:i,children:"Close"})]})})},Ae=i.p+"static/media/pawsnfind.7e3da002.png",Fe=function(e){var t=e.isOpen,i=e.closeModal,n={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),width:"auto"},image:{backgroundImage:"url("+Ae+")",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"30%",margin:"0px"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},o=Object(Te.a)((function(e){return{main:{position:"absolute",width:"600px",minWidth:"400px",height:"65%",backgroundColor:"#235775",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"#558a9d",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return Object(Pe.jsx)(Re.a,{open:t,onClose:i,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Pe.jsxs)("div",{style:n.modal,className:o.main,children:[Object(Pe.jsx)("div",{style:n.image}),Object(Pe.jsx)("div",{style:n.promoText,children:"Animal Rescue organizations have so much to manage, but their biggest concern is making sure pets go to a great home. Pawsnfind allows rescues to manage their operations while making it easier for adopters to find their perfect pet and connect with the rescue."}),Object(Pe.jsx)("div",{style:n.promoText,children:Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" React frontend with MaterialUI"}),Object(Pe.jsx)("li",{style:n.contentText,children:" Redux "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Serparate dashboard for animal rescues and adopters "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Express.js backend with a Postgres database "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Stripe integration for rescues to receive donations. "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Bank accounts can be verified with stripe directly from Pawsnfind's dashboard "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Image hosting (Uploading and retrieval of images) using PHP and MySQL "}),Object(Pe.jsx)("li",{style:n.contentText,children:" React frontend for image hosting for the creation of new accounts and api keys "})]})}),Object(Pe.jsxs)("div",{style:{width:"100%"},children:[Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Website:"}),"  ",Object(Pe.jsx)("a",{href:"https://pawsnfind.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"www.pawsnfind.com"})]}),Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Github:"})," ",Object(Pe.jsx)("a",{href:"https://github.com/Pawsnfind",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"https://github.com/Pawsnfind"})]})]}),Object(Pe.jsx)(ze.a,{style:n.closeButton,className:o.button,onClick:i,children:"Close"})]})})},Ie=i.p+"static/media/auctionbentologo.17ae8e46.png",Ve=function(e){var t=e.isOpen,i=e.closeModal,n={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),width:"auto"},image:{backgroundImage:"url("+Ie+")",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"30%",margin:"0px"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},o=Object(Te.a)((function(e){return{main:{position:"absolute",width:"600px",minWidth:"400px",height:"65%",backgroundColor:"#247d79",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"#558a9d",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return Object(Pe.jsx)(Re.a,{open:t,onClose:i,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Pe.jsxs)("div",{style:n.modal,className:o.main,children:[Object(Pe.jsx)("div",{style:n.image}),Object(Pe.jsxs)("div",{style:n.promoText,children:[Object(Pe.jsx)("p",{children:"Auction Bento - eBay Sellers Fee calculator for iPhone and iPad."}),Object(Pe.jsx)("div",{children:"eBay Sellers Fee calculator was an iOS app that allowed users to quickly "}),Object(Pe.jsx)("div",{children:" calculate profitablity by calculating eBay and paypal fees."})]}),Object(Pe.jsxs)("div",{style:n.promoText,children:[Object(Pe.jsx)("div",{children:"Mobile App"}),Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" - Objective C"}),Object(Pe.jsx)("li",{style:n.contentText,children:" - UIKit "})]}),Object(Pe.jsx)("div",{children:"Backend"}),Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" PHP backend with MySQL "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Serve in-house ads and affiliate ads "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Dashboard to manage ads made with HTML, Javascript and CSS"})]})]}),Object(Pe.jsx)(ze.a,{style:n.closeButton,className:o.button,onClick:i,children:"Close"})]})})},Ee=i.p+"static/media/skullvalleylogo.d04d4d7d.png",Ne=function(e){var t=e.isOpen,i=e.closeModal,n={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),width:"auto"},image:{backgroundImage:"url("+Ee+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"100%",height:"30%",margin:"10px"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},o=Object(Te.a)((function(e){return{main:{position:"absolute",width:"600px",height:"65%",backgroundColor:"#247d79",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",minWidth:"400px"},button:{backgroundColor:"#134c49",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return Object(Pe.jsx)(Re.a,{open:t,onClose:i,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Pe.jsxs)("div",{style:n.modal,className:o.main,children:[Object(Pe.jsx)("div",{style:n.image}),Object(Pe.jsx)("div",{style:n.promoText,children:"Skull Valley is an iOS and Android game currently in development.  Dodge obstacles and traps to escape a clumbsy death."}),Object(Pe.jsx)("div",{style:n.promoText,children:Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" Unity 3D on Android and iOS "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Firebase integration "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Admob and Unity Ads for interstitial ads and reward ads "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Game Center integration on iOS and Google Play Services integration on Android "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Sharable video replays encoded with ffmpeg on both Android and iOS "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Push notification "}),Object(Pe.jsx)("li",{style:n.contentText,children:" In App Purchases "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Procedurally generated levels "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Native plugins coded in C++ and Objective C on iOS "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Native plugins include, native gesture processing, image and video sharing, video encoding "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Timed reward events "})]})}),Object(Pe.jsx)("div",{style:{width:"100%"},children:Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Website:"}),"  ",Object(Pe.jsx)("a",{href:"http://www.skullvalleygame.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Skull Valley"})]})}),Object(Pe.jsx)(ze.a,{style:n.closeButton,className:o.button,onClick:i,children:"Close"})]})})},Ue=function(e){var t=e.isOpen,i=e.closeModal,n={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),width:"30vw"},promoText:{width:"100%",margin:"10px",color:"white"},contentText:{width:"100%",margin:"10px",color:"white"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white"},closeButton:{marginTop:"10px",color:"white"}},o=Object(Te.a)((function(e){return{main:{position:"absolute",width:"600px",height:"65%",backgroundColor:"#247d79",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",minWidth:"400px"},button:{backgroundColor:"#134c49",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return Object(Pe.jsx)(Re.a,{open:t,onClose:i,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Pe.jsxs)("div",{style:n.modal,className:o.main,children:[Object(Pe.jsxs)("div",{style:n.promoText,children:[Object(Pe.jsx)("div",{style:n.contentText,children:" Frontend "}),Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" React "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Three.js "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Ammo.js "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Gamepad Support "})]}),Object(Pe.jsx)("div",{style:n.contentText,children:" Backend"}),Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" Express "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Socket.io "})]}),Object(Pe.jsx)("div",{style:n.contentText,children:" Tools Used "}),Object(Pe.jsxs)("ul",{children:[Object(Pe.jsx)("li",{style:n.contentText,children:" Blender "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Gimp "}),Object(Pe.jsx)("li",{style:n.contentText,children:" Inkscape "})]})]}),Object(Pe.jsxs)("div",{style:{width:"100%"},children:[Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Github:"})," ",Object(Pe.jsx)("a",{href:"https://github.com/criffle629/portfolio",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"https://github.com/criffle629/portfolio"})]}),Object(Pe.jsxs)("div",{style:n.linkSection,children:[Object(Pe.jsx)("span",{style:n.linkText,children:"Portfolio:"}),"  ",Object(Pe.jsx)("a",{href:"http://www.chrisriffle.dev",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:"Portfolio"})]})]}),Object(Pe.jsx)(ze.a,{style:n.closeButton,className:o.button,onClick:i,children:"Close"})]})})},We=function(e){var t=e.isOpen,i=e.closeModal,n={modal:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100vw",height:"100vh"},title:{width:"100%",margin:"10px",color:"white",fontSize:"60px",textAlign:"center",position:"absolute"},buttonGroup:{display:"flex",flexDirection:"column",marginTop:"10px",color:"white",justifyContent:"center"},buttons:{marginTop:"10px",color:"white"}},o=Object(Te.a)((function(e){return{main:{position:"absolute",width:600,height:"75%",backgroundColor:"rgb(100%, 100%, 100%, 0%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"rgb(29.9%, 28.2%, 37.8%)",border:"0px solid #000",boxShadow:e.shadows[5],width:"25%",padding:e.spacing(2,4,3),outline:"none"}}}))();return Object(Pe.jsx)(Re.a,{open:t,onClose:i,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{style:n.title,children:"Road Racer League"}),Object(Pe.jsx)("div",{style:n.modal,className:o.main,children:Object(Pe.jsxs)("div",{style:n.buttonGroup,children:[Object(Pe.jsx)(ze.a,{style:n.buttons,className:o.button,onClick:function(){i()},children:"Practice"}),Object(Pe.jsx)(ze.a,{style:n.buttons,className:o.button,onClick:function(){},children:"Multiplayer"})]})})]})})},_e=function(e){var t=e.isOpen,i=e.closeModal,n={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),width:"auto",transform:"translate(-".concat(50,"%, -").concat(50,"%)")},title:{width:"100%",margin:"10px",color:"white"},buttons:{marginTop:"10px",color:"white"}},o=Object(Te.a)((function(e){return{main:{position:"absolute",width:600,height:"75%",backgroundColor:"rgb(40.9%, 38.5%, 52.3%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"rgb(29.9%, 28.2%, 37.8%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return Object(Pe.jsx)(Re.a,{open:t,onClose:i,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(Pe.jsxs)("div",{style:n.modal,className:o.main,children:[Object(Pe.jsx)("div",{style:n.title,children:"Road Racer League"}),Object(Pe.jsx)(ze.a,{style:n.buttons,className:o.button,onClick:i,children:"Close"})]})})},Ge=i(25),He=i(44),Ke=i(45),qe=i(26),Qe=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this)).setStatus=function(e){n.animCount=0,n.setState({popup:e})},n.onAnimationEnd=function(){n.animCount++,n.animCount>=2&&(n.animCount=0,n.setState({popup:"none"}))},n.state={popup:"none"},n.animCount=0,$.statusCallback=n.setStatus,n}return Object(l.a)(i,[{key:"render",value:function(){var e=!1;"connected"!==this.state.popup&&"disconnected"!==this.state.popup||(e=!0);return Object(Pe.jsx)("div",{style:{position:"fixed",width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden",zIndex:1},children:e?this.renderComponent():null})}},{key:"renderComponent",value:function(){var e=Object(qe.b)(be||(be=Object(Ge.a)(["\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top:150%; }\n            to  { top: 80%; }       \n            \n        "]))),t=Object(qe.b)(fe||(fe=Object(Ge.a)(["\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top: 80%; }\n            to { top: 80%; } \n        "]))),i=Object(qe.b)(me||(me=Object(Ge.a)(["\n            from { left: 50%; }\n            to { left: 50%; }\n            from { top: 80%; }\n            to { top: 150%; }\n        "]))),n=qe.a.span(we||(we=Object(Ge.a)(["\n            background-color: white;\n            border-radius: 25px;\n            border: 3px solid black;\n            padding: 10px;\n            position: relative;\n            height: 130px;\n            width: 250px;\n             \n            translateZ(0);\n            z-index: 150;\n            backface-visibility: hidden;\n            perspective: 1000;\n            animation:  "," 0.5s, "," 2s,  "," 0.5s;\n            animation-delay: 0s, 0.5s, 2s;\n            animation-timing-function: ease-out, linear, ease-in;\n        "])),e,t,i);return Object(Pe.jsxs)(n,{onAnimationEnd:this.onAnimationEnd,children:[Object(Pe.jsx)(He.a,{color:"##495057",size:"lg",icon:Ke.c})," Gamepad ",this.state.popup]})}}]),i}(o.a.Component),Ye=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this)).onDragStart=function(e){n.mouseDown=!0},n.onDrag=function(e){if(n.mouseDown){var t={x:e.touches[0].clientX,y:window.innerHeight-e.touches[0].clientY},i={x:window.innerHeight-150,y:85},o=n.distance(t,i),s=f.clamp((t.x-i.x)/75,-1,1),a=-1*f.clamp((t.y-i.y)/75,-1,1);$.touchAxis=new Y(s,a),o<=75&&n.stickRef&&(n.stickRef.current.style.cssText="top:".concat(window.innerHeight-150+s,"; left: ").concat(85+a,"; width: '100px'; height: '100px'; position: 'absolute'; zIndex:5;"))}},n.onDragEnd=function(e){n.stickRef&&n.stickRef.current&&n.stickRef.current.style&&n.mouseDown&&(n.stickRef.current.style.cssText="top:".concat(window.innerHeight-150,"; left: ",85,"; width: '100px'; height: '100px'; position: 'absolute'; zIndex:5;")),n.mouseDown=!1,$.touchAxis=new Y(0,0)},n.onButtonPress=function(e,t){u.addKey(t)},n.onButtonUp=function(e,t){u.removeKey(t)},n.joystickCoord={x:100,y:85},n.mouseDown=!1,n.stickRef=o.a.createRef(),document.addEventListener("touchmove",n.onDrag,!0),document.addEventListener("touchend",n.onDragEnd,!0),document.addEventListener("touchcancel",n.onDragEnd,!0),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.strickRef&&(this.stickRef.beginPath(),this.stickRef.arc(0,0,40,0,2*Math.PI),this.stickRef.lineWidth=3,this.stickRef.translate(.5,.5),this.stickRef.stroke())}},{key:"distance",value:function(e,t){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}},{key:"render",value:function(){var e=this;return Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{style:{top:window.innerHeight-150,left:85,width:"100px",height:"100px",position:"absolute",zIndex:5},ref:this.stickRef,onTouchStart:this.onDragStart,onTouchEnd:this.onDragEnd,children:Object(Pe.jsx)("canvas",{ref:function(t){e.canvasRef=t.getContext("2d"),e.canvasRef.beginPath(),e.canvasRef.arc(50,50,30,0,2*Math.PI),e.canvasRef.lineWidth=3,e.canvasRef.strokeStyle="rgb(17.6%, 43.9%, 59.2%, 50%)",e.canvasRef.stroke()},width:"100px",height:"100px"})}),Object(Pe.jsx)("canvas",{style:{top:window.innerHeight-150,left:85,width:"100px",height:"100px",position:"absolute"},ref:function(e){var t=e.getContext("2d");t.beginPath(),t.arc(50,50,40,0,2*Math.PI),t.lineWidth=3,t.strokeStyle="rgb(17.6%, 43.9%, 59.2%, 50%)",t.stroke()},width:"100px",height:"100px",onTouchStart:this.onDragStart,onTouchEnd:this.onDragEnd}),Object(Pe.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(Pe.jsx)(He.a,{color:"#495057",size:"5x",icon:Ke.b,style:{position:"fixed",userSelect:"none",bottom:window.innerHeight-(window.innerHeight-150),right:window.innerWidth-(window.innerWidth-75)},onTouchStart:function(t){e.onButtonPress(t,"w")},onTouchEnd:function(t){e.onButtonUp(t,"w")}}),Object(Pe.jsx)(He.a,{color:"#495057",size:"5x",icon:Ke.a,style:{position:"fixed",userSelect:"none",bottom:window.innerHeight-(window.innerHeight-75),right:window.innerWidth-(window.innerWidth-75)},onTouchStart:function(t){e.onButtonPress(t,"s")},onTouchEnd:function(t){e.onButtonUp(t,"s")}}),Object(Pe.jsx)("div",{style:{display:"flex",borderStyle:"solid black",borderWidth:"3px",borderRadius:"10px",userSelect:"none",position:"fixed",width:"70px",height:"70px",fontSize:"32px",backgroundColor:"#495057",color:"white",outline:"none",textAlign:"center",justifyContent:"center",alignItems:"center",bottom:window.innerHeight-(window.innerHeight-80),right:window.innerWidth-(window.innerWidth-150)},onTouchStart:function(t){e.onButtonPress(t,"e")},onTouchEnd:function(t){e.onButtonUp(t,"e")},children:"E"}),Object(Pe.jsx)("div",{style:{display:"flex",borderStyle:"solid black",borderWidth:"3px",borderRadius:"10px",userSelect:"none",position:"fixed",width:"70px",height:"70px",fontSize:"32px",backgroundColor:"#495057",color:"white",outline:"none",textAlign:"center",justifyContent:"center",alignItems:"center",bottom:window.innerHeight-(window.innerHeight-155),right:window.innerWidth-(window.innerWidth-150)},onTouchStart:function(t){e.onButtonPress(t,"r")},onTouchEnd:function(t){e.onButtonUp(t,"r")},children:"R"})]})]})}}]),i}(o.a.Component),Je=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this)).gamepadConnected=function(){n.setState({gamepadConnected:!0})},n.closeModal=function(){n.setState({currentModal:"none"})},n.openModal=function(e){n.setState({currentModal:e})},n.isModalOpen=function(){return"none"!==n.state.currentModal},n.canvas=null,n.isLoaded=!1,n.state={},$.connectedCallback=n.gamepadConnected,window.addEventListener("resize",n.ScreenResize),n}return Object(l.a)(i,[{key:"ScreenResize",value:function(){y.setScreenSize(document.body.clientWidth,document.body.clientHeight),N.Configure(60,y.aspectRatio,.1,1e3),Me.GetRenderer().setSize(y.screenWidth,y.screenHeight)}},{key:"gamepadConnected",value:function(e){console.log(e)}},{key:"gamepadeDisconnected",value:function(e){console.log(e)}},{key:"renderTouchControl",value:function(){if(B.isMobile)return Object(Pe.jsx)(Ye,{})}},{key:"render",value:function(){return Object(Pe.jsxs)("div",{style:{position:"absolute",width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden",zIndex:1},children:[this.renderTouchControl(),Object(Pe.jsx)(Qe,{}),Object(Pe.jsx)("div",{style:{position:"relative",width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden",zIndex:1}})]})}}]),i}(o.a.Component),Xe=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this)).Load=function(){n.isLoaded||(n.isLoaded=!0,y.setScreenSize(document.body.clientWidth,document.body.clientHeight),N.Configure(60,y.aspectRatio,1,500),Me.InitRenderer(n.canvas,y.screenWidth,y.screenHeight),n.canvas.focus())},n.clearInput=function(){u.clearKeys()},n.closeModal=function(){n.setState({currentModal:"none"})},n.openModal=function(e){n.setState({currentModal:e})},n.isModalOpen=function(){return"none"!==n.state.currentModal},n.canvas=null,n.isLoaded=!1,n.state={currentModal:"none"},document.addEventListener("keydown",n.HandleKeyPress),document.addEventListener("keyup",n.HandleKeyUp),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){Me.SetOpenModalCallback(this.openModal,this.isModalOpen),Me.Init()}},{key:"gamepadConnected",value:function(e){console.log(e)}},{key:"gamepadeDisconnected",value:function(e){console.log(e)}},{key:"HandleKeyPress",value:function(e){e.preventDefault(),e.stopPropagation(),u.addKey(e.key)}},{key:"HandleKeyUp",value:function(e){e.preventDefault(),e.stopPropagation(),u.removeKey(e.key)}},{key:"render",value:function(){var e=this;return Object(Pe.jsxs)("div",{style:{width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden"},children:[Object(Pe.jsx)(Je,{}),Object(Pe.jsx)("canvas",{id:"game",style:{outline:"none",display:"block",width:"100vw",height:"100vh",position:"fixed",zIndex:-1},tabIndex:"0",ref:function(t){e.canvas=t,e.Load()},onBlur:this.clearInput}),Object(Pe.jsx)(Ce,{isOpen:"roadracer"===this.state.currentModal,closeModal:this.closeModal}),Object(Pe.jsx)(De,{isOpen:"mightychicken"===this.state.currentModal,closeModal:this.closeModal}),Object(Pe.jsx)(Fe,{isOpen:"pawsnfind"===this.state.currentModal,closeModal:this.closeModal}),Object(Pe.jsx)(Ve,{isOpen:"auctionbento"===this.state.currentModal,closeModal:this.closeModal}),Object(Pe.jsx)(Ne,{isOpen:"skullvalley"===this.state.currentModal,closeModal:this.closeModal}),Object(Pe.jsx)(Ue,{isOpen:"portfolio"===this.state.currentModal,closeModal:this.closeModal}),Object(Pe.jsx)(_e,{isOpen:"stadiumui"===this.state.currentModal,closeModal:this.closeModal,openModel:this.openModal}),Object(Pe.jsx)(We,{isOpen:"stadiummenu"===this.state.currentModal,closeModal:this.closeModal,openModel:this.openModal})]})}}]),i}(o.a.Component),Ze=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(r.a)(this,i),(n=t.call(this)).loading=function(){if(y.isLoaded()&&(n.setState({loaded:!0}),clearInterval(n.loadingInterval)),n.timer+=T.deltaTime,n.timer>=.5){n.timer=0;var e=n.state.loadingCounter;e=(e+1)%4,n.setState({loadingCounter:e})}y.isLoaded()||window.requestAnimationFrame(n.loading)},n.playSound=function(){ce.PlaySoundsMuted()},n.onAnimationEnd=function(e){e.stopPropagation(),n.setState({finished:!0})},n.enterClicked=function(e){e.stopPropagation(),n.enterWasClicked||(n.enterWasClicked=!0,n.playSound(),n.setState({fade:!0}))},n.state={loadingCounter:0,loaded:!1,finished:!1,fade:!1},n.enterWasClicked=!1,n.timer=0,n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){window.requestAnimationFrame(this.loading)}},{key:"renderLoading",value:function(){return Object(Pe.jsx)("div",{style:{background:"white",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:Object(Pe.jsxs)("div",{style:{background:"white",width:"300px",height:"100px",position:"absolute",top:0,left:0,bottom:0,right:0,margin:"auto",fontSize:"4em",overflow:"hidden"},children:["loading ",".".repeat(this.state.loadingCounter)]})})}},{key:"renderFade",value:function(){var e=Object(qe.b)(ve||(ve=Object(Ge.a)(["\n            from { opacity: 1; }\n            to { opacity: 0; }    \n        "]))),t=qe.a.div(xe||(xe=Object(Ge.a)(["\n        background: white;\n        position:absolute;\n        top:0;\n        left:0;\n        width: 100%;\n        height: 100%;\n        translateZ(0);\n        z-index: 150;\n        backface-visibility: hidden;\n        perspective: 1000;\n        animation:  "," 0.5s;\n        animation-timing-function: linear;\n    "])),this.state.fade?e:null),i=qe.a.button(ke||(ke=Object(Ge.a)(["\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n            margin: auto;\n            height: 100px;\n            width: 180px;\n            font-size: 48px;\n            background-color: white;\n            border: 2px solid black;\n            border-radius: 20px;\n            outline: none;\n        "])));return Object(Pe.jsx)(t,{onAnimationEnd:this.onAnimationEnd,children:Object(Pe.jsx)(i,{onClick:this.enterClicked,children:" Enter "})})}},{key:"render",value:function(){return this.state.loaded?this.state.finished?null:this.renderFade():this.renderLoading()}}]),i}(o.a.Component),$e=function(e){Object(c.a)(i,e);var t=Object(h.a)(i);function i(){return Object(r.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(Xe,{}),Object(Pe.jsx)(Ze,{style:{position:"absolute",zIndex:1}})]})}}]),i}(o.a.Component),et=$e;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(Pe.jsx)(o.a.StrictMode,{children:Object(Pe.jsx)(et,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,i){},97:function(e,t,i){}},[[154,1,2]]]);
//# sourceMappingURL=main.96b896ca.chunk.js.map