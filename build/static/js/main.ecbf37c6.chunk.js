(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{43:function(e,t,n){e.exports=n.p+"static/media/roadracerlogo.bc79bb73.png"},45:function(e,t,n){e.exports=n.p+"static/media/mightychickenlogo.58923630.png"},53:function(e,t,n){e.exports=n(82)},58:function(e,t,n){},59:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),a=n(11),s=n.n(a),r=(n(58),n(3)),l=n(5),h=n(9),c=n(8),d=(n(59),new(function(){function e(){Object(r.a)(this,e),this.keyDown=new Map,this.keyPressed=new Map}return Object(l.a)(e,[{key:"addKey",value:function(e){this.keyDown.set(e.toLowerCase(),1),2!==this.keyPressed.get(e.toLowerCase())&&this.keyPressed.set(e.toLowerCase(),1)}},{key:"removeKey",value:function(e){this.keyDown.delete(e.toLowerCase()),this.keyPressed.delete(e.toLowerCase())}},{key:"isKeyDown",value:function(e){return this.keyDown.has(e.toLowerCase())}},{key:"isKeyPressed",value:function(e){return!(!this.keyPressed.has(e.toLowerCase())||1!==this.keyPressed.get(e.toLowerCase()))&&(this.keyPressed.set(e.toLowerCase(),2),!0)}},{key:"clearKeys",value:function(){this.keyDown.clear(),this.keyPressed.clear()}}]),e}())),u=n(17),y=n.n(u),g=n(20),f=n(35),p=n(19),m=n(0),v=function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,null,[{key:"approximate",value:function(e,t){return e>t-Number.EPSILON&&e<t+Number.EPSILON}},{key:"clamp",value:function(e,t,n){var i=t,o=n;return t>n&&(i=n,o=t),e<i?i:e>o?o:e}},{key:"moveTowards",value:function(e,t,n){return Math.abs(e-t)<=n?e:e+(t-e)*n}},{key:"rad2Deg",get:function(){return 180/Math.PI}},{key:"deg2Rad",get:function(){return Math.PI/180}}]),e}(),w=n(4),b=n.n(w),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(r.a)(this,e),this.x=t,this.y=n,this.z=i}return Object(l.a)(e,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"magnitude",value:function(){return this.length()}},{key:"normalize",value:function(){var e=this.magnitude();if(v.approximate(e,0))return this.x=0,this.y=0,void(this.z=0);this.x/=e,this.y/=e,this.z/=e}},{key:"negate",value:function(){this.x*=-1,this.y*=-1,this.z*=-1}},{key:"to3jsV3",value:function(){return new m.Cb(this.x,this.y,this.z)}},{key:"to_btVector3",value:function(){return new b.a.btVector3(this.x,this.y,this.z)}},{key:"toString",value:function(){return"( x: "+this.x+"  y: "+this.y+"  z: "+this.z+" )"}}],[{key:"Add",value:function(t,n){var i=new e(0,0,0);return i.x=t.x+n.x,i.y=t.y+n.y,i.z=t.z+n.z,i}},{key:"Subtract",value:function(t,n){var i=new e(0,0,0);return i.x=t.x-n.x,i.y=t.y-n.y,i.z=t.z-n.z,i}},{key:"Multiply",value:function(t,n){var i=new e(0,0,0);return i.x=t.x*n.x,i.y=t.y*n.y,i.z=t.z*n.z,i}},{key:"AddScalar",value:function(t,n){var i=new e(0,0,0);return i.x=t.x+n,i.y=t.y+n,i.z=t.z+n,i}},{key:"SubtractScalar",value:function(t,n){var i=new e(0,0,0);return i.x=t.x-n,i.y=t.y-n,i.z=t.z-n,i}},{key:"MultiplyScalar",value:function(t,n){var i=new e(0,0,0);return i.x=t.x*n,i.y=t.y*n,i.z=t.z*n,i}},{key:"Cross",value:function(t,n){var i=new e(0,0,0);return i.x=t.y*n.z-t.z*n.y,i.y=t.z*n.x-t.x*n.z,i.z=t.x*n.y-t.y*n.x,i}},{key:"Distance",value:function(t,n){var i=e.Subtract(n,t);return Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z)}},{key:"Dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"Normalize",value:function(e){return e.normalize(),e}},{key:"Equals",value:function(e,t){return e.x>t.x-Number.EPSILON&&e.x<t.x+Number.EPSILON&&e.y>t.y-Number.EPSILON&&e.y<t.y+Number.EPSILON&&e.z>t.z-Number.EPSILON&&e.z<t.z+Number.EPSILON}},{key:"Angle",value:function(t,n){var i=e.Cross(t,n),o=Math.atan2(i.length(),e.Dot(t,n));return e.Dot(i,e.up)<0?-o:o}},{key:"Negate",value:function(e){var t=e;return t.x*=-1,t.y*=-1,t.z*=-1,t}},{key:"toBTV3",value:function(e){return new b.a.btVector3(e.x,e.y,e.z)}},{key:"toJSV3",value:function(e){return new m.Cb(e.x,e.y,e.z)}},{key:"zero",get:function(){return new e(0,0,0)}},{key:"one",get:function(){return new e(1,1,1)}},{key:"up",get:function(){return new e(0,1,0)}},{key:"down",get:function(){return new e(0,-1,0)}},{key:"forward",get:function(){return new e(0,0,-1)}},{key:"back",get:function(){return new e(0,0,1)}},{key:"left",get:function(){return new e(-1,0,0)}},{key:"right",get:function(){return new e(1,0,0)}}]),e}(),S=function(){function e(){Object(r.a)(this,e),this.scene=new m.pb,this.enabledObjects={},this.disabledObjects={},this.screenWidth=1024,this.screenHeight=600,this.aspectRatio=1024/600}return Object(l.a)(e,[{key:"add",value:function(e){this.scene.add(e)}},{key:"addGameObject",value:function(e){e.objID in this.disabledObjects?this.enableObject(e):e.objID in this.enableObject||(this.enabledObjects[e.objID]=e)}},{key:"getScene",value:function(){return this.scene}},{key:"enableObject",value:function(e){e.objID in this.disabledObjects&&(this.enabledObjects[e.objID]=e,delete this.disabledObjects[e.objID])}},{key:"disableObject",value:function(e){e.objID in this.enableObjects&&(this.disabledObjects[e.objID]=e,delete this.enabledObjects[e.objID])}},{key:"update",value:function(){for(var e in this.enabledObjects)this.enabledObjects[e].update();for(var t in this.enabledObjects)this.enabledObjects[t].lateUpdate();for(var n in this.enabledObjects)this.enabledObjects[n].render()}},{key:"setScreenSize",value:function(e,t){this.screenWidth=e,this.screenHeight=t,this.aspectRatio=e/t}},{key:"setLinearFog",value:function(e,t,n){this.scene.fog=new m.s(e,t,n)}},{key:"setExpoFog",value:function(e,t){this.scene.fog=new m.t(e,t)}}]),e}();S.FOG_TYPE={LINEAR:0,EXPONENTIAL:1};var x=new S,M=new(function(){function e(){Object(r.a)(this,e),this.clock=new m.m(!0),this.deltaTime=0}return Object(l.a)(e,[{key:"Update",value:function(){this.deltaTime=this.clock.getDelta()}},{key:"DeltaTime",value:function(){return this.deltaTime}}]),e}()),O=function(){function e(){Object(r.a)(this,e),this.collisionConfig=new b.a.btDefaultCollisionConfiguration,this.dispatcher=new b.a.btCollisionDispatcher(this.collisionConfig),this.broadphase=new b.a.btDbvtBroadphase,this.solver=new b.a.btSequentialImpulseConstraintSolver,this.world=new b.a.btDiscreteDynamicsWorld(this.dispatcher,this.broadphase,this.solver,this.collisionConfig),this.world.setGravity(new b.a.btVector3(0,-9.8,0)),this.rigidBodies=[]}return Object(l.a)(e,[{key:"setGravity",value:function(e){this.world.setGravity(new b.a.btVector3(e.x,e.y,e.z))}},{key:"addRigidBody",value:function(e){if(null!==e)return this.world.addRigidBody(e),this.rigidBodies.push(e),this.rigidBodies[this.rigidBodies.length-1]}},{key:"createSphereShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new b.a.btSphereShape(e);return t.setMargin(.05),t}},{key:"createBoxShape",value:function(e){var t=new b.a.btBoxShape(new b.a.btVector3(.5*e.x,.5*e.y,.5*e.z));return t.setMargin(.05),t}},{key:"createPlaneShape",value:function(e){return new b.a.btStaticPlaneShape(new b.a.btVector3(e.x,e.y,e.z),1e-4)}},{key:"createCapsuleShape",value:function(e,t,n){var i=new b.a.btCapsuleShape(e,t,new b.a.btVector3(n.x,n.y,n.z));return i.setMargin(.05),i}},{key:"createCylinderShape",value:function(e,t,n){var i=new b.a.btCylinderShape(e,t,new b.a.btVector3(n.x,n.y,n.z));return i.setMargin(.05),i}},{key:"createConeShape",value:function(e,t,n){var i=new b.a.btConeShape(e,t,new b.a.btVector3(n.x,n.y,n.z));return i.setMargin(.05),i}},{key:"createMeshShape",value:function(e){return new Promise((function(t,n){var i=[],o=[];e.children.forEach((function(e){if(e.hasOwnProperty("children")&&e.children.length>0)e.children.forEach((function(e){if(e.hasOwnProperty("geometry")){for(var t=e.geometry.index.array,n=e.geometry.attributes.position.array,a=0;a<t.length;a+=3)o.push(t[a]);for(var s=0;s<n.length;s+=3)i.push(new b.a.btVector3(n[s],n[s+1],n[s+2]))}}));else if(e.hasOwnProperty("geometry")){o=e.geometry.index.array;for(var t=e.geometry.attributes.position.array,n=0;n<t.length;n+=3)i.push(new b.a.btVector3(t[n],t[n+1],t[n+2]))}}));for(var a=new b.a.btTriangleMesh,s=0;s<o.length;s+=3)a.addTriangle(i[o[s]],i[o[s+1]],i[o[s+2]]);t(new b.a.btBvhTriangleMeshShape(a,!0))}))}},{key:"update",value:function(){this.world.stepSimulation(M.deltaTime,30,1/60)}}]),e}();O.PhysicShapes={SPHERE:0,BOX:1,PLANE:2,CAPSULE:3,CYLINDER:4,CONE:5};var R=new O,z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(r.a)(this,e),this.x=t,this.y=n,this.z=i,this.w=o}return Object(l.a)(e,[{key:"Normalize",value:function(){var e=1/this.Length();this.x*=e,this.y*=e,this.z*=e,this.w*=e}},{key:"Inverse",value:function(){return new e(this.x,this.y,this.z,-this.w)}},{key:"Negate",value:function(){return new e(-this.x,-this.y,-this.z,this.w)}},{key:"Euler",value:function(){var e=new k;return e.y=Math.atan2(2*this.w*this.y+2*this.z*this.x,1-2*(this.x*this.x+this.y*this.y))*v.rad2Deg,e.x=Math.asin(2*(this.w*this.x-this.y*this.z))*v.rad2Deg,e.z=Math.atan2(2*this.w*this.z+2*this.x*this.y,1-2*(this.z*this.z+this.x*this.x))*v.rad2Deg,e}},{key:"Length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"LengthSquared",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}}],[{key:"LookAt",value:function(t,n,i){var o=k.Normalize(k.Subtract(n,t)),a=k.Dot(k.forward,o);if(Math.abs(a- -1)<1e-6)return new e(k.up.x,k.up.y,k.up.z,Math.PI);if(Math.abs(a-1)<1e-6)return e.Identity();var s=Math.acos(a),r=k.Cross(o,i);return r=k.Normalize(r),e.CreateFromAxisAngle(r,s)}},{key:"LookRotation",value:function(t,n){var i=k.Normalize(t),o=k.Normalize(i),a=k.Normalize(k.Cross(n,o)),s=k.Cross(o,a),r=a.x,l=a.y,h=a.z,c=s.x,d=s.y,u=s.z,y=o.x,g=o.y,f=o.z,p=r+d+f,m=new e;if(p>0){var v=Math.sqrt(p+1);return m.w=.5*v,v=.5/v,m.x=(u-g)*v,m.y=(y-h)*v,m.z=(l-c)*v,m}if(r>=d&&r>=f){var w=Math.sqrt(1+r-d-f),b=.5/w;return m.x=.5*w,m.y=(l+c)*b,m.z=(h+y)*b,m.w=(u-g)*b,m}if(d>f){var S=Math.sqrt(1+d-r-f),x=.5/S;return m.x=(c+l)*x,m.y=.5*S,m.z=(g+u)*x,m.w=(y-h)*x,m}var M=Math.sqrt(1+f-r-d),O=.5/M;return m.x=(y+h)*O,m.y=(g+u)*O,m.z=.5*M,m.w=(l-c)*O,m}},{key:"RotatePointAroundPivot",value:function(t,n,i){return e.LookRotation(k.Subtract(t,n),k.up)*t}},{key:"RotateAround",value:function(t,n){var i=t-n;return(i=e.LookRotation(i,k.up)*i)+n}},{key:"CreateFromAxisAngle",value:function(t,n){var i=.5*n,o=Math.sin(i),a=new e;return a.x=t.x*o,a.y=t.y*o,a.z=t.z*o,a.w=Math.cos(i),a}},{key:"FromEuler",value:function(t,n,i){var o=n*v.deg2Rad,a=t*v.deg2Rad,s=.5*(i*v.deg2Rad),r=Math.sin(s),l=Math.cos(s),h=.5*a,c=Math.sin(h),d=Math.cos(h),u=.5*o,y=Math.sin(u),g=Math.cos(u),f=new e;return f.w=g*d*l+y*c*r,f.x=g*c*l+y*d*r,f.y=y*d*l-g*c*r,f.z=g*d*r-y*c*l,f}},{key:"Dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}},{key:"Slerp",value:function(t,n,i){return e.SlerpUnclamped(t,n,i)}},{key:"Normalize",value:function(e){var t=e,n=1/t.Length();return t.x*=n,t.y*=n,t.z*=n,t.w*=n,t}},{key:"Identity",value:function(){return new e(0,0,0,1)}}]),e}(),T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new k(0,0,0),n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Identity(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(r.a)(this,e),this.isKinematic=!1,this.active=!0,this.mass=o,this.transform=new b.a.btTransform,this.transform.setIdentity(),this.transform.setOrigin(t.to_btVector3()),this.transform.setRotation(new b.a.btQuaternion(i.x,i.y,i.z,i.w)),this.motionState=new b.a.btDefaultMotionState(this.transform);var a=new k(0,0,0);o>0&&n.calculateLocalInertia(this.mass,a.to_btVector3());var s=new b.a.btRigidBodyConstructionInfo(this.mass,this.motionState,n,a.to_btVector3());this.body=new b.a.btRigidBody(s),this.body.setFriction(1),this.body.setActivationState(4),this.SetKinematic(0===o),R.addRigidBody(this.body)}return Object(l.a)(e,[{key:"setMass",value:function(e){this.mass=e,this.body.setMassProps(e,this.body.getLocalInertia())}},{key:"SetKinematic",value:function(e){this.isKinematic=e,e?(this.body.setMassProps(0,new b.a.btVector3(0,0,0)),this.body.setCollisionFlags(2),this.body.setActivationState(4)):(this.body.setMassProps(this.mass,new b.a.btVector3(0,0,0)),this.body.setCollisionFlags(0),this.body.setActivationState(1))}},{key:"AddForce",value:function(e){this.body.applyCentralForce(e.To_btVector3())}},{key:"AddForceAt",value:function(e,t){this.body.applyForce(e.To_btVector3(),t.To_btVector3())}},{key:"SetLinearFactor",value:function(e){this.body.setLinearFactor(e.To_btVector3())}},{key:"SetSleepingThreshold",value:function(e,t){this.body.setSleepingThresholds(e,t)}},{key:"ApplyTorque",value:function(e){this.body.applyTorque(e.To_btVector3())}},{key:"ApplyCentralImpulse",value:function(e){this.body.applyCentralImpulse(e.To_btVector3())}},{key:"ApplyTorqueImpulse",value:function(e){this.body.applyTorqueImpulse(e.To_btVector3())}},{key:"ApplyImpulse",value:function(e){this.body.applyImpulse(e.To_btVector3(),this.body.getCenterOfMassPosition())}},{key:"ApplyImpulseAt",value:function(e,t){this.body.applyImpulse(e.To_btVector3(),t.To_btVector3())}},{key:"ClearForces",value:function(){this.body.clearForces()}},{key:"GetOrentation",value:function(){var e=this.body.getOrientation();return new z(e.x(),e.y(),e.z(),e.w())}},{key:"GetLinearVelocity",value:function(){var e=this.body.getLinearVelocity();return new k(e.x(),e.y(),e.z())}},{key:"GetAngularVelocity",value:function(){var e=this.body.getAngularVelocity();return new k(e.x(),e.y(),e.z())}},{key:"SetLinearVelocity",value:function(e){this.bodysetLinearVelocity(e.To_btVector3())}},{key:"setAngularVelocity",value:function(e){this.body.setAngularVelocity(e.To_btVector3())}},{key:"translate",value:function(e){this.body.translate(e.To_btVector3())}},{key:"setPosition",value:function(e){this.body.getWorldTransform().setOrigin(k.toBTV3(e))}},{key:"Move",value:function(e){this.body.translate(e.To_btVector3())}},{key:"setRotation",value:function(e){var t=new b.a.btQuaternion(e.x,e.y,e.z,e.w);this.body.getWorldTransform().setRotation(t),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}},{key:"setQuaternion",value:function(e){this.body.getWorldTransform().setRotation(e),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}},{key:"WantsSleep",value:function(){return this.body.wantsSleeping()}},{key:"GetMotionState",value:function(){return this.body.getMotionState()}},{key:"SetMotionState",value:function(e){this.body.setMotionState(e)}},{key:"SetAngularFactor",value:function(e){this.body.setAngularFactor(e.To_btVector3())}},{key:"GetAngularFactor",value:function(){var e=this.body.getAngularFactor();return new k(e.x(),e.y(),e.z())}},{key:"IsInWorld",value:function(){return this.body.isInWorld()}},{key:"AddContraint",value:function(e){this.addConstraintRef(e)}},{key:"RemoveContraint",value:function(e){this.removeConstraintRef(e)}},{key:"SetFlags",value:function(e){this.setFlags(e)}},{key:"GetFlags",value:function(){return this.getFlags()}},{key:"GetLocalInertia",value:function(){var e=this.body.getLocalInertia();return new k(e.x(),e.y(),e.z())}},{key:"IsActive",value:function(){return this.active}},{key:"GetCollisionShape",value:function(){return this.body.getCollisionShape()}},{key:"SetCollisionShape",value:function(e){this.body.setCollisionShape(e),this.body.setRollingFriction(.3)}},{key:"GetCollisionFlags",value:function(){return this.body.getCollisionFlags()}},{key:"SetCollisionFlags",value:function(e){this.body.setCollisionFlags(e)}},{key:"GetPosition",value:function(){var e=this.body.getWorldTransform().getOrigin();return new k(e.x(),e.y(),e.z())}},{key:"GetRotation",value:function(){var e=this.body.getWorldTransform().getRotation();return new z(e.x(),e.y(),e.z(),e.w())}},{key:"SetActivationState",value:function(e){this.body.setActivationState(e)}},{key:"SetBounciness",value:function(e){this.body.setRestitution(e)}},{key:"IsKinematic",value:function(){return this.isKinematic}},{key:"SetFriction",value:function(e){this.body.setFriction(e)}}]),e}(),L=n(30),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(r.a)(this,e),this.mixer=null,this.action=null,this.meshData=null,this.mesh=null,this.scene=null,this.castShadow=n,this.receiveShadow=i,this.flatShading=o,null!==t&&this.LoadMesh(t)}return Object(l.a)(e,[{key:"setShadows",value:function(){var e=this;this.scene.traverse((function(t){t.isMesh&&(t.castShadow=e.castShadow,t.receiveShadow=e.receiveShadow)}))}},{key:"castShadow",value:function(e){this.castShadow=e}},{key:"receiveShadow",value:function(e){this.receiveShadow=e}},{key:"LoadMesh",value:function(e){var t=this;return new Promise((function(n,i){(new L.a).load(e,(function(e){e.scene.traverse((function(e){e.isMesh&&(e.castShadow=t.castShadow,e.receiveShadow=t.receiveShadow,t.flatShading&&(e.material.flatShading=t.flatShading))})),t.scene=e.scene,t.meshData=e.scene.children,t.mesh=e.scene,t.mesh.doubleSided=!1,x.add(e.scene),n(t)}),void 0,(function(e){console.error(e),i("error")}))}))}}]),e}(),B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(r.a)(this,e),this.mixer=null,this.action=null,this.meshData=null,this.mesh=null,this.anim=null,this.scene=null,this.currentAnimation="",this.castShadow=n,this.receiveShadow=i,this.LoadMesh(t,o)}return Object(l.a)(e,[{key:"setShadows",value:function(){var e=this;this.scene.traverse((function(t){t.isMesh&&(t.castShadow=e.castShadow,t.receiveShadow=e.receiveShadow)}))}},{key:"castShadow",value:function(e){this.castShadow=e,ne.AddCallback(this.setShadows(e))}},{key:"receiveShadow",value:function(e){this.receiveShadow=e,ne.AddCallback(this.setShadows(e))}},{key:"LoadMesh",value:function(){var e=Object(g.a)(y.a.mark((function e(t){var n,i,o=this,a=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],i=new L.a,e.next=4,i.load(t,(function(e){o.meshData=new m.tb(e),o.mixer=new m.d(e.scene),o.mixer.timeScale=1;var t=new m.sb(e.scene);t.visible=!1,x.add(t),e.scene.traverse((function(e){e.isMesh&&(e.castShadow=o.castShadow,e.receiveShadow=o.receiveShadow,n&&(e.material.flatShading=n))})),o.scene=e.scene,o.meshData=e.scene.children,o.mesh=e.scene,o.anim=e,x.add(e.scene)}),void 0,(function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAnimation",value:function(e){if(null!==this.meshData&&this.currentAnimation!==e){this.currentAnimation=e;var t=m.c.findByName(this.anim,e);null!==this.action&&this.action.stop(),this.action=this.mixer.clipAction(t),null!==this.action&&this.action.play()}}},{key:"Animate",value:function(){null!==this.mixer&&this.mixer.update(M.deltaTime)}}]),e}(),F=new function e(){var t=this;Object(r.a)(this,e),this.LoadMesh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return null===e&&console.log("LoadMesh requires name"),null===n&&console.log("LoadMesh requires a path"),new Promise((function(r,l){if(i){var h=new B(n,o,a,s);t.meshes[e]=h,r(h)}else{var c=new P(null,o,a,s);c.LoadMesh(n).then((function(n){t.meshes[e]=c,r(c)})).catch((function(e){l(e)}))}}))},this.meshes={},this.sounds={}};Object.freeze(F);var A=F,E=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:k.zero,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:z.Identity();Object(r.a)(this,e),this.LoadModel=function(){var e=Object(g.a)(y.a.mark((function e(n,i){var o,a=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.length>2&&void 0!==a[2]&&a[2],null!==i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,A.LoadMesh(n,i,t.skinnedMesh,t.castShadow,t.recieveShadow,o).then((function(e){t.model=e,t.setPosition(t.position),t.setRotation(t.rotation)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.position=h,this.rotation=c,this.scale=new k(0,0,0),this.isEnabled=!0,this.texture=null,this.model=null,this.skinnedMesh=o,this.forward=k.forward,this.objID=e.id,this.rigidBody=null,this.castShadow=a,this.recieveShadow=s,this.allowUpdate=!0,this.name=n,e.id++,this.LoadModel(n,i,l),x.addGameObject(this)}return Object(l.a)(e,[{key:"setEnabled",value:function(e){this.isEnabled=e,this.isEnabled?x.enableObject(this):x.disableObject(this)}},{key:"setRotation",value:function(e){this.rotation=z.FromEuler(e.x,e.y,e.z),null!==this.rigidBody&&this.rigidBody.setRotation(this.rotation)}},{key:"setQuaternion",value:function(e){this.rotation=e,null!==this.rigidBody&&this.rigidBody.setQuaternion(new b.a.btQauternion(e.x,e.y,e.z,e.w))}},{key:"rotate",value:function(e){if(null!==this.rigidBody){var t=k.zero;this.rigidBody.setRotation(t);var n=k.Add(e,new k(t.x,t.y,t.z));this.rotation=z.FromEuler(n.x,n.y,n.z),this.rigidBody.setRotation(this.rotation)}else this.rotation=k.Add(this.rotation,e)}},{key:"setPosition",value:function(e){this.position=e,null!==this.rigidBody&&this.rigidBody.setPosition(this.position)}},{key:"move",value:function(e){null!==this.rigidBody?(this.position=this.rigidBody.GetPosition(),this.position=k.Add(this.position,e),this.rigidBody.setPosition(new k(this.position.x,this.position.y,this.position.z))):this.position=k.Add(this.position,e)}},{key:"setScale",value:function(e){this.scale=e}},{key:"changeScale",value:function(e){this.scale.x+=e.x,this.scale.y+=e.y,this.scale.z+=e.z}},{key:"update",value:function(){if(this.allowUpdate&&(null!==this.rigidBody&&(this.position=this.rigidBody.GetPosition(),this.rotation=this.rigidBody.GetRotation()),null!==this.model&&this.model.hasOwnProperty("mesh")&&null!==this.model.mesh)){var e=this.rotation.Euler();this.model.mesh.position.set(this.position.x,this.position.y,this.position.z),this.model.mesh.rotation.set(e.x,e.y,e.z)}}},{key:"lateUpdate",value:function(){}},{key:"addRigidBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.zero,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z.Identity();this.rigidBody=new T(n,t,i,e)}},{key:"render",value:function(){this.skinnedMesh&&this.model&&this.model.Animate()}},{key:"collision",value:function(e){}}]),e}();E.id=0;var I=n(16),C=new(function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).mainCamera=new m.db(60,1024/600,.1,1e3),e.target=null,e.heigth=3,e.distance=5,e.position=k.zero,x.addGameObject(Object(I.a)(e)),e}return Object(l.a)(n,[{key:"Configure",value:function(e,t,n,i){this.mainCamera=new m.db(e,t,n,i)}},{key:"Move",value:function(e){this.mainCamera.translateX(e.x),this.mainCamera.translateY(e.y),this.mainCamera.translateZ(e.z)}},{key:"Rotate",value:function(e){this.mainCamera.rotation.set(e.x,e.y,e.z)}},{key:"SetPosition",value:function(e){this.mainCamera.position.set(e.x,e.y,e.z)}},{key:"GetCamera",value:function(){return this.mainCamera}},{key:"lateUpdate",value:function(){if(null!==this.target){this.position=k.Add(this.target.position,new k(0,this.heigth,this.distance)),this.rotation=z.LookAt(this.position,this.target.position,k.up),this.SetPosition(this.position);var e=this.rotation.Euler();this.Rotate(e)}}}]),n}(E)),j=new(function(){function e(){var t=this;Object(r.a)(this,e),this.vehicles=[],this.distFromVehicle=3,this.isReady=!1,this.ekey=new E("ekey",null,!1,!1,!0,!0,new k(-23.75,2,-10),z.Identity()),this.rkey=new E("rkey",null,!1,!1,!0,!0,new k(-23.75,2,-10),z.Identity()),this.ekey.LoadModel("ekey","./assets/models/ekey.glb",!0).then((function(){t.ekey.model.mesh.visible=!1})),this.rkey.LoadModel("rkey","./assets/models/rkey.glb",!0).then((function(){t.isReady=!0,t.rkey.model.mesh.visible=!1})),this.inRangeVehicle=null,this.vehicleInUse=null}return Object(l.a)(e,[{key:"addVehicle",value:function(e){this.vehicles.push(e)}},{key:"useVehicle",value:function(e){return null===this.inRangeVehicle?null:(this.inRangeVehicle.inUse=!0,C.target=this.inRangeVehicle,this.vehicleInUse=this.inRangeVehicle,this.inRangeVehicle)}},{key:"leaveVehicle",value:function(){this.vehicleInUse=null}},{key:"updateEKey",value:function(){if(null!==this.inRangeVehicle){var e=this.inRangeVehicle.position;this.ekey.setPosition(new k(e.x,e.y+1,e.z)),this.ekey.model.mesh.visible=!0}else this.ekey.model.mesh.visible=!1;if(this.ekey.model.mesh.visible){var t=new k(C.position.x,0,C.position.z),n=new k(this.ekey.position.x,0,this.ekey.position.z),i=z.LookRotation(k.Subtract(t,n),k.up);this.ekey.setRotation(k.MultiplyScalar(i.Euler(),v.deg2Rad))}}},{key:"updateRKey",value:function(){if(null!==this.vehicleInUse)if(this.vehicleInUse.inUse&&this.vehicleInUse.isUpsideDown()){var e=this.vehicleInUse.position;this.rkey.setPosition(new k(e.x,e.y+1,e.z)),this.rkey.model.mesh.visible=!0}else this.rkey.model.mesh.visible=!1}},{key:"findInRangeVehicle",value:function(e){this.inRangeVehicle=null;for(var t=this.distFromVehicle+1,n=0;n<this.vehicles.length;n++){var i=this.vehicles[n].position;i=new k(i.x,i.y,i.z);var o=k.Distance(e,i);o<t&&o<=3&&!this.vehicles[n].inUse&&(t=o,this.inRangeVehicle=this.vehicles[n])}}},{key:"checkVehicleInRange",value:function(e){this.isReady&&(this.findInRangeVehicle(e),this.updateEKey(),this.updateRKey())}}]),e}()),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r.a)(this,e),this.x=t,this.y=n}return Object(l.a)(e,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"magnitude",value:function(){return this.length()}},{key:"normalize",value:function(){var e=this.magnitude();if(v.approximate(e,0))return this.x=0,this.y=0,void(this.z=0);this.x/=e,this.y/=e,this.z/=e}},{key:"toString",value:function(){return"( x: "+this.x+"  y: "+this.y+"  z: "+this.z+" )"}}],[{key:"add",value:function(t,n){var i=new e(0,0);return i.x=t.x+n.x,i.y=t.y+n.y,i}},{key:"subtract",value:function(t,n){var i=new e(0,0);return i.x=t.x-n.x,i.y=t.y-n.y,i}},{key:"multiply",value:function(t,n){var i=new e(0,0);return i.x=t.x*n.x,i.y=t.y*n.y,i}},{key:"addScalar",value:function(t,n){var i=new e(0,0);return i.x=t.x+n,i.y=t.y+n,i}},{key:"subtractScalar",value:function(t,n){var i=new e(0,0,0);return i.x=t.x-n,i.y=t.y-n,i}},{key:"multiplyScalar",value:function(t,n){var i=new e(0,0);return i.x=t.x*n,i.y=t.y*n,i}},{key:"distance",value:function(t,n){var i=e.subtract(n,t),o=Math.sqrt(i.x*i.x+i.y*i.y);return o}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"Equals",value:function(e,t){return e.x>t.x-Number.EPSILON&&e.x<t.x+Number.EPSILON&&e.y>t.y-Number.EPSILON&&e.y<t.y+Number.EPSILON}},{key:"zero",get:function(){return new e(0,0)}},{key:"one",get:function(){return new e(1,1)}},{key:"up",get:function(){return new e(0,1)}},{key:"down",get:function(){return new e(0,-1)}},{key:"left",get:function(){return new e(-1,0)}},{key:"right",get:function(){return new e(1,0)}}]),e}(),V=n(34),N=n.n(V),_=new(function(){function e(){var t=this;Object(r.a)(this,e),this.Buttons={BUTTON_BOTTOM:0,BUTTON_RIGHT:1,BUTTON_LEFT:2,BUTTON_TOP:3,BUMPER_LEFT:4,BUMPER_RIGHT:5,TRIGGER_LEFT:6,TRIGGER_RIGHT:7,BUTTON_CONTROL_LEFT:8,BUTTON_CONTROL_RIGHT:9,BUTTON_JOYSTICK_LEFT:10,BUTTON_JOYSTICK_RIGHT:11,D_PAD_UP:12,D_PAD_BOTTOM:13,D_PAD_LEFT:14,D_PAD_RIGHT:15,BUTTON_CONTROL_MIDDLE:16},this.buttonsDown=new Map,this.buttonsPressed=new Map,this.connected=!1,N.a.start(),this.leftAxis=D.zero,this.rightAxis=D.zero,N.a.addEventListener("connect",(function(e){t.connected=!0,e.gamepad.addEventListener("joystickmove",(function(e){t.leftAxis=new D(e.horizontalValue,e.verticalValue)}),[0,1]),e.gamepad.addEventListener("joystickmove",(function(e){t.rightAxis=new D(e.horizontalValue,e.verticalValue)}),[2,3]),e.gamepad.addEventListener("buttonpress",(function(e){t.addButton(e.index)})),e.gamepad.addEventListener("buttonrelease",(function(e){t.removeButton(e.index)}))})),N.a.addEventListener("disconnect",(function(e){t.connected=!1}))}return Object(l.a)(e,[{key:"deadzone",value:function(e){var t=e;return Math.abs(t.x)<.015&&(t.x=0),Math.abs(t.y)<.015&&(t.y=0),t}},{key:"leftStick",value:function(){return this.connected?this.deadzone(this.leftAxis):D.zero}},{key:"rightStick",value:function(){return this.connected?this.deadzone(this.rightAxis):D.zero}},{key:"addButton",value:function(e){this.buttonsDown.set(e,1),2!==this.buttonsPressed.get(e)&&this.buttonsPressed.set(e,1)}},{key:"removeButton",value:function(e){this.buttonsDown.delete(e),this.buttonsPressed.delete(e)}},{key:"isButtonDown",value:function(e){return this.buttonsDown.has(e)}},{key:"isButtonPressed",value:function(e){return!(!this.buttonsPressed.has(e)||1!==this.buttonsPressed.get(e))&&(this.buttonsPressed.set(e,2),!0)}},{key:"getTrigger",value:function(e){}},{key:"clearButtons",value:function(){this.buttonsDown.clear(),this.buttonsPressed.clear(),this.leftAxis=D.zero,this.rightAxis=D.zero}},{key:"isConnected",value:function(){return this.connected}}]),e}()),U=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:k.zero,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:z.Identity();return Object(r.a)(this,n),(e=t.call(this,i,o,a,s,l,h,c,d)).vehicle=null,e}return Object(l.a)(n,[{key:"changeAnimation",value:function(e){this.moveSpeed=5,null!==this.model&&this.model.playAnimation(e)}},{key:"update",value:function(){var e=d.isKeyPressed("e")||_.isButtonPressed(_.Buttons.BUTTON_TOP);if(e&&null===this.vehicle)this.vehicle=j.useVehicle();else if(e&&null!==this.vehicle){this.vehicle.inUse=!1,j.leaveVehicle();var t=this.vehicle.position;C.target=this,this.vehicle=null,this.setPosition(new k(t.x+2,1,t.z))}if(null!==this.vehicle&&"undefined"!==this.vehicle)return this.setPosition(new k(0,-100,0)),void Object(f.a)(Object(p.a)(n.prototype),"update",this).call(this);this.model&&this.model.hasOwnProperty("mixer")&&null!==this.model.mixer&&(this.model.mixer.timeScale=1);var i=0,o=0;(d.isKeyDown("w")||d.isKeyDown("ArrowUp"))&&(i=-1),(d.isKeyDown("s")||d.isKeyDown("ArrowDown"))&&(i=1),(d.isKeyDown("a")||d.isKeyDown("ArrowLeft"))&&(o=-1),(d.isKeyDown("d")||d.isKeyDown("ArrowRight"))&&(o=1);var a=_.leftStick();D.Equals(a,D.zero)||(a.normalize(),o=a.x,i=a.y);var s=new m.Cb(o,0,i);s.normalize(),k.Equals(s,k.zero)?this.changeAnimation("Rest"):(this.forward=s.normalize(),this.move(new k(3*this.forward.x*M.deltaTime,0,3*this.forward.z*M.deltaTime)),this.changeAnimation("Walk"));var r=k.Angle(k.back,this.forward);this.setRotation(new k(0,r,0)),Object(f.a)(Object(p.a)(n.prototype),"update",this).call(this)}},{key:"collision",value:function(e){}}]),n}(E),W=function(){function e(){Object(r.a)(this,e),this.renderer=null}return Object(l.a)(e,[{key:"InitRenderer",value:function(e,t,n,i){var o=this;return new Promise((function(a,s){o.renderer=new m.Fb({canvas:e,alpha:!1,antialias:!0,precision:"highp",powerPreference:"high-performance"}),o.renderer.setSize(t,n),o.renderer.shadowMap.enabled=!0,o.renderer.shadowMap.type=m.cb,o.renderer.cullFace=m.o,o.renderer.outputEncoding=m.v,o.renderer.autoClear=!0,o.renderer.setClearColor("skyblue",1),o.renderer.clearAlpha=1,o.renderer.setAnimationLoop(i),null!==o.renderer?a(o.renderer):s("Error creating renderer")}))}},{key:"Render",value:function(e,t){this.renderer.render(e,t)}}]),e}(),G=n(46),K=n(41),q=n(47),H=n(26),Q=n(42),Y=n(48),J=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"init",value:function(e){this.composer=new Y.a(e),this.renderPass=new Q.a(x.getScene(),C.mainCamera),this.renderPass.clearColor=new m.n("skyblue"),this.renderPass.clearAlpha=1,this.composer.addPass(this.renderPass),this.bokeh=null,this.bloom=null,this.ffxa=null,this.renderer=e}},{key:"isUsingEffects",value:function(){return this.bokeh||this.bloom||this.fxaa}},{key:"addFXAA",value:function(){this.ffxa=new H.a(K.a),this.ffxa.uniforms.resolution.value.set(1/x.screenWidth*5,1/x.screenHeight),this.composer.addPass(this.ffxa)}},{key:"addBokeh",value:function(){this.bokeh=new q.a(x.scene,C.mainCamera,{focus:3e3,aperture:.002,maxblur:.0025,width:x.width,height:x.height}),this.composer.addPass(this.bokeh)}},{key:"addBloom",value:function(){this.bloom=new G.a(new m.Bb(x.screenWidth,x.screenHeight),.3,.4,.8),this.composer.addPass(this.bloom)}},{key:"render",value:function(){this.renderPass.camera=C.mainCamera,this.composer.render(M.deltaTime)}}]),e}()),X=new(function(){function e(){Object(r.a)(this,e),this.listener=new m.e,C.mainCamera.add(this.listener)}return Object(l.a)(e,[{key:"LoadSound",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return new Promise((function(o,a){var s=new m.f,r=new m.ib(t.listener);try{s.load(e,(function(e){null===e&&a("Error loading sound"),r.setBuffer(e),r.setLoop(n),r.setVolume(i),r.setRefDistance(20),o(r)}))}catch(l){o(l)}}))}}]),e}());Object.freeze(X);var Z=X,$=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(e){var i;Object(r.a)(this,n),(i=t.call(this)).inUse=!1,i.castShadow=!0,i.recieveShadow=!0,i.skinnedMesh=!1,i.topSpeed=e.topSpeed,i.steeringRate=5,i.accelRate=e.accelRate,i.breakForce=e.breakForce,i.accelForceFront=e.accelForceFront,i.accelForceBack=e.accelForceBack,i.reverse=!1,i.engineSound=null,i.tireSquealSound=null,i.enginePitch=e.enginePitch,i.centerOfMass=e.centerOfMass,i.downForce=e.downForce,i.options=e,Z.LoadSound("./assets/sounds/engine.wav",!0,.1).then((function(t){i.engineSound=t,A.LoadMesh(e.bodyModel,e.bodyModel,!1,!0,!0,!1).then((function(e){i.model=e,i.engineSound.parrent=i.model,i.setPosition(i.position),i.setRotation(i.rotation)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),Z.LoadSound("./assets/sounds/tiresqueal.wav",!0,.5).then((function(e){i.tireSquealSound=e})).catch((function(e){console.log(e)})),i.bodyShape=R.createBoxShape(new k(e.bodyWidth,e.bodyHeight,e.bodyLength));var o=new b.a.btTransform;o.setIdentity(),o.setOrigin(new b.a.btVector3(e.position.x,e.position.y,e.position.z)),o.setRotation(new b.a.btQuaternion(e.rotation.x,e.rotation.y,e.rotation.z,e.rotation.w));var a=new b.a.btDefaultMotionState(o),s=new b.a.btVector3(0,0,0);i.bodyShape.calculateLocalInertia(e.mass,s),i.body=new b.a.btRigidBody(new b.a.btRigidBodyConstructionInfo(e.mass,a,i.bodyShape,s)),i.body.setActivationState(4),R.world.addRigidBody(i.body),i.tuning=new b.a.btVehicleTuning,i.raycaster=new b.a.btDefaultVehicleRaycaster(R.world),i.vehicle=new b.a.btRaycastVehicle(i.tuning,i.body,i.raycaster),i.vehicle.setCoordinateSystem(0,1,2),R.world.addAction(i.vehicle),x.addGameObject(Object(I.a)(i)),i.wheelModels=[],i.wheelModels.push(new E(e.wheelLeftModel,e.wheelLeftModel,!1,!0,!0)),i.wheelModels.push(new E(e.wheelRightModel,e.wheelRightModel,!1,!0,!0)),i.wheelModels.push(new E(e.wheelRightModel,e.wheelRightModel,!1,!0,!0)),i.wheelModels.push(new E(e.wheelLeftModel,e.wheelLeftModel,!1,!0,!0));for(var l=0;l<i.wheelModels.length;l++)i.wheelModels[l].allowUpdate=!1;return i.wheelInfo=[],i.wheelInfo.push(i.createWheel(e,!0,e.frontLeftPos,new k(0,-1,0),new k(-1,0,0))),i.wheelInfo.push(i.createWheel(e,!0,e.frontRightPos,new k(0,-1,0),new k(-1,0,0))),i.wheelInfo.push(i.createWheel(e,!1,e.backRightPos,new k(0,-1,0),new k(-1,0,0))),i.wheelInfo.push(i.createWheel(e,!1,e.backLeftPos,new k(0,-1,0),new k(-1,0,0))),i.tuning=new b.a.btVehicleTuning,i.currentAccelFront=0,i.currentAccelBack=0,i.currentBrakingFront=0,i.currentBrakingBack=0,i.steeringAngle=0,i.speed=0,j.addVehicle(Object(I.a)(i)),i}return Object(l.a)(n,[{key:"createWheel",value:function(e,t,n,i,o){var a=this.vehicle.addWheel(n.to_btVector3(),i.to_btVector3(),o.to_btVector3(),e.suspensionLen,e.radius,this.tuning,t);a.set_m_suspensionStiffness(e.stiffness),a.set_m_wheelsDampingRelaxation(e.damping),a.set_m_wheelsDampingCompression(e.compression);var s=t?e.frontFriction:e.backFriction;return a.set_m_frictionSlip(s),a.set_m_rollInfluence(e.roll),a}},{key:"isUpsideDown",value:function(){var e=this.rotation.Euler();return Math.abs(e.x)>=40||Math.abs(e.z)>=40}},{key:"updateInput",value:function(){if(this.isUpsideDown()&&this.inUse&&d.isKeyDown("r")){var e=new k(this.position.x,this.position.y+1.5,this.position.z),t=new z(0,this.rotation.y,0,this.rotation.w),n=new b.a.btQuaternion(t.x,t.y,t.z,t.w);this.body.getWorldTransform().setOrigin(k.toBTV3(e)),this.body.getWorldTransform().setRotation(n),this.body.getMotionState().setWorldTransform(this.body.getWorldTransform())}if(this.inUse){if(_.isConnected()){var i=_.leftStick();D.Equals(i,D.zero)||(this.steeringAngle=-25*i.x)}null===this.engineSound||this.engineSound.isPlaying||this.engineSound.play(),this.reverse=!1,(d.isKeyDown("w")||d.isKeyDown("ArrowUp")||_.isButtonDown(_.Buttons.TRIGGER_RIGHT))&&this.speed<=this.topSpeed?(this.currentBrakingFront=0,this.currentBrakingBack=0,this.currentAccelBack=this.accelForceBack*this.accelRate,this.currentAccelFront=this.accelForceFront*this.accelRate):(this.currentAccelBack=0,this.currentAccelFront=0,this.currentBrakingFront=.5,this.currentBrakingBack=.5),(d.isKeyDown("s")||d.isKeyDown("ArrowDown")||_.isButtonDown(_.Buttons.TRIGGER_LEFT))&&(this.reverse=!0,this.speed<=0?(this.currentBrakingFront=0,this.currentBrakingBack=0,this.currentAccelBack=-.5*this.accelForceBack*this.accelRate,this.currentAccelFront=-.5*this.accelForceFront*this.accelRate):(this.currentBrakingFront=.25*this.breakForce,this.currentBrakingBack=.25*this.breakForce)),d.isKeyDown("a")||d.isKeyDown("ArrowLeft")?this.steeringAngle+=15*this.steeringRate*M.deltaTime:d.isKeyDown("d")||d.isKeyDown("ArrowRight")?this.steeringAngle-=15*this.steeringRate*M.deltaTime:this.steeringAngle=v.moveTowards(this.steeringAngle,0,this.steeringRate*M.deltaTime),this.steeringAngle=v.clamp(this.steeringAngle,-25,25)}else null!==this.engineSound&&this.engineSound.isPlaying&&this.engineSound.stop()}},{key:"updateSound",value:function(){Math.abs(this.body.getAngularVelocity().y())>1?null!==this.tireSquealSound&&null!==this.model&&(this.tireSquealSound.isPlaying||this.tireSquealSound.play(),this.tireSquealSound.panner.setPosition(this.model.mesh.position.x,this.model.mesh.position.y,this.model.mesh.position.z),this.tireSquealSound.setPlaybackRate(.7),this.tireSquealSound.setDetune(-250)):null!==this.tireSquealSound&&this.tireSquealSound.isPlaying&&this.tireSquealSound.stop(),null!==this.engineSound&&null!==this.model&&this.engineSound.isPlaying&&this.model.mesh&&(this.engineSound.setDetune(10*(Math.abs(this.speed)+this.enginePitch)),this.engineSound.panner.setPosition(this.model.mesh.position.x,this.model.mesh.position.y,this.model.mesh.position.z))}},{key:"updateWheels",value:function(){for(var e=0;e<this.vehicle.getNumWheels();e++){this.vehicle.updateWheelTransform(e,!1);var t=this.vehicle.getWheelTransformWS(e),n=t.getOrigin(),i=t.getRotation();this.wheelModels[e].model&&this.wheelModels[e].model.mesh&&(this.wheelModels[e].model.mesh.position.set(n.x(),n.y(),n.z()),this.wheelModels[e].model.mesh.quaternion.set(i.x(),i.y(),i.z(),i.w()))}}},{key:"updateRigidBody",value:function(){var e=this.body.getWorldTransform(),t=e.getOrigin(),n=e.getRotation();this.model&&this.model.mesh&&(this.model.mesh.position.set(t.x(),t.y(),t.z()),this.model.mesh.quaternion.set(n.x(),n.y(),n.z(),n.w()),this.position=new k(t.x(),t.y(),t.z()),this.rotation=new z(n.x(),n.y(),n.z(),n.w()))}},{key:"updateSpeed",value:function(){var e=this.vehicle.getRigidBody().getLinearVelocity().length()-.163;e<.009&&(e=0);var t=this.reverse&&this.speed<.05?-1:1;this.speed=9.8*e*t}},{key:"updateMovement",value:function(){this.vehicle.applyEngineForce(this.currentAccelFront,0),this.vehicle.applyEngineForce(this.currentAccelFront,1),this.vehicle.applyEngineForce(this.currentAccelBack,2),this.vehicle.applyEngineForce(this.currentAccelBack,3)}},{key:"updateSteering",value:function(){this.vehicle.setBrake(this.currentBrakingFront,0),this.vehicle.setBrake(this.currentBrakingFront,1),this.vehicle.setBrake(this.currentBrakingBack/2,2),this.vehicle.setBrake(this.currentBrakingBack/2,3),this.vehicle.setSteeringValue(0,3),this.vehicle.setSteeringValue(0,2),this.vehicle.setSteeringValue(this.steeringAngle*v.deg2Rad,0),this.vehicle.setSteeringValue(this.steeringAngle*v.deg2Rad,1)}},{key:"resetMovementWhenNotInUse",value:function(){this.inUse||(this.currentBrakingFront=.25*this.breakForce,this.currentBrakingBack=.25*this.breakForce,this.currentAccelBack=0,this.currentAccelFront=0)}},{key:"update",value:function(){C.mainCamera.add(Z.listener),this.body.applyCentralImpulse(new b.a.btVector3(0,-Math.abs(this.speed)*this.downForce,0)),this.resetMovementWhenNotInUse(),this.updateInput(),this.updateSound(),this.updateMovement(),this.updateSteering(),this.updateWheels(),this.updateRigidBody(),this.updateSpeed()}}]),n}(E),ee=new(function(){function e(){Object(r.a)(this,e),this.infoStations=[],this.activationDistance=.75,this.inUse=!1}return Object(l.a)(e,[{key:"addInfoStation",value:function(e,t){this.infoStations.push({position:e,name:t})}},{key:"update",value:function(){for(var e=!1,t="",n=10,i=0;i<this.infoStations.length;i++){var o=k.Distance(this.infoStations[i].position,ne.player.position);if(o<n&&(n=o),o<=this.activationDistance&&!this.inUse){this.inUse=!0,e=!0,t=this.infoStations[i].name;break}}n>this.activationDistance&&(this.inUse=!1),e&&(d.clearKeys(),ne.openModal(t))}}]),e}()),te=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(e){var i;switch(Object(r.a)(this,n),(i=t.call(this)).options=e,e.lightType){case n.LightType.DIRECTIONAL:i.createDirectionalLight();break;case n.LightType.POINT:case n.LightType.SPOT:break;case n.LightType.AMBIENT:i.createAmbientLight();break;default:console.log("Unkown light type")}return i}return Object(l.a)(n,[{key:"createDirectionalLight",value:function(){this.light=new m.p(this.options.color,this.options.intensity),this.light.castShadow=this.options.castShadow,this.light.shadow.mapSize.width=this.options.shadowMapWidth,this.light.shadow.mapSize.height=this.options.shadowMapHeight,this.light.shadow.camera.near=this.options.cameraNear,this.light.shadow.camera.far=this.options.cameraFar,this.light.shadow.bias=this.options.shadowBias,this.light.shadow.camera.top=this.options.shadowCameraSize,this.light.shadow.camera.bottom=-this.options.shadowCameraSize,this.light.shadow.camera.left=-this.options.shadowCameraSize,this.light.shadow.camera.right=this.options.shadowCameraSize,this.light.target=new m.ab,x.add(this.light.target),x.add(this.light)}},{key:"createAmbientLight",value:function(){this.light=new m.b(this.options.color,this.options.intensity),x.add(this.light)}},{key:"update",value:function(){if(this.options.lightType===n.LightType.DIRECTIONAL){var e=C.position;this.light.position.set(e.x,1,e.z+5),this.light.target.position.set(this.options.target.x+e.x,this.options.target.y,this.options.target.z+e.z)}}}]),n}(E);te.LightType={DIRECTIONAL:0,POINT:1,SPOT:2,AMBIENT:3};var ne=new(function(){function e(){var t=this;Object(r.a)(this,e),this.InitRenderer=function(e,n,i){t.renderer=new W,t.renderer.InitRenderer(e,n,i,t.Animate).then((function(e){J.init(e)})).then((function(){}))},this.Load=Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.player=new U("player",null,!0,!0,!0,new k(0,1,0)),t.player.LoadModel("player","./assets/models/chris.glb",!0).then((function(){t.player.addRigidBody(1,R.createCapsuleShape(.25,.5,k.up),new k(0,1,0))})),t.ground=new E("ground","./assets/models/ground.glb",!1,!1,!0),t.ground.addRigidBody(0,R.createPlaneShape(k.up),new k(0,0,0)),t.grass=new E("grass","./assets/models/grass.glb",!1,!0,!0,!0,new k(0,0,-10)),t.moundSign=new E("moundsign","./assets/models/moundsign.glb",!1,!0,!0),t.moundSign.setPosition(new k(0,0,-10)),t.road=new E("road",null,!1,!0,!0,!0),t.road.LoadModel("road","./assets/models/road.glb",!0).then((function(){R.createMeshShape(t.road.model.mesh).then((function(e){t.road.addRigidBody(0,e,new k(0,0,-10))}))})),t.parkinglot=new E("parkinglot",null,!1,!0,!0,!0),t.parkinglot.LoadModel("parkinglot","./assets/models/parkinglot.glb",!0).then((function(){R.createMeshShape(t.parkinglot.model.mesh).then((function(e){t.parkinglot.addRigidBody(0,e,new k(0,0,-10))}))})),t.infostation=new E("infostation","./assets/models/infostation.glb",!1,!1,!0,!1,new k(0,0,-10)),t.infostationbase=new E("infostationbase",null,!1,!1,!0,!1,new k(0,0,-10)),t.infostationbase.LoadModel("infostation","./assets/models/infostationbase.glb",!0).then((function(){R.createMeshShape(t.infostationbase.model.mesh).then((function(e){t.infostationbase.addRigidBody(0,e,new k(0,0,-10))}))})),t.mightychicken=new E("mightychicken",null,!1,!0,!0,!0),t.mightychicken.LoadModel("mightychicken","./assets/models/mightychicken.glb",!0).then((function(){R.createMeshShape(t.mightychicken.model.mesh).then((function(e){t.mightychicken.addRigidBody(0,e,new k(0,0,-10))}))})),t.mightychickensign=new E("mightychickensign",null,!1,!0,!0,!0),t.mightychickensign.LoadModel("mightychickensign","./assets/models/mightychickensign.glb",!0).then((function(){R.createMeshShape(t.mightychickensign.model.mesh).then((function(e){t.mightychickensign.addRigidBody(0,e,new k(0,0,-10))}))})),t.mightychickensignpost=new E("mightychickensignpost",null,!1,!0,!0,!0),t.mightychickensignpost.LoadModel("mightychickensignpost","./assets/models/mightychickensignpost.glb",!0).then((function(){R.createMeshShape(t.mightychickensignpost.model.mesh).then((function(e){t.mightychickensignpost.addRigidBody(0,e,new k(0,0,-10))}))})),ee.addInfoStation(new k(-19.921,0,-7.5799),"roadracer"),ee.addInfoStation(new k(-41.183,0,-.5502),"mightychicken"),t.parkinglotcurb=new E("parkinglotcurb",null,!1,!0,!0,!0),t.parkinglotcurb.LoadModel("parkinglotcurb","./assets/models/parkinglotcurb.glb",!0).then((function(){R.createMeshShape(t.parkinglotcurb.model.mesh).then((function(e){t.parkinglotcurb.addRigidBody(0,e,new k(0,0,-10))}))})),t.garage=new E("garage",null,!1,!0,!0,!0),t.garage.LoadModel("garage","./assets/models/garage.glb",!0).then((function(){R.createMeshShape(t.garage.model.mesh).then((function(e){t.garage.addRigidBody(0,e,new k(0,0,-10))}))})),t.garagedoor=new E("garagedoor",null,!1,!0,!0,!0),t.garagedoor.LoadModel("garagedoor","./assets/models/garagedoor.glb",!0).then((function(){R.createMeshShape(t.garagedoor.model.mesh).then((function(e){t.garagedoor.addRigidBody(0,e,new k(0,0,-10))}))})),t.rrsign=new E("rrsign",null,!1,!0,!0,!0),t.rrsign.LoadModel("rrsign","./assets/models/rrsign.glb",!0).then((function(){R.createMeshShape(t.rrsign.model.mesh).then((function(e){t.rrsign.addRigidBody(0,e,new k(0,0,-10))}))})),t.mound=new E("mound",null,!1,!0,!0,!0),t.mound.LoadModel("mound","./assets/models/mound.glb",!0).then((function(){R.createMeshShape(t.mound.model.mesh).then((function(e){t.mound.addRigidBody(0,e,new k(0,0,-10))}))})),t.fenceleft=new E("fenceleft",null,!1,!0,!0,!0),t.fenceleft.LoadModel("fenceleft","./assets/models/fenceleft.glb",!0).then((function(){R.createMeshShape(t.fenceleft.model.mesh).then((function(e){t.fenceleft.addRigidBody(0,e,new k(0,0,-10))}))})),C.target=t.player,t.vehicle2=new $({breakForce:10,accelForceFront:0,accelForceBack:50,accelRate:2,downForce:.01,topSpeed:100,bodyWidth:1,bodyHeight:.5,bodyLength:2.128,mass:75,enginePitch:25,position:new k(-38.62,.56,-9.23),rotation:new z(0,.191,0,.982),centerOfMass:new k(0,-1,0),bodyModel:"./assets/models/classicbug.glb",wheelLeftModel:"./assets/models/classicbugwheelLeft.glb",wheelRightModel:"./assets/models/classicbugwheelRight.glb",stiffness:250,damping:2.3,compression:1.4,backFriction:.95,frontFriction:.95,roll:.25,radius:.25,suspensionLen:.075,backLeftPos:new k(-.4,-.2,-.654),backRightPos:new k(.4,-.2,-.654),frontRightPos:new k(.38,-.2,.719),frontLeftPos:new k(-.38,-.2,.719)}),t.vehicle=new $({breakForce:25,accelForceFront:0,accelForceBack:150,downForce:.01,accelRate:3,topSpeed:160,bodyWidth:1.25,bodyHeight:.6,bodyLength:2.128,mass:300,enginePitch:-100,position:new k(-24.438,.624,-10.447),rotation:new z(0,.191,0,.982),centerOfMass:new k(0,-1,0),bodyModel:"./assets/models/hotrod.glb",wheelLeftModel:"./assets/models/hotrodwheelLeft.glb",wheelRightModel:"./assets/models/hotrodwheelRight.glb",stiffness:50,damping:2.3,compression:2.4,backFriction:2,frontFriction:2,roll:.06,radius:.25,suspensionLen:.075,backLeftPos:new k(-.524,-.309,-.654),backRightPos:new k(.524,-.309,-.654),frontRightPos:new k(.524,-.309,.719),frontLeftPos:new k(-.524,-.309,.719)}),t.vehicle3=new $({breakForce:25,accelForceFront:180,accelForceBack:250,accelRate:1,downForce:.25,topSpeed:200,bodyWidth:1.15,bodyHeight:.5,bodyLength:2.128,mass:200,enginePitch:-50,position:new k(-27.407,.59,-9.5),rotation:new z(0,.191,0,.982),centerOfMass:new k(0,-1,0),bodyModel:"./assets/models/sportscar.glb",wheelLeftModel:"./assets/models/sportscarwheelLeft.glb",wheelRightModel:"./assets/models/sportscarwheelRight.glb",stiffness:200,damping:2.3,compression:2.4,backFriction:.85,frontFriction:.95,roll:.25,radius:.25,suspensionLen:.075,backLeftPos:new k(-.45,-.23,-.62),backRightPos:new k(.45,-.23,-.62),frontRightPos:new k(.45,-.23,.69),frontLeftPos:new k(-.45,-.23,.69)}),t.vehicle4=new $({breakForce:25,accelForceFront:0,accelForceBack:500,accelRate:1,downForce:.15,topSpeed:322,bodyWidth:1.15,bodyHeight:.35,bodyLength:2.128,mass:100,enginePitch:50,position:new k(-35.883,.295,-6.466),rotation:new z(0,.545,0,.8383),centerOfMass:new k(0,-1,0),bodyModel:"./assets/models/racecar.glb",wheelLeftModel:"./assets/models/racecarwheelLeft.glb",wheelRightModel:"./assets/models/racecarwheelRight.glb",stiffness:500,damping:2.3,compression:2.4,backFriction:5,frontFriction:5,roll:0,radius:.25,suspensionLen:.01,backLeftPos:new k(-.4,0,-.8),backRightPos:new k(.4,0,-.8),frontRightPos:new k(.4,0,.67),frontLeftPos:new k(-.4,0,.67)}),t.vehicle5=new $({breakForce:10,accelForceFront:0,accelForceBack:250,accelRate:1,downForce:.01,topSpeed:100,bodyWidth:1,bodyHeight:1.5,bodyLength:2.128,mass:500,enginePitch:-100,position:new k(-33.75,.649,-10.43),rotation:new z(0,.191,0,.982),centerOfMass:new k(0,-1,0),bodyModel:"./assets/models/truck.glb",wheelLeftModel:"./assets/models/truckwheelLeft.glb",wheelRightModel:"./assets/models/truckwheelRight.glb",stiffness:250,damping:2.3,compression:1.4,backFriction:.95,frontFriction:.95,roll:.25,radius:.25,suspensionLen:.1,backLeftPos:new k(-.45,-.5,-.6),backRightPos:new k(.45,-.5,-.6),frontRightPos:new k(.45,-.5,.95),frontLeftPos:new k(-.45,-.5,.95)}),t.vehicle5=new $({breakForce:20,accelForceFront:0,accelForceBack:250,accelRate:1,downForce:.2,topSpeed:150,bodyWidth:1,bodyHeight:1,bodyLength:2.128,mass:300,enginePitch:-100,position:new k(-30.404,.649,-8.43),rotation:new z(0,.191,0,.982),centerOfMass:new k(0,-1,0),bodyModel:"./assets/models/pickup.glb",wheelLeftModel:"./assets/models/pickupwheelLeft.glb",wheelRightModel:"./assets/models/pickupwheelRight.glb",stiffness:50,damping:2.3,compression:1.4,backFriction:.95,frontFriction:.95,roll:.25,radius:.25,suspensionLen:.125,backLeftPos:new k(-.425,-.3,-.79),backRightPos:new k(.425,-.3,-.79),frontRightPos:new k(.425,-.3,.71),frontLeftPos:new k(-.425,-.3,.71)}),e(!0)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.Animate=function(){t.isModalOpen()&&(_.clearButtons(),d.clearKeys()),M.Update(),R.update(),j.checkVehicleInRange(t.player.position),ee.update(),x.update(),J.isUsingEffects()?J.render():t.renderer.Render(x.getScene(),C.mainCamera),t.fpsTime+=M.deltaTime,t.fps++,t.fpsTime>=1&&(t.fps=0,t.fpsTime=0)},this.fps=0,this.fpsTime=0,x.setExpoFog("skyblue",.01),this.light=new te({lightType:te.LightType.DIRECTIONAL,color:16777215,intensity:1,castShadow:!0,shadowMapWidth:8e3,shadowMapHeight:8e3,cameraNear:.1,cameraFar:500,shadowBias:-25e-5,shadowCameraSize:50,target:new k(-5,-5,-5)}),this.ambientLight=new te({lightType:te.LightType.AMBIENT,color:16777215,intensity:.5}),this.Load().then((function(){})),requestAnimationFrame(this.Animate)}return Object(l.a)(e,[{key:"SetOpenModalCallback",value:function(e,t){this.openModal=e,this.isModalOpen=t}},{key:"GetRenderer",value:function(){return this.renderer.renderer}}]),e}()),ie=n(98),oe=n(102),ae=n(101),se=(n(40),n(43)),re=n.n(se),le=function(e){var t=e.isOpen,n=e.closeModal,i={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},image:{backgroundImage:"url("+re.a+")",backgorundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"30%",margin:"10px"},promoText:{width:"100%",margin:"10px",color:"white",fontFamily:"Ubuntu"},contentText:{width:"100%",margin:"10px",color:"white",fontFamily:"Ubuntu"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white",fontFamily:"Ubuntu"},closeButton:{marginTop:"10px",color:"white",fontFamily:"Ubuntu"}},a=Object(ie.a)((function(e){return{main:{position:"absolute",width:600,height:"75%",backgroundColor:"rgb(40.9%, 38.5%, 52.3%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"rgb(29.9%, 28.2%, 37.8%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return o.a.createElement(oe.a,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement("div",{style:i.modal,className:a.main},o.a.createElement("div",{style:i.image}),o.a.createElement("div",{style:i.promoText},"Tilt to steer, swipe to jump over obstacles, buy cars to unlock Powerups and collect coins to upgrade them, collect gears for rewinds and see how far you can race!"),o.a.createElement("div",{style:i.promoText},o.a.createElement("div",{style:i.contentText}," - Custom C++ engine on iOS "),o.a.createElement("div",{style:i.contentText}," - Unity 3D on Android and Windows Phone "),o.a.createElement("div",{style:i.contentText}," - PHP and MYSQL backend to facilitate in game events and app usage insight "),o.a.createElement("div",{style:i.contentText}," - Firebase integration "),o.a.createElement("div",{style:i.contentText}," - Admob for interstitial ads and reward ads "),o.a.createElement("div",{style:i.contentText}," - Game Center integration on iOS and Google Play Services integration on Android "),o.a.createElement("div",{style:i.contentText}," - Push notification "),o.a.createElement("div",{style:i.contentText}," - In App Purchases (consumable and non-consumable) "),o.a.createElement("div",{style:i.contentText}," - Procedurally generated levels ")),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Apple App Store:")," ",o.a.createElement("a",{href:"https://itunes.apple.com/us/app/road-racer/id575817068?mt=8",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Road Racer")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Google Play Store:"),"  ",o.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.intoxic8studio.roadracer",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Road Racer 168")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Website:"),"  ",o.a.createElement("a",{href:"http://intoxic8studio.com/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Intoxic8 Studio LLC"))),o.a.createElement(ae.a,{style:i.closeButton,className:a.button,onClick:n},"Close")))},he=n(45),ce=n.n(he),de=function(e){var t=e.isOpen,n=e.closeModal,i={modal:{display:"flex",flexDirection:"column",top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},image:{backgroundImage:"url("+ce.a+")",backgorundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"30%",margin:"10px"},promoText:{width:"100%",margin:"10px",color:"white",fontFamily:"Ubuntu"},contentText:{width:"100%",margin:"10px",color:"white",fontFamily:"Ubuntu"},linkSection:{display:"flex",flexDirection:"row"},linkText:{width:"150px",color:"white",fontFamily:"Ubuntu"},closeButton:{marginTop:"10px",color:"white",fontFamily:"Ubuntu"}},a=Object(ie.a)((function(e){return{main:{position:"absolute",width:600,height:"65%",backgroundColor:"rgb(100%, 54.9%, 0%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"},button:{backgroundColor:"rgb(78.8%, 43.4%, 0.2%)",border:"0px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}}))();return o.a.createElement(oe.a,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement("div",{style:i.modal,className:a.main},o.a.createElement("div",{style:i.image}),o.a.createElement("div",{style:i.promoText},"Dodge the mutant robo fish, killer bomb, spinning blades and poisonous arrow! Avoid getting sliced in half in the spear cave."),o.a.createElement("div",{style:i.promoText},o.a.createElement("div",{style:i.contentText}," - Unity 3D on Android and iOS "),o.a.createElement("div",{style:i.contentText}," - Firebase integration "),o.a.createElement("div",{style:i.contentText}," - Admob and Unity Ads for interstitial ads and reward ads "),o.a.createElement("div",{style:i.contentText}," - Game Center integration on iOS and Google Play Services integration on Android "),o.a.createElement("div",{style:i.contentText}," - Push notification "),o.a.createElement("div",{style:i.contentText}," - In App Purchases ")),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Apple App Store:")," ",o.a.createElement("a",{href:"https://itunes.apple.com/us/app/mighty-chicken-and-friends/id1422459374?ls=1",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Mighty Chicken iOS")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Google Play Store:"),"  ",o.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.intoxic8studio.mightychicken",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Mighty Chicken Android")),o.a.createElement("div",{style:i.linkSection},o.a.createElement("span",{style:i.linkText},"Website:"),"  ",o.a.createElement("a",{href:"http://www.themightychicken.com/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},"Mighty Chicken"))),o.a.createElement(ae.a,{style:i.closeButton,className:a.button,onClick:n},"Close")))},ue=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).Load=function(){i.isLoaded||(i.isLoaded=!0,x.setScreenSize(document.body.clientWidth,document.body.clientHeight),C.Configure(60,x.aspectRatio,.1,1e3),ne.InitRenderer(i.canvas,x.screenWidth,x.screenHeight),ne.SetOpenModalCallback(i.openModal,i.isModalOpen),i.canvas.focus())},i.ScreenResize=function(){null!==i.canvas&&"undefined"!==i.canvas&&(x.setScreenSize(document.body.clientWidth,document.body.clientHeight),C.Configure(60,x.aspectRatio,.1,1e3),ne.GetRenderer().setSize(x.screenWidth,x.screenHeight))},i.clearInput=function(){d.clearKeys()},i.closeModal=function(){i.setState({currentModal:"none"})},i.openModal=function(e){i.setState({currentModal:e})},i.isModalOpen=function(){return"none"!==i.state.currentModal},i.canvas=null,i.isLoaded=!1,i.state={currentModal:"none"},window.addEventListener("resize",i.ScreenResize),i}return Object(l.a)(n,[{key:"gamepadConnected",value:function(e){console.log(e)}},{key:"gamepadeDisconnected",value:function(e){console.log(e)}},{key:"HandleKeyPress",value:function(e){e.preventDefault(),e.stopPropagation(),d.addKey(e.key)}},{key:"HandleKeyUp",value:function(e){e.preventDefault(),e.stopPropagation(),d.removeKey(e.key)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{width:"100vw",height:"100vh",padding:0,margin:0,overflow:"hidden"}},o.a.createElement("canvas",{style:{display:"block",width:"100vw",height:"100vh",position:"fixed"},tabIndex:"0",onKeyDown:this.HandleKeyPress,onKeyUp:this.HandleKeyUp,ref:function(t){e.canvas=t,e.Load()},onBlur:this.clearInput}),o.a.createElement(le,{isOpen:"roadracer"===this.state.currentModal,closeModal:this.closeModal}),o.a.createElement(de,{isOpen:"mightychicken"===this.state.currentModal,closeModal:this.closeModal}))}}]),n}(o.a.Component),ye=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement(ue,{style:{width:"100%",height:"100%",padding:0,margin:0,overflow:"hidden"}})}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.ecbf37c6.chunk.js.map